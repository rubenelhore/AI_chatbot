(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ym={exports:{}},xu={},vm={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function XP(){if(Ww)return We;Ww=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function N(q,te,F){this.props=q,this.context=te,this.refs=k,this.updater=F||_}N.prototype.isReactComponent={},N.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=N.prototype;function B(q,te,F){this.props=q,this.context=te,this.refs=k,this.updater=F||_}var M=B.prototype=new L;M.constructor=B,C(M,N.prototype),M.isPureReactComponent=!0;var Y=Array.isArray,ee=Object.prototype.hasOwnProperty,H={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(q,te,F){var Se,Oe={},Te=null,qe=null;if(te!=null)for(Se in te.ref!==void 0&&(qe=te.ref),te.key!==void 0&&(Te=""+te.key),te)ee.call(te,Se)&&!A.hasOwnProperty(Se)&&(Oe[Se]=te[Se]);var Fe=arguments.length-2;if(Fe===1)Oe.children=F;else if(1<Fe){for(var Ke=Array(Fe),ct=0;ct<Fe;ct++)Ke[ct]=arguments[ct+2];Oe.children=Ke}if(q&&q.defaultProps)for(Se in Fe=q.defaultProps,Fe)Oe[Se]===void 0&&(Oe[Se]=Fe[Se]);return{$$typeof:t,type:q,key:Te,ref:qe,props:Oe,_owner:H.current}}function D(q,te){return{$$typeof:t,type:q.type,key:te,ref:q.ref,props:q.props,_owner:q._owner}}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function O(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(F){return te[F]})}var U=/\/+/g;function P(q,te){return typeof q=="object"&&q!==null&&q.key!=null?O(""+q.key):te.toString(36)}function oe(q,te,F,Se,Oe){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var qe=!1;if(q===null)qe=!0;else switch(Te){case"string":case"number":qe=!0;break;case"object":switch(q.$$typeof){case t:case e:qe=!0}}if(qe)return qe=q,Oe=Oe(qe),q=Se===""?"."+P(qe,0):Se,Y(Oe)?(F="",q!=null&&(F=q.replace(U,"$&/")+"/"),oe(Oe,te,F,"",function(ct){return ct})):Oe!=null&&(j(Oe)&&(Oe=D(Oe,F+(!Oe.key||qe&&qe.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+q)),te.push(Oe)),1;if(qe=0,Se=Se===""?".":Se+":",Y(q))for(var Fe=0;Fe<q.length;Fe++){Te=q[Fe];var Ke=Se+P(Te,Fe);qe+=oe(Te,te,F,Ke,Oe)}else if(Ke=v(q),typeof Ke=="function")for(q=Ke.call(q),Fe=0;!(Te=q.next()).done;)Te=Te.value,Ke=Se+P(Te,Fe++),qe+=oe(Te,te,F,Ke,Oe);else if(Te==="object")throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return qe}function pe(q,te,F){if(q==null)return q;var Se=[],Oe=0;return oe(q,Se,"","",function(Te){return te.call(F,Te,Oe++)}),Se}function He(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(F){(q._status===0||q._status===-1)&&(q._status=1,q._result=F)},function(F){(q._status===0||q._status===-1)&&(q._status=2,q._result=F)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var Ee={current:null},ie={transition:null},de={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ie,ReactCurrentOwner:H};function R(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:pe,forEach:function(q,te,F){pe(q,function(){te.apply(this,arguments)},F)},count:function(q){var te=0;return pe(q,function(){te++}),te},toArray:function(q){return pe(q,function(te){return te})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},We.Component=N,We.Fragment=n,We.Profiler=i,We.PureComponent=B,We.StrictMode=r,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,We.act=R,We.cloneElement=function(q,te,F){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Se=C({},q.props),Oe=q.key,Te=q.ref,qe=q._owner;if(te!=null){if(te.ref!==void 0&&(Te=te.ref,qe=H.current),te.key!==void 0&&(Oe=""+te.key),q.type&&q.type.defaultProps)var Fe=q.type.defaultProps;for(Ke in te)ee.call(te,Ke)&&!A.hasOwnProperty(Ke)&&(Se[Ke]=te[Ke]===void 0&&Fe!==void 0?Fe[Ke]:te[Ke])}var Ke=arguments.length-2;if(Ke===1)Se.children=F;else if(1<Ke){Fe=Array(Ke);for(var ct=0;ct<Ke;ct++)Fe[ct]=arguments[ct+2];Se.children=Fe}return{$$typeof:t,type:q.type,key:Oe,ref:Te,props:Se,_owner:qe}},We.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},We.createElement=S,We.createFactory=function(q){var te=S.bind(null,q);return te.type=q,te},We.createRef=function(){return{current:null}},We.forwardRef=function(q){return{$$typeof:u,render:q}},We.isValidElement=j,We.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:He}},We.memo=function(q,te){return{$$typeof:f,type:q,compare:te===void 0?null:te}},We.startTransition=function(q){var te=ie.transition;ie.transition={};try{q()}finally{ie.transition=te}},We.unstable_act=R,We.useCallback=function(q,te){return Ee.current.useCallback(q,te)},We.useContext=function(q){return Ee.current.useContext(q)},We.useDebugValue=function(){},We.useDeferredValue=function(q){return Ee.current.useDeferredValue(q)},We.useEffect=function(q,te){return Ee.current.useEffect(q,te)},We.useId=function(){return Ee.current.useId()},We.useImperativeHandle=function(q,te,F){return Ee.current.useImperativeHandle(q,te,F)},We.useInsertionEffect=function(q,te){return Ee.current.useInsertionEffect(q,te)},We.useLayoutEffect=function(q,te){return Ee.current.useLayoutEffect(q,te)},We.useMemo=function(q,te){return Ee.current.useMemo(q,te)},We.useReducer=function(q,te,F){return Ee.current.useReducer(q,te,F)},We.useRef=function(q){return Ee.current.useRef(q)},We.useState=function(q){return Ee.current.useState(q)},We.useSyncExternalStore=function(q,te,F){return Ee.current.useSyncExternalStore(q,te,F)},We.useTransition=function(){return Ee.current.useTransition()},We.version="18.3.1",We}var Kw;function Oy(){return Kw||(Kw=1,vm.exports=XP()),vm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function JP(){if(Gw)return xu;Gw=1;var t=Oy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,g={},v=null,_=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(g[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:_,props:g,_owner:i.current}}return xu.Fragment=n,xu.jsx=l,xu.jsxs=l,xu}var Qw;function ZP(){return Qw||(Qw=1,ym.exports=JP()),ym.exports}var b=ZP(),G=Oy();const Fr=xl(G);var Gh={},xm={exports:{}},Bn={},wm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function e2(){return Yw||(Yw=1,(function(t){function e(ie,de){var R=ie.length;ie.push(de);e:for(;0<R;){var q=R-1>>>1,te=ie[q];if(0<i(te,de))ie[q]=de,ie[R]=te,R=q;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var de=ie[0],R=ie.pop();if(R!==de){ie[0]=R;e:for(var q=0,te=ie.length,F=te>>>1;q<F;){var Se=2*(q+1)-1,Oe=ie[Se],Te=Se+1,qe=ie[Te];if(0>i(Oe,R))Te<te&&0>i(qe,Oe)?(ie[q]=qe,ie[Te]=R,q=Te):(ie[q]=Oe,ie[Se]=R,q=Se);else if(Te<te&&0>i(qe,R))ie[q]=qe,ie[Te]=R,q=Te;else break e}}return de}function i(ie,de){var R=ie.sortIndex-de.sortIndex;return R!==0?R:ie.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,g=null,v=3,_=!1,C=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ie){for(var de=n(f);de!==null;){if(de.callback===null)r(f);else if(de.startTime<=ie)r(f),de.sortIndex=de.expirationTime,e(h,de);else break;de=n(f)}}function Y(ie){if(k=!1,M(ie),!C)if(n(h)!==null)C=!0,He(ee);else{var de=n(f);de!==null&&Ee(Y,de.startTime-ie)}}function ee(ie,de){C=!1,k&&(k=!1,L(S),S=-1),_=!0;var R=v;try{for(M(de),g=n(h);g!==null&&(!(g.expirationTime>de)||ie&&!O());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var te=q(g.expirationTime<=de);de=t.unstable_now(),typeof te=="function"?g.callback=te:g===n(h)&&r(h),M(de)}else r(h);g=n(h)}if(g!==null)var F=!0;else{var Se=n(f);Se!==null&&Ee(Y,Se.startTime-de),F=!1}return F}finally{g=null,v=R,_=!1}}var H=!1,A=null,S=-1,D=5,j=-1;function O(){return!(t.unstable_now()-j<D)}function U(){if(A!==null){var ie=t.unstable_now();j=ie;var de=!0;try{de=A(!0,ie)}finally{de?P():(H=!1,A=null)}}else H=!1}var P;if(typeof B=="function")P=function(){B(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,pe=oe.port2;oe.port1.onmessage=U,P=function(){pe.postMessage(null)}}else P=function(){N(U,0)};function He(ie){A=ie,H||(H=!0,P())}function Ee(ie,de){S=N(function(){ie(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,He(ee))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var R=v;v=de;try{return ie()}finally{v=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,de){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var R=v;v=ie;try{return de()}finally{v=R}},t.unstable_scheduleCallback=function(ie,de,R){var q=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?q+R:q):R=q,ie){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=R+te,ie={id:m++,callback:de,priorityLevel:ie,startTime:R,expirationTime:te,sortIndex:-1},R>q?(ie.sortIndex=R,e(f,ie),n(h)===null&&ie===n(f)&&(k?(L(S),S=-1):k=!0,Ee(Y,R-q))):(ie.sortIndex=te,e(h,ie),C||_||(C=!0,He(ee))),ie},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ie){var de=v;return function(){var R=v;v=de;try{return ie.apply(this,arguments)}finally{v=R}}}})(_m)),_m}var Xw;function t2(){return Xw||(Xw=1,wm.exports=e2()),wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function n2(){if(Jw)return Bn;Jw=1;var t=Oy(),e=t2();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(s){return h.call(g,s)?!0:h.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function _(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,a,c,p){if(a===null||typeof a>"u"||_(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(s,a,c,p,y,x,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,B);N[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,B);N[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,B);N[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,c,p){var y=N.hasOwnProperty(a)?N[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,c,y,p)&&(c=null),p||y===null?v(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),H=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ie=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,q;function te(s){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+s}var F=!1;function Se(s,a){if(!s||F)return"";F=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var p=X}Reflect.construct(s,[],a)}else{try{a.call()}catch(X){p=X}s.call(a.prototype)}else{try{throw Error()}catch(X){p=X}s()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),x=p.stack.split(`
`),T=y.length-1,V=x.length-1;1<=T&&0<=V&&y[T]!==x[V];)V--;for(;1<=T&&0<=V;T--,V--)if(y[T]!==x[V]){if(T!==1||V!==1)do if(T--,V--,0>V||y[T]!==x[V]){var z=`
`+y[T].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=T&&0<=V);break}}}finally{F=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function Oe(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function Te(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case H:return"Portal";case D:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case pe:return a=s.displayName||null,a!==null?a:Te(s.type)||"Memo";case He:a=s._payload,s=s._init;try{return Te(s(a))}catch{}}return null}function qe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ct(s){var a=Ke(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(T){p=""+T,x.call(this,T)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function gn(s){s._valueTracker||(s._valueTracker=ct(s))}function Ln(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=Ke(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function Yn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ir(s,a){var c=a.checked;return R({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function qr(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Fe(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function cr(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function rn(s,a){cr(s,a);var c=Fe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?lt(s,a.type,c):a.hasOwnProperty("defaultValue")&&lt(s,a.type,Fe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ar(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function lt(s,a,c){(a!=="number"||Yn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var st=Array.isArray;function Cn(s,a,c,p){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+Fe(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function Ii(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ai(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(st(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Fe(c)}}function me(s,a){var c=Fe(a.value),p=Fe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Ie(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function J(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?J(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xe,Ve=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,y)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(xe=xe||document.createElement("div"),xe.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=xe.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Be(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yn=["Webkit","ms","Moz","O"];Object.keys(Et).forEach(function(s){yn.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Et[a]=Et[s]})});function Pt(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Et.hasOwnProperty(s)&&Et[s]?(""+a).trim():a+"px"}function sn(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Pt(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var Pn=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(s,a){if(a){if(Pn[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function on(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=null;function ls(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ci=null,Pi=null,Dt=null;function Rl(s){if(s=iu(s)){if(typeof Ci!="function")throw Error(n(280));var a=s.stateNode;a&&(a=uh(a),Ci(s.stateNode,s.type,a))}}function us(s){Pi?Dt?Dt.push(s):Dt=[s]:Pi=s}function cs(){if(Pi){var s=Pi,a=Dt;if(Dt=Pi=null,Rl(s),a)for(s=0;s<a.length;s++)Rl(a[s])}}function Vc(s,a){return s(a)}function Fc(){}var Hr=!1;function jc(s,a,c){if(Hr)return s(a,c);Hr=!0;try{return Vc(s,a,c)}finally{Hr=!1,(Pi!==null||Dt!==null)&&(Fc(),cs())}}function lo(s,a){var c=s.stateNode;if(c===null)return null;var p=uh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var hs=!1;if(u)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){hs=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{hs=!1}function Uc(s,a,c,p,y,x,T,V,z){var X=Array.prototype.slice.call(arguments,3);try{a.apply(c,X)}catch(le){this.onError(le)}}var Ri=!1,Wr=null,oa=!1,hr=null,zc={onError:function(s){Ri=!0,Wr=s}};function Bc(s,a,c,p,y,x,T,V,z){Ri=!1,Wr=null,Uc.apply(zc,arguments)}function Dl(s,a,c,p,y,x,T,V,z){if(Bc.apply(this,arguments),Ri){if(Ri){var X=Wr;Ri=!1,Wr=null}else throw Error(n(198));oa||(oa=!0,hr=X)}}function Cr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Nl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function $c(s){if(Cr(s)!==s)throw Error(n(188))}function qc(s){var a=s.alternate;if(!a){if(a=Cr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,p=a;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return $c(y),s;if(x===p)return $c(y),a;x=x.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=x;else{for(var T=!1,V=y.child;V;){if(V===c){T=!0,c=y,p=x;break}if(V===p){T=!0,p=y,c=x;break}V=V.sibling}if(!T){for(V=x.child;V;){if(V===c){T=!0,c=x,p=y;break}if(V===p){T=!0,p=x,c=y;break}V=V.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Hc(s){return s=qc(s),s!==null?uo(s):null}function uo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=uo(s);if(a!==null)return a;s=s.sibling}return null}var Ol=e.unstable_scheduleCallback,aa=e.unstable_cancelCallback,co=e.unstable_shouldYield,Di=e.unstable_requestPaint,yt=e.unstable_now,Gf=e.unstable_getCurrentPriorityLevel,la=e.unstable_ImmediatePriority,Ml=e.unstable_UserBlockingPriority,ho=e.unstable_NormalPriority,Ll=e.unstable_LowPriority,ua=e.unstable_IdlePriority,fo=null,Xn=null;function Wc(s){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(fo,s,void 0,(s.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:po,Kr=Math.log,dr=Math.LN2;function po(s){return s>>>=0,s===0?32:31-(Kr(s)/dr|0)|0}var Gr=64,fs=4194304;function tt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ni(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes,T=c&268435455;if(T!==0){var V=T&~y;V!==0?p=tt(V):(x&=T,x!==0&&(p=tt(x)))}else T=c&~y,T!==0?p=tt(T):x!==0&&(p=tt(x));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,x=a&-a,y>=x||y===16&&(x&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-Jn(a),y=1<<c,p|=s[c],a&=~y;return p}function mo(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var T=31-Jn(x),V=1<<T,z=y[T];z===-1?((V&c)===0||(V&p)!==0)&&(y[T]=mo(V,a)):z<=a&&(s.expiredLanes|=V),x&=~V}}function Vl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Fl(){var s=Gr;return Gr<<=1,(Gr&4194240)===0&&(Gr=64),s}function jl(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function yo(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Jn(a),s[a]=c}function Qf(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Jn(c),x=1<<y;a[y]=0,p[y]=-1,s[y]=-1,c&=~x}}function Ul(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Jn(c),y=1<<p;y&a|s[p]&a&&(s[p]|=a),c&=~y}}var Xe=0;function Qr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var zl,ca,Bl,$l,ql,Yr=!1,ha=[],Xr=null,Jr=null,an=null,vo=new Map,Oi=new Map,Zn=[],Kc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ps(s,a){switch(s){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":vo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(a.pointerId)}}function Pr(s,a,c,p,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},a!==null&&(a=iu(a),a!==null&&ca(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Gc(s,a,c,p,y){switch(a){case"focusin":return Xr=Pr(Xr,s,a,c,p,y),!0;case"dragenter":return Jr=Pr(Jr,s,a,c,p,y),!0;case"mouseover":return an=Pr(an,s,a,c,p,y),!0;case"pointerover":var x=y.pointerId;return vo.set(x,Pr(vo.get(x)||null,s,a,c,p,y)),!0;case"gotpointercapture":return x=y.pointerId,Oi.set(x,Pr(Oi.get(x)||null,s,a,c,p,y)),!0}return!1}function da(s){var a=Eo(s.target);if(a!==null){var c=Cr(a);if(c!==null){if(a=c.tag,a===13){if(a=Nl(c),a!==null){s.blockedOn=a,ql(s.priority,function(){Bl(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ht(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=fa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Rt=p,c.target.dispatchEvent(p),Rt=null}else return a=iu(c),a!==null&&ca(a),s.blockedOn=c,!1;a.shift()}return!0}function Qc(s,a,c){ht(s)&&c.delete(a)}function Yf(){Yr=!1,Xr!==null&&ht(Xr)&&(Xr=null),Jr!==null&&ht(Jr)&&(Jr=null),an!==null&&ht(an)&&(an=null),vo.forEach(Qc),Oi.forEach(Qc)}function ms(s,a){s.blockedOn===a&&(s.blockedOn=null,Yr||(Yr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yf)))}function gs(s){function a(y){return ms(y,s)}if(0<ha.length){ms(ha[0],s);for(var c=1;c<ha.length;c++){var p=ha[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Xr!==null&&ms(Xr,s),Jr!==null&&ms(Jr,s),an!==null&&ms(an,s),vo.forEach(a),Oi.forEach(a),c=0;c<Zn.length;c++)p=Zn[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Zn.length&&(c=Zn[0],c.blockedOn===null);)da(c),c.blockedOn===null&&Zn.shift()}var Mi=Y.ReactCurrentBatchConfig,Li=!0;function Zr(s,a,c,p){var y=Xe,x=Mi.transition;Mi.transition=null;try{Xe=1,Hl(s,a,c,p)}finally{Xe=y,Mi.transition=x}}function Yc(s,a,c,p){var y=Xe,x=Mi.transition;Mi.transition=null;try{Xe=4,Hl(s,a,c,p)}finally{Xe=y,Mi.transition=x}}function Hl(s,a,c,p){if(Li){var y=fa(s,a,c,p);if(y===null)ap(s,a,p,ei,c),ps(s,p);else if(Gc(y,s,a,c,p))p.stopPropagation();else if(ps(s,p),a&4&&-1<Kc.indexOf(s)){for(;y!==null;){var x=iu(y);if(x!==null&&zl(x),x=fa(s,a,c,p),x===null&&ap(s,a,p,ei,c),x===y)break;y=x}y!==null&&p.stopPropagation()}else ap(s,a,p,null,c)}}var ei=null;function fa(s,a,c,p){if(ei=null,s=ls(p),s=Eo(s),s!==null)if(a=Cr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Nl(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ei=s,null}function pa(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gf()){case la:return 1;case Ml:return 4;case ho:case Ll:return 16;case ua:return 536870912;default:return 16}default:return 16}}var er=null,ma=null,Vi=null;function Xc(){if(Vi)return Vi;var s,a=ma,c=a.length,p,y="value"in er?er.value:er.textContent,x=y.length;for(s=0;s<c&&a[s]===y[s];s++);var T=c-s;for(p=1;p<=T&&a[c-p]===y[x-p];p++);return Vi=y.slice(s,1<p?1-p:void 0)}function xo(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ti(){return!0}function Wl(){return!1}function vn(s){function a(c,p,y,x,T){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ti:Wl,this.isPropagationStopped=Wl,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),a}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=vn(ni),ys=R({},ni,{view:0,detail:0}),ga=vn(ys),ya,va,tr,_o=R({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tr&&(tr&&s.type==="mousemove"?(ya=s.screenX-tr.screenX,va=s.screenY-tr.screenY):va=ya=0,tr=s),ya)},movementY:function(s){return"movementY"in s?s.movementY:va}}),Kl=vn(_o),Jc=R({},_o,{dataTransfer:0}),Zc=vn(Jc),xa=R({},ys,{relatedTarget:0}),ln=vn(xa),eh=R({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),th=vn(eh),vs=R({},ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=vn(vs),w=R({},ni,{data:0}),E=vn(w),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fe(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Z[s])?!!a[s]:!1}function Ue(){return fe}var Vt=R({},ys,{key:function(s){if(s.key){var a=I[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=xo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?K[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(s){return s.type==="keypress"?xo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),at=vn(Vt),zt=R({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=vn(zt),Fi=R({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ri=vn(Fi),ii=R({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),wa=vn(ii),Gl=R({},_o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),HC=vn(Gl),WC=[9,13,27,32],Xf=u&&"CompositionEvent"in window,Ql=null;u&&"documentMode"in document&&(Ql=document.documentMode);var KC=u&&"TextEvent"in window&&!Ql,F0=u&&(!Xf||Ql&&8<Ql&&11>=Ql),j0=" ",U0=!1;function z0(s,a){switch(s){case"keyup":return WC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var _a=!1;function GC(s,a){switch(s){case"compositionend":return B0(a);case"keypress":return a.which!==32?null:(U0=!0,j0);case"textInput":return s=a.data,s===j0&&U0?null:s;default:return null}}function QC(s,a){if(_a)return s==="compositionend"||!Xf&&z0(s,a)?(s=Xc(),Vi=ma=er=null,_a=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return F0&&a.locale!=="ko"?null:a.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!YC[s.type]:a==="textarea"}function q0(s,a,c,p){us(p),a=oh(a,"onChange"),0<a.length&&(c=new wo("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Yl=null,Xl=null;function XC(s){lx(s,0)}function nh(s){var a=ka(s);if(Ln(a))return s}function JC(s,a){if(s==="change")return a}var H0=!1;if(u){var Jf;if(u){var Zf="oninput"in document;if(!Zf){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),Zf=typeof W0.oninput=="function"}Jf=Zf}else Jf=!1;H0=Jf&&(!document.documentMode||9<document.documentMode)}function K0(){Yl&&(Yl.detachEvent("onpropertychange",G0),Xl=Yl=null)}function G0(s){if(s.propertyName==="value"&&nh(Xl)){var a=[];q0(a,Xl,s,ls(s)),jc(XC,a)}}function ZC(s,a,c){s==="focusin"?(K0(),Yl=a,Xl=c,Yl.attachEvent("onpropertychange",G0)):s==="focusout"&&K0()}function eP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nh(Xl)}function tP(s,a){if(s==="click")return nh(a)}function nP(s,a){if(s==="input"||s==="change")return nh(a)}function rP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Rr=typeof Object.is=="function"?Object.is:rP;function Jl(s,a){if(Rr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!h.call(a,y)||!Rr(s[y],a[y]))return!1}return!0}function Q0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Y0(s,a){var c=Q0(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Q0(c)}}function X0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?X0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function J0(){for(var s=window,a=Yn();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Yn(s.document)}return a}function ep(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function iP(s){var a=J0(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&X0(c.ownerDocument.documentElement,c)){if(p!==null&&ep(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!s.extend&&x>p&&(y=p,p=x,x=y),y=Y0(c,x);var T=Y0(c,p);y&&T&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),x>p?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sP=u&&"documentMode"in document&&11>=document.documentMode,Ea=null,tp=null,Zl=null,np=!1;function Z0(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;np||Ea==null||Ea!==Yn(p)||(p=Ea,"selectionStart"in p&&ep(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zl&&Jl(Zl,p)||(Zl=p,p=oh(tp,"onSelect"),0<p.length&&(a=new wo("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Ea)))}function rh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ta={animationend:rh("Animation","AnimationEnd"),animationiteration:rh("Animation","AnimationIteration"),animationstart:rh("Animation","AnimationStart"),transitionend:rh("Transition","TransitionEnd")},rp={},ex={};u&&(ex=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ih(s){if(rp[s])return rp[s];if(!Ta[s])return s;var a=Ta[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in ex)return rp[s]=a[c];return s}var tx=ih("animationend"),nx=ih("animationiteration"),rx=ih("animationstart"),ix=ih("transitionend"),sx=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(s,a){sx.set(s,a),o(a,[s])}for(var ip=0;ip<ox.length;ip++){var sp=ox[ip],oP=sp.toLowerCase(),aP=sp[0].toUpperCase()+sp.slice(1);xs(oP,"on"+aP)}xs(tx,"onAnimationEnd"),xs(nx,"onAnimationIteration"),xs(rx,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(ix,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lP=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function ax(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,Dl(p,a,void 0,s),s.currentTarget=null}function lx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var x=void 0;if(a)for(var T=p.length-1;0<=T;T--){var V=p[T],z=V.instance,X=V.currentTarget;if(V=V.listener,z!==x&&y.isPropagationStopped())break e;ax(y,V,X),x=z}else for(T=0;T<p.length;T++){if(V=p[T],z=V.instance,X=V.currentTarget,V=V.listener,z!==x&&y.isPropagationStopped())break e;ax(y,V,X),x=z}}}if(oa)throw s=hr,oa=!1,hr=null,s}function vt(s,a){var c=a[fp];c===void 0&&(c=a[fp]=new Set);var p=s+"__bubble";c.has(p)||(ux(a,s,2,!1),c.add(p))}function op(s,a,c){var p=0;a&&(p|=4),ux(c,s,p,a)}var sh="_reactListening"+Math.random().toString(36).slice(2);function tu(s){if(!s[sh]){s[sh]=!0,r.forEach(function(c){c!=="selectionchange"&&(lP.has(c)||op(c,!1,s),op(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[sh]||(a[sh]=!0,op("selectionchange",!1,a))}}function ux(s,a,c,p){switch(pa(a)){case 1:var y=Zr;break;case 4:y=Yc;break;default:y=Hl}c=y.bind(null,a,c,s),y=void 0,!hs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function ap(s,a,c,p,y){var x=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(T===4)for(T=p.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;T=T.return}for(;V!==null;){if(T=Eo(V),T===null)return;if(z=T.tag,z===5||z===6){p=x=T;continue e}V=V.parentNode}}p=p.return}jc(function(){var X=x,le=ls(c),ue=[];e:{var ae=sx.get(s);if(ae!==void 0){var ge=wo,_e=s;switch(s){case"keypress":if(xo(c)===0)break e;case"keydown":case"keyup":ge=at;break;case"focusin":_e="focus",ge=ln;break;case"focusout":_e="blur",ge=ln;break;case"beforeblur":case"afterblur":ge=ln;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=ri;break;case tx:case nx:case rx:ge=th;break;case ix:ge=wa;break;case"scroll":ge=ga;break;case"wheel":ge=HC;break;case"copy":case"cut":case"paste":ge=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=nr}var be=(a&4)!==0,Ft=!be&&s==="scroll",W=be?ae!==null?ae+"Capture":null:ae;be=[];for(var $=X,Q;$!==null;){Q=$;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,W!==null&&(he=lo($,W),he!=null&&be.push(nu($,he,Q)))),Ft)break;$=$.return}0<be.length&&(ae=new ge(ae,_e,null,c,le),ue.push({event:ae,listeners:be}))}}if((a&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",ae&&c!==Rt&&(_e=c.relatedTarget||c.fromElement)&&(Eo(_e)||_e[ji]))break e;if((ge||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,ge?(_e=c.relatedTarget||c.toElement,ge=X,_e=_e?Eo(_e):null,_e!==null&&(Ft=Cr(_e),_e!==Ft||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ge=null,_e=X),ge!==_e)){if(be=Kl,he="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(be=nr,he="onPointerLeave",W="onPointerEnter",$="pointer"),Ft=ge==null?ae:ka(ge),Q=_e==null?ae:ka(_e),ae=new be(he,$+"leave",ge,c,le),ae.target=Ft,ae.relatedTarget=Q,he=null,Eo(le)===X&&(be=new be(W,$+"enter",_e,c,le),be.target=Q,be.relatedTarget=Ft,he=be),Ft=he,ge&&_e)t:{for(be=ge,W=_e,$=0,Q=be;Q;Q=ba(Q))$++;for(Q=0,he=W;he;he=ba(he))Q++;for(;0<$-Q;)be=ba(be),$--;for(;0<Q-$;)W=ba(W),Q--;for(;$--;){if(be===W||W!==null&&be===W.alternate)break t;be=ba(be),W=ba(W)}be=null}else be=null;ge!==null&&cx(ue,ae,ge,be,!1),_e!==null&&Ft!==null&&cx(ue,Ft,_e,be,!0)}}e:{if(ae=X?ka(X):window,ge=ae.nodeName&&ae.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ae.type==="file")var ke=JC;else if($0(ae))if(H0)ke=nP;else{ke=eP;var Ce=ZC}else(ge=ae.nodeName)&&ge.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(ke=tP);if(ke&&(ke=ke(s,X))){q0(ue,ke,c,le);break e}Ce&&Ce(s,ae,X),s==="focusout"&&(Ce=ae._wrapperState)&&Ce.controlled&&ae.type==="number"&&lt(ae,"number",ae.value)}switch(Ce=X?ka(X):window,s){case"focusin":($0(Ce)||Ce.contentEditable==="true")&&(Ea=Ce,tp=X,Zl=null);break;case"focusout":Zl=tp=Ea=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,Z0(ue,c,le);break;case"selectionchange":if(sP)break;case"keydown":case"keyup":Z0(ue,c,le)}var Pe;if(Xf)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else _a?z0(s,c)&&(Me="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Me="onCompositionStart");Me&&(F0&&c.locale!=="ko"&&(_a||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&_a&&(Pe=Xc()):(er=le,ma="value"in er?er.value:er.textContent,_a=!0)),Ce=oh(X,Me),0<Ce.length&&(Me=new E(Me,s,null,c,le),ue.push({event:Me,listeners:Ce}),Pe?Me.data=Pe:(Pe=B0(c),Pe!==null&&(Me.data=Pe)))),(Pe=KC?GC(s,c):QC(s,c))&&(X=oh(X,"onBeforeInput"),0<X.length&&(le=new E("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:X}),le.data=Pe))}lx(ue,a)})}function nu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function oh(s,a){for(var c=a+"Capture",p=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=lo(s,c),x!=null&&p.unshift(nu(s,x,y)),x=lo(s,a),x!=null&&p.push(nu(s,x,y))),s=s.return}return p}function ba(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function cx(s,a,c,p,y){for(var x=a._reactName,T=[];c!==null&&c!==p;){var V=c,z=V.alternate,X=V.stateNode;if(z!==null&&z===p)break;V.tag===5&&X!==null&&(V=X,y?(z=lo(c,x),z!=null&&T.unshift(nu(c,z,V))):y||(z=lo(c,x),z!=null&&T.push(nu(c,z,V)))),c=c.return}T.length!==0&&s.push({event:a,listeners:T})}var uP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function hx(s){return(typeof s=="string"?s:""+s).replace(uP,`
`).replace(cP,"")}function ah(s,a,c){if(a=hx(a),hx(s)!==a&&c)throw Error(n(425))}function lh(){}var lp=null,up=null;function cp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,dP=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(s){return dx.resolve(null).then(s).catch(fP)}:hp;function fP(s){setTimeout(function(){throw s})}function dp(s,a){var c=a,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),gs(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);gs(a)}function ws(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function fx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),si="__reactFiber$"+Sa,ru="__reactProps$"+Sa,ji="__reactContainer$"+Sa,fp="__reactEvents$"+Sa,pP="__reactListeners$"+Sa,mP="__reactHandles$"+Sa;function Eo(s){var a=s[si];if(a)return a;for(var c=s.parentNode;c;){if(a=c[ji]||c[si]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=fx(s);s!==null;){if(c=s[si])return c;s=fx(s)}return a}s=c,c=s.parentNode}return null}function iu(s){return s=s[si]||s[ji],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ka(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function uh(s){return s[ru]||null}var pp=[],Ia=-1;function _s(s){return{current:s}}function xt(s){0>Ia||(s.current=pp[Ia],pp[Ia]=null,Ia--)}function ft(s,a){Ia++,pp[Ia]=s.current,s.current=a}var Es={},xn=_s(Es),Vn=_s(!1),To=Es;function Aa(s,a){var c=s.type.contextTypes;if(!c)return Es;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=a[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Fn(s){return s=s.childContextTypes,s!=null}function ch(){xt(Vn),xt(xn)}function px(s,a,c){if(xn.current!==Es)throw Error(n(168));ft(xn,a),ft(Vn,c)}function mx(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(n(108,qe(s)||"Unknown",y));return R({},c,p)}function hh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Es,To=xn.current,ft(xn,s),ft(Vn,Vn.current),!0}function gx(s,a,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=mx(s,a,To),p.__reactInternalMemoizedMergedChildContext=s,xt(Vn),xt(xn),ft(xn,s)):xt(Vn),ft(Vn,c)}var Ui=null,dh=!1,mp=!1;function yx(s){Ui===null?Ui=[s]:Ui.push(s)}function gP(s){dh=!0,yx(s)}function Ts(){if(!mp&&Ui!==null){mp=!0;var s=0,a=Xe;try{var c=Ui;for(Xe=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Ui=null,dh=!1}catch(y){throw Ui!==null&&(Ui=Ui.slice(s+1)),Ol(la,Ts),y}finally{Xe=a,mp=!1}}return null}var Ca=[],Pa=0,fh=null,ph=0,fr=[],pr=0,bo=null,zi=1,Bi="";function So(s,a){Ca[Pa++]=ph,Ca[Pa++]=fh,fh=s,ph=a}function vx(s,a,c){fr[pr++]=zi,fr[pr++]=Bi,fr[pr++]=bo,bo=s;var p=zi;s=Bi;var y=32-Jn(p)-1;p&=~(1<<y),c+=1;var x=32-Jn(a)+y;if(30<x){var T=y-y%5;x=(p&(1<<T)-1).toString(32),p>>=T,y-=T,zi=1<<32-Jn(a)+y|c<<y|p,Bi=x+s}else zi=1<<x|c<<y|p,Bi=s}function gp(s){s.return!==null&&(So(s,1),vx(s,1,0))}function yp(s){for(;s===fh;)fh=Ca[--Pa],Ca[Pa]=null,ph=Ca[--Pa],Ca[Pa]=null;for(;s===bo;)bo=fr[--pr],fr[pr]=null,Bi=fr[--pr],fr[pr]=null,zi=fr[--pr],fr[pr]=null}var rr=null,ir=null,Tt=!1,Dr=null;function xx(s,a){var c=vr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function wx(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,rr=s,ir=ws(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,rr=s,ir=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=bo!==null?{id:zi,overflow:Bi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=vr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,rr=s,ir=null,!0):!1;default:return!1}}function vp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function xp(s){if(Tt){var a=ir;if(a){var c=a;if(!wx(s,a)){if(vp(s))throw Error(n(418));a=ws(c.nextSibling);var p=rr;a&&wx(s,a)?xx(p,c):(s.flags=s.flags&-4097|2,Tt=!1,rr=s)}}else{if(vp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Tt=!1,rr=s}}}function _x(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;rr=s}function mh(s){if(s!==rr)return!1;if(!Tt)return _x(s),Tt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!cp(s.type,s.memoizedProps)),a&&(a=ir)){if(vp(s))throw Ex(),Error(n(418));for(;a;)xx(s,a),a=ws(a.nextSibling)}if(_x(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){ir=ws(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}ir=null}}else ir=rr?ws(s.stateNode.nextSibling):null;return!0}function Ex(){for(var s=ir;s;)s=ws(s.nextSibling)}function Ra(){ir=rr=null,Tt=!1}function wp(s){Dr===null?Dr=[s]:Dr.push(s)}var yP=Y.ReactCurrentBatchConfig;function su(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var y=p,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(T){var V=y.refs;T===null?delete V[x]:V[x]=T},a._stringRef=x,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function gh(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Tx(s){var a=s._init;return a(s._payload)}function bx(s){function a(W,$){if(s){var Q=W.deletions;Q===null?(W.deletions=[$],W.flags|=16):Q.push($)}}function c(W,$){if(!s)return null;for(;$!==null;)a(W,$),$=$.sibling;return null}function p(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function y(W,$){return W=Rs(W,$),W.index=0,W.sibling=null,W}function x(W,$,Q){return W.index=Q,s?(Q=W.alternate,Q!==null?(Q=Q.index,Q<$?(W.flags|=2,$):Q):(W.flags|=2,$)):(W.flags|=1048576,$)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function V(W,$,Q,he){return $===null||$.tag!==6?($=hm(Q,W.mode,he),$.return=W,$):($=y($,Q),$.return=W,$)}function z(W,$,Q,he){var ke=Q.type;return ke===A?le(W,$,Q.props.children,he,Q.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===He&&Tx(ke)===$.type)?(he=y($,Q.props),he.ref=su(W,$,Q),he.return=W,he):(he=Uh(Q.type,Q.key,Q.props,null,W.mode,he),he.ref=su(W,$,Q),he.return=W,he)}function X(W,$,Q,he){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=dm(Q,W.mode,he),$.return=W,$):($=y($,Q.children||[]),$.return=W,$)}function le(W,$,Q,he,ke){return $===null||$.tag!==7?($=No(Q,W.mode,he,ke),$.return=W,$):($=y($,Q),$.return=W,$)}function ue(W,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=hm(""+$,W.mode,Q),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ee:return Q=Uh($.type,$.key,$.props,null,W.mode,Q),Q.ref=su(W,null,$),Q.return=W,Q;case H:return $=dm($,W.mode,Q),$.return=W,$;case He:var he=$._init;return ue(W,he($._payload),Q)}if(st($)||de($))return $=No($,W.mode,Q,null),$.return=W,$;gh(W,$)}return null}function ae(W,$,Q,he){var ke=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return ke!==null?null:V(W,$,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ee:return Q.key===ke?z(W,$,Q,he):null;case H:return Q.key===ke?X(W,$,Q,he):null;case He:return ke=Q._init,ae(W,$,ke(Q._payload),he)}if(st(Q)||de(Q))return ke!==null?null:le(W,$,Q,he,null);gh(W,Q)}return null}function ge(W,$,Q,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return W=W.get(Q)||null,V($,W,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case ee:return W=W.get(he.key===null?Q:he.key)||null,z($,W,he,ke);case H:return W=W.get(he.key===null?Q:he.key)||null,X($,W,he,ke);case He:var Ce=he._init;return ge(W,$,Q,Ce(he._payload),ke)}if(st(he)||de(he))return W=W.get(Q)||null,le($,W,he,ke,null);gh($,he)}return null}function _e(W,$,Q,he){for(var ke=null,Ce=null,Pe=$,Me=$=0,tn=null;Pe!==null&&Me<Q.length;Me++){Pe.index>Me?(tn=Pe,Pe=null):tn=Pe.sibling;var et=ae(W,Pe,Q[Me],he);if(et===null){Pe===null&&(Pe=tn);break}s&&Pe&&et.alternate===null&&a(W,Pe),$=x(et,$,Me),Ce===null?ke=et:Ce.sibling=et,Ce=et,Pe=tn}if(Me===Q.length)return c(W,Pe),Tt&&So(W,Me),ke;if(Pe===null){for(;Me<Q.length;Me++)Pe=ue(W,Q[Me],he),Pe!==null&&($=x(Pe,$,Me),Ce===null?ke=Pe:Ce.sibling=Pe,Ce=Pe);return Tt&&So(W,Me),ke}for(Pe=p(W,Pe);Me<Q.length;Me++)tn=ge(Pe,W,Me,Q[Me],he),tn!==null&&(s&&tn.alternate!==null&&Pe.delete(tn.key===null?Me:tn.key),$=x(tn,$,Me),Ce===null?ke=tn:Ce.sibling=tn,Ce=tn);return s&&Pe.forEach(function(Ds){return a(W,Ds)}),Tt&&So(W,Me),ke}function be(W,$,Q,he){var ke=de(Q);if(typeof ke!="function")throw Error(n(150));if(Q=ke.call(Q),Q==null)throw Error(n(151));for(var Ce=ke=null,Pe=$,Me=$=0,tn=null,et=Q.next();Pe!==null&&!et.done;Me++,et=Q.next()){Pe.index>Me?(tn=Pe,Pe=null):tn=Pe.sibling;var Ds=ae(W,Pe,et.value,he);if(Ds===null){Pe===null&&(Pe=tn);break}s&&Pe&&Ds.alternate===null&&a(W,Pe),$=x(Ds,$,Me),Ce===null?ke=Ds:Ce.sibling=Ds,Ce=Ds,Pe=tn}if(et.done)return c(W,Pe),Tt&&So(W,Me),ke;if(Pe===null){for(;!et.done;Me++,et=Q.next())et=ue(W,et.value,he),et!==null&&($=x(et,$,Me),Ce===null?ke=et:Ce.sibling=et,Ce=et);return Tt&&So(W,Me),ke}for(Pe=p(W,Pe);!et.done;Me++,et=Q.next())et=ge(Pe,W,Me,et.value,he),et!==null&&(s&&et.alternate!==null&&Pe.delete(et.key===null?Me:et.key),$=x(et,$,Me),Ce===null?ke=et:Ce.sibling=et,Ce=et);return s&&Pe.forEach(function(YP){return a(W,YP)}),Tt&&So(W,Me),ke}function Ft(W,$,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ee:e:{for(var ke=Q.key,Ce=$;Ce!==null;){if(Ce.key===ke){if(ke=Q.type,ke===A){if(Ce.tag===7){c(W,Ce.sibling),$=y(Ce,Q.props.children),$.return=W,W=$;break e}}else if(Ce.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===He&&Tx(ke)===Ce.type){c(W,Ce.sibling),$=y(Ce,Q.props),$.ref=su(W,Ce,Q),$.return=W,W=$;break e}c(W,Ce);break}else a(W,Ce);Ce=Ce.sibling}Q.type===A?($=No(Q.props.children,W.mode,he,Q.key),$.return=W,W=$):(he=Uh(Q.type,Q.key,Q.props,null,W.mode,he),he.ref=su(W,$,Q),he.return=W,W=he)}return T(W);case H:e:{for(Ce=Q.key;$!==null;){if($.key===Ce)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){c(W,$.sibling),$=y($,Q.children||[]),$.return=W,W=$;break e}else{c(W,$);break}else a(W,$);$=$.sibling}$=dm(Q,W.mode,he),$.return=W,W=$}return T(W);case He:return Ce=Q._init,Ft(W,$,Ce(Q._payload),he)}if(st(Q))return _e(W,$,Q,he);if(de(Q))return be(W,$,Q,he);gh(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(c(W,$.sibling),$=y($,Q),$.return=W,W=$):(c(W,$),$=hm(Q,W.mode,he),$.return=W,W=$),T(W)):c(W,$)}return Ft}var Da=bx(!0),Sx=bx(!1),yh=_s(null),vh=null,Na=null,_p=null;function Ep(){_p=Na=vh=null}function Tp(s){var a=yh.current;xt(yh),s._currentValue=a}function bp(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function Oa(s,a){vh=s,_p=Na=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(jn=!0),s.firstContext=null)}function mr(s){var a=s._currentValue;if(_p!==s)if(s={context:s,memoizedValue:a,next:null},Na===null){if(vh===null)throw Error(n(308));Na=s,vh.dependencies={lanes:0,firstContext:s}}else Na=Na.next=s;return a}var ko=null;function Sp(s){ko===null?ko=[s]:ko.push(s)}function kx(s,a,c,p){var y=a.interleaved;return y===null?(c.next=c,Sp(a)):(c.next=y.next,y.next=c),a.interleaved=c,$i(s,p)}function $i(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var bs=!1;function kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ix(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function qi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ss(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ze&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,$i(s,c)}return y=p.interleaved,y===null?(a.next=a,Sp(p)):(a.next=y.next,y.next=a),p.interleaved=a,$i(s,c)}function xh(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Ul(s,c)}}function Ax(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=T:x=x.next=T,c=c.next}while(c!==null);x===null?y=x=a:x=x.next=a}else y=x=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function wh(s,a,c,p){var y=s.updateQueue;bs=!1;var x=y.firstBaseUpdate,T=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var z=V,X=z.next;z.next=null,T===null?x=X:T.next=X,T=z;var le=s.alternate;le!==null&&(le=le.updateQueue,V=le.lastBaseUpdate,V!==T&&(V===null?le.firstBaseUpdate=X:V.next=X,le.lastBaseUpdate=z))}if(x!==null){var ue=y.baseState;T=0,le=X=z=null,V=x;do{var ae=V.lane,ge=V.eventTime;if((p&ae)===ae){le!==null&&(le=le.next={eventTime:ge,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var _e=s,be=V;switch(ae=a,ge=c,be.tag){case 1:if(_e=be.payload,typeof _e=="function"){ue=_e.call(ge,ue,ae);break e}ue=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=be.payload,ae=typeof _e=="function"?_e.call(ge,ue,ae):_e,ae==null)break e;ue=R({},ue,ae);break e;case 2:bs=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ae=y.effects,ae===null?y.effects=[V]:ae.push(V))}else ge={eventTime:ge,lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},le===null?(X=le=ge,z=ue):le=le.next=ge,T|=ae;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ae=V,V=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&(z=ue),y.baseState=z,y.firstBaseUpdate=X,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do T|=y.lane,y=y.next;while(y!==a)}else x===null&&(y.shared.lanes=0);Co|=T,s.lanes=T,s.memoizedState=ue}}function Cx(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var ou={},oi=_s(ou),au=_s(ou),lu=_s(ou);function Io(s){if(s===ou)throw Error(n(174));return s}function Ip(s,a){switch(ft(lu,a),ft(au,s),ft(oi,ou),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:se(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=se(a,s)}xt(oi),ft(oi,a)}function Ma(){xt(oi),xt(au),xt(lu)}function Px(s){Io(lu.current);var a=Io(oi.current),c=se(a,s.type);a!==c&&(ft(au,s),ft(oi,c))}function Ap(s){au.current===s&&(xt(oi),xt(au))}var St=_s(0);function _h(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Cp=[];function Pp(){for(var s=0;s<Cp.length;s++)Cp[s]._workInProgressVersionPrimary=null;Cp.length=0}var Eh=Y.ReactCurrentDispatcher,Rp=Y.ReactCurrentBatchConfig,Ao=0,kt=null,Qt=null,Zt=null,Th=!1,uu=!1,cu=0,vP=0;function wn(){throw Error(n(321))}function Dp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Rr(s[c],a[c]))return!1;return!0}function Np(s,a,c,p,y,x){if(Ao=x,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Eh.current=s===null||s.memoizedState===null?EP:TP,s=c(p,y),uu){x=0;do{if(uu=!1,cu=0,25<=x)throw Error(n(301));x+=1,Zt=Qt=null,a.updateQueue=null,Eh.current=bP,s=c(p,y)}while(uu)}if(Eh.current=kh,a=Qt!==null&&Qt.next!==null,Ao=0,Zt=Qt=kt=null,Th=!1,a)throw Error(n(300));return s}function Op(){var s=cu!==0;return cu=0,s}function ai(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?kt.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function gr(){if(Qt===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var a=Zt===null?kt.memoizedState:Zt.next;if(a!==null)Zt=a,Qt=s;else{if(s===null)throw Error(n(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Zt===null?kt.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}function hu(s,a){return typeof a=="function"?a(s):a}function Mp(s){var a=gr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=Qt,y=p.baseQueue,x=c.pending;if(x!==null){if(y!==null){var T=y.next;y.next=x.next,x.next=T}p.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,p=p.baseState;var V=T=null,z=null,X=x;do{var le=X.lane;if((Ao&le)===le)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:s(p,X.action);else{var ue={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(V=z=ue,T=p):z=z.next=ue,kt.lanes|=le,Co|=le}X=X.next}while(X!==null&&X!==x);z===null?T=p:z.next=V,Rr(p,a.memoizedState)||(jn=!0),a.memoizedState=p,a.baseState=T,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do x=y.lane,kt.lanes|=x,Co|=x,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Lp(s){var a=gr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,x=a.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do x=s(x,T.action),T=T.next;while(T!==y);Rr(x,a.memoizedState)||(jn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,p]}function Rx(){}function Dx(s,a){var c=kt,p=gr(),y=a(),x=!Rr(p.memoizedState,y);if(x&&(p.memoizedState=y,jn=!0),p=p.queue,Vp(Mx.bind(null,c,p,s),[s]),p.getSnapshot!==a||x||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,du(9,Ox.bind(null,c,p,y,a),void 0,null),en===null)throw Error(n(349));(Ao&30)!==0||Nx(c,a,y)}return y}function Nx(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Ox(s,a,c,p){a.value=c,a.getSnapshot=p,Lx(a)&&Vx(s)}function Mx(s,a,c){return c(function(){Lx(a)&&Vx(s)})}function Lx(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Rr(s,c)}catch{return!0}}function Vx(s){var a=$i(s,1);a!==null&&Lr(a,s,1,-1)}function Fx(s){var a=ai();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:s},a.queue=s,s=s.dispatch=_P.bind(null,kt,s),[a.memoizedState,s]}function du(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function jx(){return gr().memoizedState}function bh(s,a,c,p){var y=ai();kt.flags|=s,y.memoizedState=du(1|a,c,void 0,p===void 0?null:p)}function Sh(s,a,c,p){var y=gr();p=p===void 0?null:p;var x=void 0;if(Qt!==null){var T=Qt.memoizedState;if(x=T.destroy,p!==null&&Dp(p,T.deps)){y.memoizedState=du(a,c,x,p);return}}kt.flags|=s,y.memoizedState=du(1|a,c,x,p)}function Ux(s,a){return bh(8390656,8,s,a)}function Vp(s,a){return Sh(2048,8,s,a)}function zx(s,a){return Sh(4,2,s,a)}function Bx(s,a){return Sh(4,4,s,a)}function $x(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function qx(s,a,c){return c=c!=null?c.concat([s]):null,Sh(4,4,$x.bind(null,a,s),c)}function Fp(){}function Hx(s,a){var c=gr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Dp(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function Wx(s,a){var c=gr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Dp(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function Kx(s,a,c){return(Ao&21)===0?(s.baseState&&(s.baseState=!1,jn=!0),s.memoizedState=c):(Rr(c,a)||(c=Fl(),kt.lanes|=c,Co|=c,s.baseState=!0),a)}function xP(s,a){var c=Xe;Xe=c!==0&&4>c?c:4,s(!0);var p=Rp.transition;Rp.transition={};try{s(!1),a()}finally{Xe=c,Rp.transition=p}}function Gx(){return gr().memoizedState}function wP(s,a,c){var p=Cs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Qx(s))Yx(a,c);else if(c=kx(s,a,c,p),c!==null){var y=Dn();Lr(c,s,p,y),Xx(c,a,p)}}function _P(s,a,c){var p=Cs(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qx(s))Yx(a,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var T=a.lastRenderedState,V=x(T,c);if(y.hasEagerState=!0,y.eagerState=V,Rr(V,T)){var z=a.interleaved;z===null?(y.next=y,Sp(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=kx(s,a,y,p),c!==null&&(y=Dn(),Lr(c,s,p,y),Xx(c,a,p))}}function Qx(s){var a=s.alternate;return s===kt||a!==null&&a===kt}function Yx(s,a){uu=Th=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Xx(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Ul(s,c)}}var kh={readContext:mr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},EP={readContext:mr,useCallback:function(s,a){return ai().memoizedState=[s,a===void 0?null:a],s},useContext:mr,useEffect:Ux,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,bh(4194308,4,$x.bind(null,a,s),c)},useLayoutEffect:function(s,a){return bh(4194308,4,s,a)},useInsertionEffect:function(s,a){return bh(4,2,s,a)},useMemo:function(s,a){var c=ai();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=ai();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=wP.bind(null,kt,s),[p.memoizedState,s]},useRef:function(s){var a=ai();return s={current:s},a.memoizedState=s},useState:Fx,useDebugValue:Fp,useDeferredValue:function(s){return ai().memoizedState=s},useTransition:function(){var s=Fx(!1),a=s[0];return s=xP.bind(null,s[1]),ai().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=kt,y=ai();if(Tt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),en===null)throw Error(n(349));(Ao&30)!==0||Nx(p,a,c)}y.memoizedState=c;var x={value:c,getSnapshot:a};return y.queue=x,Ux(Mx.bind(null,p,x,s),[s]),p.flags|=2048,du(9,Ox.bind(null,p,x,c,a),void 0,null),c},useId:function(){var s=ai(),a=en.identifierPrefix;if(Tt){var c=Bi,p=zi;c=(p&~(1<<32-Jn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=cu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=vP++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},TP={readContext:mr,useCallback:Hx,useContext:mr,useEffect:Vp,useImperativeHandle:qx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Wx,useReducer:Mp,useRef:jx,useState:function(){return Mp(hu)},useDebugValue:Fp,useDeferredValue:function(s){var a=gr();return Kx(a,Qt.memoizedState,s)},useTransition:function(){var s=Mp(hu)[0],a=gr().memoizedState;return[s,a]},useMutableSource:Rx,useSyncExternalStore:Dx,useId:Gx,unstable_isNewReconciler:!1},bP={readContext:mr,useCallback:Hx,useContext:mr,useEffect:Vp,useImperativeHandle:qx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Wx,useReducer:Lp,useRef:jx,useState:function(){return Lp(hu)},useDebugValue:Fp,useDeferredValue:function(s){var a=gr();return Qt===null?a.memoizedState=s:Kx(a,Qt.memoizedState,s)},useTransition:function(){var s=Lp(hu)[0],a=gr().memoizedState;return[s,a]},useMutableSource:Rx,useSyncExternalStore:Dx,useId:Gx,unstable_isNewReconciler:!1};function Nr(s,a){if(s&&s.defaultProps){a=R({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function jp(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:R({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ih={isMounted:function(s){return(s=s._reactInternals)?Cr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Dn(),y=Cs(s),x=qi(p,y);x.payload=a,c!=null&&(x.callback=c),a=Ss(s,x,y),a!==null&&(Lr(a,s,y,p),xh(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Dn(),y=Cs(s),x=qi(p,y);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Ss(s,x,y),a!==null&&(Lr(a,s,y,p),xh(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Dn(),p=Cs(s),y=qi(c,p);y.tag=2,a!=null&&(y.callback=a),a=Ss(s,y,p),a!==null&&(Lr(a,s,p,c),xh(a,s,p))}};function Jx(s,a,c,p,y,x,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,T):a.prototype&&a.prototype.isPureReactComponent?!Jl(c,p)||!Jl(y,x):!0}function Zx(s,a,c){var p=!1,y=Es,x=a.contextType;return typeof x=="object"&&x!==null?x=mr(x):(y=Fn(a)?To:xn.current,p=a.contextTypes,x=(p=p!=null)?Aa(s,y):Es),a=new a(c,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ih,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),a}function ew(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&Ih.enqueueReplaceState(a,a.state,null)}function Up(s,a,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},kp(s);var x=a.contextType;typeof x=="object"&&x!==null?y.context=mr(x):(x=Fn(a)?To:xn.current,y.context=Aa(s,x)),y.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(jp(s,a,x,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Ih.enqueueReplaceState(y,y.state,null),wh(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function La(s,a){try{var c="",p=a;do c+=Oe(p),p=p.return;while(p);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:y,digest:null}}function zp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Bp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function tw(s,a,c){c=qi(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Oh||(Oh=!0,rm=p),Bp(s,a)},c}function nw(s,a,c){c=qi(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Bp(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Bp(s,a),typeof p!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function rw(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new SP;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),s=jP.bind(null,s,a,c),a.then(s,s))}function iw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function sw(s,a,c,p,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=qi(-1,1),a.tag=2,Ss(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var kP=Y.ReactCurrentOwner,jn=!1;function Rn(s,a,c,p){a.child=s===null?Sx(a,null,c,p):Da(a,s.child,c,p)}function ow(s,a,c,p,y){c=c.render;var x=a.ref;return Oa(a,y),p=Np(s,a,c,p,x,y),c=Op(),s!==null&&!jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Hi(s,a,y)):(Tt&&c&&gp(a),a.flags|=1,Rn(s,a,p,y),a.child)}function aw(s,a,c,p,y){if(s===null){var x=c.type;return typeof x=="function"&&!cm(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,lw(s,a,x,p,y)):(s=Uh(c.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&y)===0){var T=x.memoizedProps;if(c=c.compare,c=c!==null?c:Jl,c(T,p)&&s.ref===a.ref)return Hi(s,a,y)}return a.flags|=1,s=Rs(x,p),s.ref=a.ref,s.return=a,a.child=s}function lw(s,a,c,p,y){if(s!==null){var x=s.memoizedProps;if(Jl(x,p)&&s.ref===a.ref)if(jn=!1,a.pendingProps=p=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(jn=!0);else return a.lanes=s.lanes,Hi(s,a,y)}return $p(s,a,c,p,y)}function uw(s,a,c){var p=a.pendingProps,y=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Fa,sr),sr|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(Fa,sr),sr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:c,ft(Fa,sr),sr|=p}else x!==null?(p=x.baseLanes|c,a.memoizedState=null):p=c,ft(Fa,sr),sr|=p;return Rn(s,a,y,c),a.child}function cw(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function $p(s,a,c,p,y){var x=Fn(c)?To:xn.current;return x=Aa(a,x),Oa(a,y),c=Np(s,a,c,p,x,y),p=Op(),s!==null&&!jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Hi(s,a,y)):(Tt&&p&&gp(a),a.flags|=1,Rn(s,a,c,y),a.child)}function hw(s,a,c,p,y){if(Fn(c)){var x=!0;hh(a)}else x=!1;if(Oa(a,y),a.stateNode===null)Ch(s,a),Zx(a,c,p),Up(a,c,p,y),p=!0;else if(s===null){var T=a.stateNode,V=a.memoizedProps;T.props=V;var z=T.context,X=c.contextType;typeof X=="object"&&X!==null?X=mr(X):(X=Fn(c)?To:xn.current,X=Aa(a,X));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==p||z!==X)&&ew(a,T,p,X),bs=!1;var ae=a.memoizedState;T.state=ae,wh(a,p,T,y),z=a.memoizedState,V!==p||ae!==z||Vn.current||bs?(typeof le=="function"&&(jp(a,c,le,p),z=a.memoizedState),(V=bs||Jx(a,c,V,p,ae,z,X))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),T.props=p,T.state=z,T.context=X,p=V):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{T=a.stateNode,Ix(s,a),V=a.memoizedProps,X=a.type===a.elementType?V:Nr(a.type,V),T.props=X,ue=a.pendingProps,ae=T.context,z=c.contextType,typeof z=="object"&&z!==null?z=mr(z):(z=Fn(c)?To:xn.current,z=Aa(a,z));var ge=c.getDerivedStateFromProps;(le=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==ue||ae!==z)&&ew(a,T,p,z),bs=!1,ae=a.memoizedState,T.state=ae,wh(a,p,T,y);var _e=a.memoizedState;V!==ue||ae!==_e||Vn.current||bs?(typeof ge=="function"&&(jp(a,c,ge,p),_e=a.memoizedState),(X=bs||Jx(a,c,X,p,ae,_e,z)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,_e,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,_e,z)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=_e),T.props=p,T.state=_e,T.context=z,p=X):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(a.flags|=1024),p=!1)}return qp(s,a,c,p,x,y)}function qp(s,a,c,p,y,x){cw(s,a);var T=(a.flags&128)!==0;if(!p&&!T)return y&&gx(a,c,!1),Hi(s,a,x);p=a.stateNode,kP.current=a;var V=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&T?(a.child=Da(a,s.child,null,x),a.child=Da(a,null,V,x)):Rn(s,a,V,x),a.memoizedState=p.state,y&&gx(a,c,!0),a.child}function dw(s){var a=s.stateNode;a.pendingContext?px(s,a.pendingContext,a.pendingContext!==a.context):a.context&&px(s,a.context,!1),Ip(s,a.containerInfo)}function fw(s,a,c,p,y){return Ra(),wp(y),a.flags|=256,Rn(s,a,c,p),a.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function Wp(s){return{baseLanes:s,cachePool:null,transitions:null}}function pw(s,a,c){var p=a.pendingProps,y=St.current,x=!1,T=(a.flags&128)!==0,V;if((V=T)||(V=s!==null&&s.memoizedState===null?!1:(y&2)!==0),V?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ft(St,y&1),s===null)return xp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=p.children,s=p.fallback,x?(p=a.mode,x=a.child,T={mode:"hidden",children:T},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=zh(T,p,0,null),s=No(s,p,c,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=Wp(c),a.memoizedState=Hp,s):Kp(a,T));if(y=s.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return IP(s,a,T,p,V,y,c);if(x){x=p.fallback,T=a.mode,y=s.child,V=y.sibling;var z={mode:"hidden",children:p.children};return(T&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=Rs(y,z),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?x=Rs(V,x):(x=No(x,T,c,null),x.flags|=2),x.return=a,p.return=a,p.sibling=x,a.child=p,p=x,x=a.child,T=s.child.memoizedState,T=T===null?Wp(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=s.childLanes&~c,a.memoizedState=Hp,p}return x=s.child,s=x.sibling,p=Rs(x,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Kp(s,a){return a=zh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ah(s,a,c,p){return p!==null&&wp(p),Da(a,s.child,null,c),s=Kp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function IP(s,a,c,p,y,x,T){if(c)return a.flags&256?(a.flags&=-257,p=zp(Error(n(422))),Ah(s,a,T,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=p.fallback,y=a.mode,p=zh({mode:"visible",children:p.children},y,0,null),x=No(x,y,T,null),x.flags|=2,p.return=a,x.return=a,p.sibling=x,a.child=p,(a.mode&1)!==0&&Da(a,s.child,null,T),a.child.memoizedState=Wp(T),a.memoizedState=Hp,x);if((a.mode&1)===0)return Ah(s,a,T,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,x=Error(n(419)),p=zp(x,p,void 0),Ah(s,a,T,p)}if(V=(T&s.childLanes)!==0,jn||V){if(p=en,p!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|T))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,$i(s,y),Lr(p,s,y,-1))}return um(),p=zp(Error(n(421))),Ah(s,a,T,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=UP.bind(null,s),y._reactRetry=a,null):(s=x.treeContext,ir=ws(y.nextSibling),rr=a,Tt=!0,Dr=null,s!==null&&(fr[pr++]=zi,fr[pr++]=Bi,fr[pr++]=bo,zi=s.id,Bi=s.overflow,bo=a),a=Kp(a,p.children),a.flags|=4096,a)}function mw(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),bp(s.return,a,c)}function Gp(s,a,c,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=c,x.tailMode=y)}function gw(s,a,c){var p=a.pendingProps,y=p.revealOrder,x=p.tail;if(Rn(s,a,p.children,c),p=St.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&mw(s,c,a);else if(s.tag===19)mw(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ft(St,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&_h(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Gp(a,!1,y,c,x);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&_h(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Gp(a,!0,c,null,x);break;case"together":Gp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ch(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Hi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Co|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=Rs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Rs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function AP(s,a,c){switch(a.tag){case 3:dw(a),Ra();break;case 5:Px(a);break;case 1:Fn(a.type)&&hh(a);break;case 4:Ip(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;ft(yh,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ft(St,St.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?pw(s,a,c):(ft(St,St.current&1),s=Hi(s,a,c),s!==null?s.sibling:null);ft(St,St.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return gw(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(St,St.current),p)break;return null;case 22:case 23:return a.lanes=0,uw(s,a,c)}return Hi(s,a,c)}var yw,Qp,vw,xw;yw=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Qp=function(){},vw=function(s,a,c,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,Io(oi.current);var x=null;switch(c){case"input":y=Ir(s,y),p=Ir(s,p),x=[];break;case"select":y=R({},y,{value:void 0}),p=R({},p,{value:void 0}),x=[];break;case"textarea":y=Ii(s,y),p=Ii(s,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=lh)}ot(c,p);var T;c=null;for(X in y)if(!p.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var V=y[X];for(T in V)V.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?x||(x=[]):(x=x||[]).push(X,null));for(X in p){var z=p[X];if(V=y?.[X],p.hasOwnProperty(X)&&z!==V&&(z!=null||V!=null))if(X==="style")if(V){for(T in V)!V.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in z)z.hasOwnProperty(T)&&V[T]!==z[T]&&(c||(c={}),c[T]=z[T])}else c||(x||(x=[]),x.push(X,c)),c=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,V=V?V.__html:void 0,z!=null&&V!==z&&(x=x||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(x=x||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&vt("scroll",s),x||V===z||(x=[])):(x=x||[]).push(X,z))}c&&(x=x||[]).push("style",c);var X=x;(a.updateQueue=X)&&(a.flags|=4)}},xw=function(s,a,c,p){c!==p&&(a.flags|=4)};function fu(s,a){if(!Tt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function _n(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function CP(s,a,c){var p=a.pendingProps;switch(yp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(a),null;case 1:return Fn(a.type)&&ch(),_n(a),null;case 3:return p=a.stateNode,Ma(),xt(Vn),xt(xn),Pp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(mh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Dr!==null&&(om(Dr),Dr=null))),Qp(s,a),_n(a),null;case 5:Ap(a);var y=Io(lu.current);if(c=a.type,s!==null&&a.stateNode!=null)vw(s,a,c,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return _n(a),null}if(s=Io(oi.current),mh(a)){p=a.stateNode,c=a.type;var x=a.memoizedProps;switch(p[si]=a,p[ru]=x,s=(a.mode&1)!==0,c){case"dialog":vt("cancel",p),vt("close",p);break;case"iframe":case"object":case"embed":vt("load",p);break;case"video":case"audio":for(y=0;y<eu.length;y++)vt(eu[y],p);break;case"source":vt("error",p);break;case"img":case"image":case"link":vt("error",p),vt("load",p);break;case"details":vt("toggle",p);break;case"input":qr(p,x),vt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},vt("invalid",p);break;case"textarea":Ai(p,x),vt("invalid",p)}ot(c,x),y=null;for(var T in x)if(x.hasOwnProperty(T)){var V=x[T];T==="children"?typeof V=="string"?p.textContent!==V&&(x.suppressHydrationWarning!==!0&&ah(p.textContent,V,s),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&ah(p.textContent,V,s),y=["children",""+V]):i.hasOwnProperty(T)&&V!=null&&T==="onScroll"&&vt("scroll",p)}switch(c){case"input":gn(p),Ar(p,x,!0);break;case"textarea":gn(p),Ie(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=lh)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=J(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=T.createElement(c,{is:p.is}):(s=T.createElement(c),c==="select"&&(T=s,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):s=T.createElementNS(s,c),s[si]=a,s[ru]=p,yw(s,a,!1,!1),a.stateNode=s;e:{switch(T=on(c,p),c){case"dialog":vt("cancel",s),vt("close",s),y=p;break;case"iframe":case"object":case"embed":vt("load",s),y=p;break;case"video":case"audio":for(y=0;y<eu.length;y++)vt(eu[y],s);y=p;break;case"source":vt("error",s),y=p;break;case"img":case"image":case"link":vt("error",s),vt("load",s),y=p;break;case"details":vt("toggle",s),y=p;break;case"input":qr(s,p),y=Ir(s,p),vt("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=R({},p,{value:void 0}),vt("invalid",s);break;case"textarea":Ai(s,p),y=Ii(s,p),vt("invalid",s);break;default:y=p}ot(c,y),V=y;for(x in V)if(V.hasOwnProperty(x)){var z=V[x];x==="style"?sn(s,z):x==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ve(s,z)):x==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&Be(s,z):typeof z=="number"&&Be(s,""+z):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?z!=null&&x==="onScroll"&&vt("scroll",s):z!=null&&M(s,x,z,T))}switch(c){case"input":gn(s),Ar(s,p,!1);break;case"textarea":gn(s),Ie(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Fe(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?Cn(s,!!p.multiple,x,!1):p.defaultValue!=null&&Cn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=lh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return _n(a),null;case 6:if(s&&a.stateNode!=null)xw(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(c=Io(lu.current),Io(oi.current),mh(a)){if(p=a.stateNode,c=a.memoizedProps,p[si]=a,(x=p.nodeValue!==c)&&(s=rr,s!==null))switch(s.tag){case 3:ah(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ah(p.nodeValue,c,(s.mode&1)!==0)}x&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[si]=a,a.stateNode=p}return _n(a),null;case 13:if(xt(St),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Tt&&ir!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ex(),Ra(),a.flags|=98560,x=!1;else if(x=mh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[si]=a}else Ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_n(a),x=!1}else Dr!==null&&(om(Dr),Dr=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(St.current&1)!==0?Yt===0&&(Yt=3):um())),a.updateQueue!==null&&(a.flags|=4),_n(a),null);case 4:return Ma(),Qp(s,a),s===null&&tu(a.stateNode.containerInfo),_n(a),null;case 10:return Tp(a.type._context),_n(a),null;case 17:return Fn(a.type)&&ch(),_n(a),null;case 19:if(xt(St),x=a.memoizedState,x===null)return _n(a),null;if(p=(a.flags&128)!==0,T=x.rendering,T===null)if(p)fu(x,!1);else{if(Yt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=_h(s),T!==null){for(a.flags|=128,fu(x,!1),p=T.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)x=c,s=p,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,s=T.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ft(St,St.current&1|2),a.child}s=s.sibling}x.tail!==null&&yt()>ja&&(a.flags|=128,p=!0,fu(x,!1),a.lanes=4194304)}else{if(!p)if(s=_h(T),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),fu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!Tt)return _n(a),null}else 2*yt()-x.renderingStartTime>ja&&c!==1073741824&&(a.flags|=128,p=!0,fu(x,!1),a.lanes=4194304);x.isBackwards?(T.sibling=a.child,a.child=T):(c=x.last,c!==null?c.sibling=T:a.child=T,x.last=T)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=yt(),a.sibling=null,c=St.current,ft(St,p?c&1|2:c&1),a):(_n(a),null);case 22:case 23:return lm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(sr&1073741824)!==0&&(_n(a),a.subtreeFlags&6&&(a.flags|=8192)):_n(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function PP(s,a){switch(yp(a),a.tag){case 1:return Fn(a.type)&&ch(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ma(),xt(Vn),xt(xn),Pp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ap(a),null;case 13:if(xt(St),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return xt(St),null;case 4:return Ma(),null;case 10:return Tp(a.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var Ph=!1,En=!1,RP=typeof WeakSet=="function"?WeakSet:Set,we=null;function Va(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Nt(s,a,p)}else c.current=null}function Yp(s,a,c){try{c()}catch(p){Nt(s,a,p)}}var ww=!1;function DP(s,a){if(lp=Li,s=J0(),ep(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var T=0,V=-1,z=-1,X=0,le=0,ue=s,ae=null;t:for(;;){for(var ge;ue!==c||y!==0&&ue.nodeType!==3||(V=T+y),ue!==x||p!==0&&ue.nodeType!==3||(z=T+p),ue.nodeType===3&&(T+=ue.nodeValue.length),(ge=ue.firstChild)!==null;)ae=ue,ue=ge;for(;;){if(ue===s)break t;if(ae===c&&++X===y&&(V=T),ae===x&&++le===p&&(z=T),(ge=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=ge}c=V===-1||z===-1?null:{start:V,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(up={focusedElem:s,selectionRange:c},Li=!1,we=a;we!==null;)if(a=we,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,we=s;else for(;we!==null;){a=we;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var be=_e.memoizedProps,Ft=_e.memoizedState,W=a.stateNode,$=W.getSnapshotBeforeUpdate(a.elementType===a.type?be:Nr(a.type,be),Ft);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Nt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,we=s;break}we=a.return}return _e=ww,ww=!1,_e}function pu(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&Yp(a,c,x)}y=y.next}while(y!==p)}}function Rh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Xp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function _w(s){var a=s.alternate;a!==null&&(s.alternate=null,_w(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[si],delete a[ru],delete a[fp],delete a[pP],delete a[mP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ew(s){return s.tag===5||s.tag===3||s.tag===4}function Tw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ew(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jp(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=lh));else if(p!==4&&(s=s.child,s!==null))for(Jp(s,a,c),s=s.sibling;s!==null;)Jp(s,a,c),s=s.sibling}function Zp(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Zp(s,a,c),s=s.sibling;s!==null;)Zp(s,a,c),s=s.sibling}var un=null,Or=!1;function ks(s,a,c){for(c=c.child;c!==null;)bw(s,a,c),c=c.sibling}function bw(s,a,c){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(fo,c)}catch{}switch(c.tag){case 5:En||Va(c,a);case 6:var p=un,y=Or;un=null,ks(s,a,c),un=p,Or=y,un!==null&&(Or?(s=un,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):un.removeChild(c.stateNode));break;case 18:un!==null&&(Or?(s=un,c=c.stateNode,s.nodeType===8?dp(s.parentNode,c):s.nodeType===1&&dp(s,c),gs(s)):dp(un,c.stateNode));break;case 4:p=un,y=Or,un=c.stateNode.containerInfo,Or=!0,ks(s,a,c),un=p,Or=y;break;case 0:case 11:case 14:case 15:if(!En&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&Yp(c,a,T),y=y.next}while(y!==p)}ks(s,a,c);break;case 1:if(!En&&(Va(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(V){Nt(c,a,V)}ks(s,a,c);break;case 21:ks(s,a,c);break;case 22:c.mode&1?(En=(p=En)||c.memoizedState!==null,ks(s,a,c),En=p):ks(s,a,c);break;default:ks(s,a,c)}}function Sw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new RP),a.forEach(function(p){var y=zP.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function Mr(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var x=s,T=a,V=T;e:for(;V!==null;){switch(V.tag){case 5:un=V.stateNode,Or=!1;break e;case 3:un=V.stateNode.containerInfo,Or=!0;break e;case 4:un=V.stateNode.containerInfo,Or=!0;break e}V=V.return}if(un===null)throw Error(n(160));bw(x,T,y),un=null,Or=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(X){Nt(y,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)kw(a,s),a=a.sibling}function kw(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mr(a,s),li(s),p&4){try{pu(3,s,s.return),Rh(3,s)}catch(be){Nt(s,s.return,be)}try{pu(5,s,s.return)}catch(be){Nt(s,s.return,be)}}break;case 1:Mr(a,s),li(s),p&512&&c!==null&&Va(c,c.return);break;case 5:if(Mr(a,s),li(s),p&512&&c!==null&&Va(c,c.return),s.flags&32){var y=s.stateNode;try{Be(y,"")}catch(be){Nt(s,s.return,be)}}if(p&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,T=c!==null?c.memoizedProps:x,V=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&cr(y,x),on(V,T);var X=on(V,x);for(T=0;T<z.length;T+=2){var le=z[T],ue=z[T+1];le==="style"?sn(y,ue):le==="dangerouslySetInnerHTML"?Ve(y,ue):le==="children"?Be(y,ue):M(y,le,ue,X)}switch(V){case"input":rn(y,x);break;case"textarea":me(y,x);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var ge=x.value;ge!=null?Cn(y,!!x.multiple,ge,!1):ae!==!!x.multiple&&(x.defaultValue!=null?Cn(y,!!x.multiple,x.defaultValue,!0):Cn(y,!!x.multiple,x.multiple?[]:"",!1))}y[ru]=x}catch(be){Nt(s,s.return,be)}}break;case 6:if(Mr(a,s),li(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(be){Nt(s,s.return,be)}}break;case 3:if(Mr(a,s),li(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{gs(a.containerInfo)}catch(be){Nt(s,s.return,be)}break;case 4:Mr(a,s),li(s);break;case 13:Mr(a,s),li(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(nm=yt())),p&4&&Sw(s);break;case 22:if(le=c!==null&&c.memoizedState!==null,s.mode&1?(En=(X=En)||le,Mr(a,s),En=X):Mr(a,s),li(s),p&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!le&&(s.mode&1)!==0)for(we=s,le=s.child;le!==null;){for(ue=we=le;we!==null;){switch(ae=we,ge=ae.child,ae.tag){case 0:case 11:case 14:case 15:pu(4,ae,ae.return);break;case 1:Va(ae,ae.return);var _e=ae.stateNode;if(typeof _e.componentWillUnmount=="function"){p=ae,c=ae.return;try{a=p,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(be){Nt(p,c,be)}}break;case 5:Va(ae,ae.return);break;case 22:if(ae.memoizedState!==null){Cw(ue);continue}}ge!==null?(ge.return=ae,we=ge):Cw(ue)}le=le.sibling}e:for(le=null,ue=s;;){if(ue.tag===5){if(le===null){le=ue;try{y=ue.stateNode,X?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=ue.stateNode,z=ue.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,V.style.display=Pt("display",T))}catch(be){Nt(s,s.return,be)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=X?"":ue.memoizedProps}catch(be){Nt(s,s.return,be)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===s)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===s)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===s)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Mr(a,s),li(s),p&4&&Sw(s);break;case 21:break;default:Mr(a,s),li(s)}}function li(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Ew(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Be(y,""),p.flags&=-33);var x=Tw(s);Zp(s,x,y);break;case 3:case 4:var T=p.stateNode.containerInfo,V=Tw(s);Jp(s,V,T);break;default:throw Error(n(161))}}catch(z){Nt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function NP(s,a,c){we=s,Iw(s)}function Iw(s,a,c){for(var p=(s.mode&1)!==0;we!==null;){var y=we,x=y.child;if(y.tag===22&&p){var T=y.memoizedState!==null||Ph;if(!T){var V=y.alternate,z=V!==null&&V.memoizedState!==null||En;V=Ph;var X=En;if(Ph=T,(En=z)&&!X)for(we=y;we!==null;)T=we,z=T.child,T.tag===22&&T.memoizedState!==null?Pw(y):z!==null?(z.return=T,we=z):Pw(y);for(;x!==null;)we=x,Iw(x),x=x.sibling;we=y,Ph=V,En=X}Aw(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,we=x):Aw(s)}}function Aw(s){for(;we!==null;){var a=we;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:En||Rh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!En)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Nr(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Cx(a,x,p);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Cx(a,T,c)}break;case 5:var V=a.stateNode;if(c===null&&a.flags&4){c=V;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&gs(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||a.flags&512&&Xp(a)}catch(ae){Nt(a,a.return,ae)}}if(a===s){we=null;break}if(c=a.sibling,c!==null){c.return=a.return,we=c;break}we=a.return}}function Cw(s){for(;we!==null;){var a=we;if(a===s){we=null;break}var c=a.sibling;if(c!==null){c.return=a.return,we=c;break}we=a.return}}function Pw(s){for(;we!==null;){var a=we;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Rh(4,a)}catch(z){Nt(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(z){Nt(a,y,z)}}var x=a.return;try{Xp(a)}catch(z){Nt(a,x,z)}break;case 5:var T=a.return;try{Xp(a)}catch(z){Nt(a,T,z)}}}catch(z){Nt(a,a.return,z)}if(a===s){we=null;break}var V=a.sibling;if(V!==null){V.return=a.return,we=V;break}we=a.return}}var OP=Math.ceil,Dh=Y.ReactCurrentDispatcher,em=Y.ReactCurrentOwner,yr=Y.ReactCurrentBatchConfig,Ze=0,en=null,Bt=null,cn=0,sr=0,Fa=_s(0),Yt=0,mu=null,Co=0,Nh=0,tm=0,gu=null,Un=null,nm=0,ja=1/0,Wi=null,Oh=!1,rm=null,Is=null,Mh=!1,As=null,Lh=0,yu=0,im=null,Vh=-1,Fh=0;function Dn(){return(Ze&6)!==0?yt():Vh!==-1?Vh:Vh=yt()}function Cs(s){return(s.mode&1)===0?1:(Ze&2)!==0&&cn!==0?cn&-cn:yP.transition!==null?(Fh===0&&(Fh=Fl()),Fh):(s=Xe,s!==0||(s=window.event,s=s===void 0?16:pa(s.type)),s)}function Lr(s,a,c,p){if(50<yu)throw yu=0,im=null,Error(n(185));yo(s,c,p),((Ze&2)===0||s!==en)&&(s===en&&((Ze&2)===0&&(Nh|=c),Yt===4&&Ps(s,cn)),zn(s,p),c===1&&Ze===0&&(a.mode&1)===0&&(ja=yt()+500,dh&&Ts()))}function zn(s,a){var c=s.callbackNode;go(s,a);var p=Ni(s,s===en?cn:0);if(p===0)c!==null&&aa(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&aa(c),a===1)s.tag===0?gP(Dw.bind(null,s)):yx(Dw.bind(null,s)),dP(function(){(Ze&6)===0&&Ts()}),c=null;else{switch(Qr(p)){case 1:c=la;break;case 4:c=Ml;break;case 16:c=ho;break;case 536870912:c=ua;break;default:c=ho}c=Uw(c,Rw.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Rw(s,a){if(Vh=-1,Fh=0,(Ze&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Ua()&&s.callbackNode!==c)return null;var p=Ni(s,s===en?cn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=jh(s,p);else{a=p;var y=Ze;Ze|=2;var x=Ow();(en!==s||cn!==a)&&(Wi=null,ja=yt()+500,Ro(s,a));do try{VP();break}catch(V){Nw(s,V)}while(!0);Ep(),Dh.current=x,Ze=y,Bt!==null?a=0:(en=null,cn=0,a=Yt)}if(a!==0){if(a===2&&(y=Vl(s),y!==0&&(p=y,a=sm(s,y))),a===1)throw c=mu,Ro(s,0),Ps(s,p),zn(s,yt()),c;if(a===6)Ps(s,p);else{if(y=s.current.alternate,(p&30)===0&&!MP(y)&&(a=jh(s,p),a===2&&(x=Vl(s),x!==0&&(p=x,a=sm(s,x))),a===1))throw c=mu,Ro(s,0),Ps(s,p),zn(s,yt()),c;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Do(s,Un,Wi);break;case 3:if(Ps(s,p),(p&130023424)===p&&(a=nm+500-yt(),10<a)){if(Ni(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Dn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=hp(Do.bind(null,s,Un,Wi),a);break}Do(s,Un,Wi);break;case 4:if(Ps(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var T=31-Jn(p);x=1<<T,T=a[T],T>y&&(y=T),p&=~x}if(p=y,p=yt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*OP(p/1960))-p,10<p){s.timeoutHandle=hp(Do.bind(null,s,Un,Wi),p);break}Do(s,Un,Wi);break;case 5:Do(s,Un,Wi);break;default:throw Error(n(329))}}}return zn(s,yt()),s.callbackNode===c?Rw.bind(null,s):null}function sm(s,a){var c=gu;return s.current.memoizedState.isDehydrated&&(Ro(s,a).flags|=256),s=jh(s,a),s!==2&&(a=Un,Un=c,a!==null&&om(a)),s}function om(s){Un===null?Un=s:Un.push.apply(Un,s)}function MP(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],x=y.getSnapshot;y=y.value;try{if(!Rr(x(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(s,a){for(a&=~tm,a&=~Nh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Jn(a),p=1<<c;s[c]=-1,a&=~p}}function Dw(s){if((Ze&6)!==0)throw Error(n(327));Ua();var a=Ni(s,0);if((a&1)===0)return zn(s,yt()),null;var c=jh(s,a);if(s.tag!==0&&c===2){var p=Vl(s);p!==0&&(a=p,c=sm(s,p))}if(c===1)throw c=mu,Ro(s,0),Ps(s,a),zn(s,yt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Do(s,Un,Wi),zn(s,yt()),null}function am(s,a){var c=Ze;Ze|=1;try{return s(a)}finally{Ze=c,Ze===0&&(ja=yt()+500,dh&&Ts())}}function Po(s){As!==null&&As.tag===0&&(Ze&6)===0&&Ua();var a=Ze;Ze|=1;var c=yr.transition,p=Xe;try{if(yr.transition=null,Xe=1,s)return s()}finally{Xe=p,yr.transition=c,Ze=a,(Ze&6)===0&&Ts()}}function lm(){sr=Fa.current,xt(Fa)}function Ro(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,hP(c)),Bt!==null)for(c=Bt.return;c!==null;){var p=c;switch(yp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ch();break;case 3:Ma(),xt(Vn),xt(xn),Pp();break;case 5:Ap(p);break;case 4:Ma();break;case 13:xt(St);break;case 19:xt(St);break;case 10:Tp(p.type._context);break;case 22:case 23:lm()}c=c.return}if(en=s,Bt=s=Rs(s.current,null),cn=sr=a,Yt=0,mu=null,tm=Nh=Co=0,Un=gu=null,ko!==null){for(a=0;a<ko.length;a++)if(c=ko[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,x=c.pending;if(x!==null){var T=x.next;x.next=y,p.next=T}c.pending=p}ko=null}return s}function Nw(s,a){do{var c=Bt;try{if(Ep(),Eh.current=kh,Th){for(var p=kt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Th=!1}if(Ao=0,Zt=Qt=kt=null,uu=!1,cu=0,em.current=null,c===null||c.return===null){Yt=1,mu=a,Bt=null;break}e:{var x=s,T=c.return,V=c,z=a;if(a=cn,V.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,le=V,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var ge=iw(T);if(ge!==null){ge.flags&=-257,sw(ge,T,V,x,a),ge.mode&1&&rw(x,X,a),a=ge,z=X;var _e=a.updateQueue;if(_e===null){var be=new Set;be.add(z),a.updateQueue=be}else _e.add(z);break e}else{if((a&1)===0){rw(x,X,a),um();break e}z=Error(n(426))}}else if(Tt&&V.mode&1){var Ft=iw(T);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),sw(Ft,T,V,x,a),wp(La(z,V));break e}}x=z=La(z,V),Yt!==4&&(Yt=2),gu===null?gu=[x]:gu.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var W=tw(x,z,a);Ax(x,W);break e;case 1:V=z;var $=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Is===null||!Is.has(Q)))){x.flags|=65536,a&=-a,x.lanes|=a;var he=nw(x,V,a);Ax(x,he);break e}}x=x.return}while(x!==null)}Lw(c)}catch(ke){a=ke,Bt===c&&c!==null&&(Bt=c=c.return);continue}break}while(!0)}function Ow(){var s=Dh.current;return Dh.current=kh,s===null?kh:s}function um(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),en===null||(Co&268435455)===0&&(Nh&268435455)===0||Ps(en,cn)}function jh(s,a){var c=Ze;Ze|=2;var p=Ow();(en!==s||cn!==a)&&(Wi=null,Ro(s,a));do try{LP();break}catch(y){Nw(s,y)}while(!0);if(Ep(),Ze=c,Dh.current=p,Bt!==null)throw Error(n(261));return en=null,cn=0,Yt}function LP(){for(;Bt!==null;)Mw(Bt)}function VP(){for(;Bt!==null&&!co();)Mw(Bt)}function Mw(s){var a=jw(s.alternate,s,sr);s.memoizedProps=s.pendingProps,a===null?Lw(s):Bt=a,em.current=null}function Lw(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=CP(c,a,sr),c!==null){Bt=c;return}}else{if(c=PP(c,a),c!==null){c.flags&=32767,Bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Yt=6,Bt=null;return}}if(a=a.sibling,a!==null){Bt=a;return}Bt=a=s}while(a!==null);Yt===0&&(Yt=5)}function Do(s,a,c){var p=Xe,y=yr.transition;try{yr.transition=null,Xe=1,FP(s,a,c,p)}finally{yr.transition=y,Xe=p}return null}function FP(s,a,c,p){do Ua();while(As!==null);if((Ze&6)!==0)throw Error(n(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Qf(s,x),s===en&&(Bt=en=null,cn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Mh||(Mh=!0,Uw(ho,function(){return Ua(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=yr.transition,yr.transition=null;var T=Xe;Xe=1;var V=Ze;Ze|=4,em.current=null,DP(s,c),kw(c,s),iP(up),Li=!!lp,up=lp=null,s.current=c,NP(c),Di(),Ze=V,Xe=T,yr.transition=x}else s.current=c;if(Mh&&(Mh=!1,As=s,Lh=y),x=s.pendingLanes,x===0&&(Is=null),Wc(c.stateNode),zn(s,yt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Oh)throw Oh=!1,s=rm,rm=null,s;return(Lh&1)!==0&&s.tag!==0&&Ua(),x=s.pendingLanes,(x&1)!==0?s===im?yu++:(yu=0,im=s):yu=0,Ts(),null}function Ua(){if(As!==null){var s=Qr(Lh),a=yr.transition,c=Xe;try{if(yr.transition=null,Xe=16>s?16:s,As===null)var p=!1;else{if(s=As,As=null,Lh=0,(Ze&6)!==0)throw Error(n(331));var y=Ze;for(Ze|=4,we=s.current;we!==null;){var x=we,T=x.child;if((we.flags&16)!==0){var V=x.deletions;if(V!==null){for(var z=0;z<V.length;z++){var X=V[z];for(we=X;we!==null;){var le=we;switch(le.tag){case 0:case 11:case 15:pu(8,le,x)}var ue=le.child;if(ue!==null)ue.return=le,we=ue;else for(;we!==null;){le=we;var ae=le.sibling,ge=le.return;if(_w(le),le===X){we=null;break}if(ae!==null){ae.return=ge,we=ae;break}we=ge}}}var _e=x.alternate;if(_e!==null){var be=_e.child;if(be!==null){_e.child=null;do{var Ft=be.sibling;be.sibling=null,be=Ft}while(be!==null)}}we=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,we=T;else e:for(;we!==null;){if(x=we,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:pu(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,we=W;break e}we=x.return}}var $=s.current;for(we=$;we!==null;){T=we;var Q=T.child;if((T.subtreeFlags&2064)!==0&&Q!==null)Q.return=T,we=Q;else e:for(T=$;we!==null;){if(V=we,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Rh(9,V)}}catch(ke){Nt(V,V.return,ke)}if(V===T){we=null;break e}var he=V.sibling;if(he!==null){he.return=V.return,we=he;break e}we=V.return}}if(Ze=y,Ts(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(fo,s)}catch{}p=!0}return p}finally{Xe=c,yr.transition=a}}return!1}function Vw(s,a,c){a=La(c,a),a=tw(s,a,1),s=Ss(s,a,1),a=Dn(),s!==null&&(yo(s,1,a),zn(s,a))}function Nt(s,a,c){if(s.tag===3)Vw(s,s,c);else for(;a!==null;){if(a.tag===3){Vw(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Is===null||!Is.has(p))){s=La(c,s),s=nw(a,s,1),a=Ss(a,s,1),s=Dn(),a!==null&&(yo(a,1,s),zn(a,s));break}}a=a.return}}function jP(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Dn(),s.pingedLanes|=s.suspendedLanes&c,en===s&&(cn&c)===c&&(Yt===4||Yt===3&&(cn&130023424)===cn&&500>yt()-nm?Ro(s,0):tm|=c),zn(s,a)}function Fw(s,a){a===0&&((s.mode&1)===0?a=1:(a=fs,fs<<=1,(fs&130023424)===0&&(fs=4194304)));var c=Dn();s=$i(s,a),s!==null&&(yo(s,a,c),zn(s,c))}function UP(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Fw(s,c)}function zP(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Fw(s,c)}var jw;jw=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Vn.current)jn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return jn=!1,AP(s,a,c);jn=(s.flags&131072)!==0}else jn=!1,Tt&&(a.flags&1048576)!==0&&vx(a,ph,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Ch(s,a),s=a.pendingProps;var y=Aa(a,xn.current);Oa(a,c),y=Np(null,a,p,s,y,c);var x=Op();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Fn(p)?(x=!0,hh(a)):x=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,kp(a),y.updater=Ih,a.stateNode=y,y._reactInternals=a,Up(a,p,s,c),a=qp(null,a,p,!0,x,c)):(a.tag=0,Tt&&x&&gp(a),Rn(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Ch(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=$P(p),s=Nr(p,s),y){case 0:a=$p(null,a,p,s,c);break e;case 1:a=hw(null,a,p,s,c);break e;case 11:a=ow(null,a,p,s,c);break e;case 14:a=aw(null,a,p,Nr(p.type,s),c);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Nr(p,y),$p(s,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Nr(p,y),hw(s,a,p,y,c);case 3:e:{if(dw(a),s===null)throw Error(n(387));p=a.pendingProps,x=a.memoizedState,y=x.element,Ix(s,a),wh(a,p,null,c);var T=a.memoizedState;if(p=T.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){y=La(Error(n(423)),a),a=fw(s,a,p,c,y);break e}else if(p!==y){y=La(Error(n(424)),a),a=fw(s,a,p,c,y);break e}else for(ir=ws(a.stateNode.containerInfo.firstChild),rr=a,Tt=!0,Dr=null,c=Sx(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ra(),p===y){a=Hi(s,a,c);break e}Rn(s,a,p,c)}a=a.child}return a;case 5:return Px(a),s===null&&xp(a),p=a.type,y=a.pendingProps,x=s!==null?s.memoizedProps:null,T=y.children,cp(p,y)?T=null:x!==null&&cp(p,x)&&(a.flags|=32),cw(s,a),Rn(s,a,T,c),a.child;case 6:return s===null&&xp(a),null;case 13:return pw(s,a,c);case 4:return Ip(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Da(a,null,p,c):Rn(s,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Nr(p,y),ow(s,a,p,y,c);case 7:return Rn(s,a,a.pendingProps,c),a.child;case 8:return Rn(s,a,a.pendingProps.children,c),a.child;case 12:return Rn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,x=a.memoizedProps,T=y.value,ft(yh,p._currentValue),p._currentValue=T,x!==null)if(Rr(x.value,T)){if(x.children===y.children&&!Vn.current){a=Hi(s,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var V=x.dependencies;if(V!==null){T=x.child;for(var z=V.firstContext;z!==null;){if(z.context===p){if(x.tag===1){z=qi(-1,c&-c),z.tag=2;var X=x.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?z.next=z:(z.next=le.next,le.next=z),X.pending=z}}x.lanes|=c,z=x.alternate,z!==null&&(z.lanes|=c),bp(x.return,c,a),V.lanes|=c;break}z=z.next}}else if(x.tag===10)T=x.type===a.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(n(341));T.lanes|=c,V=T.alternate,V!==null&&(V.lanes|=c),bp(T,c,a),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===a){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}Rn(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Oa(a,c),y=mr(y),p=p(y),a.flags|=1,Rn(s,a,p,c),a.child;case 14:return p=a.type,y=Nr(p,a.pendingProps),y=Nr(p.type,y),aw(s,a,p,y,c);case 15:return lw(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Nr(p,y),Ch(s,a),a.tag=1,Fn(p)?(s=!0,hh(a)):s=!1,Oa(a,c),Zx(a,p,y),Up(a,p,y,c),qp(null,a,p,!0,s,c);case 19:return gw(s,a,c);case 22:return uw(s,a,c)}throw Error(n(156,a.tag))};function Uw(s,a){return Ol(s,a)}function BP(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(s,a,c,p){return new BP(s,a,c,p)}function cm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $P(s){if(typeof s=="function")return cm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===pe)return 14}return 2}function Rs(s,a){var c=s.alternate;return c===null?(c=vr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Uh(s,a,c,p,y,x){var T=2;if(p=s,typeof s=="function")cm(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case A:return No(c.children,y,x,a);case S:T=8,y|=8;break;case D:return s=vr(12,c,a,y|2),s.elementType=D,s.lanes=x,s;case P:return s=vr(13,c,a,y),s.elementType=P,s.lanes=x,s;case oe:return s=vr(19,c,a,y),s.elementType=oe,s.lanes=x,s;case Ee:return zh(c,y,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:T=10;break e;case O:T=9;break e;case U:T=11;break e;case pe:T=14;break e;case He:T=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=vr(T,c,a,y),a.elementType=s,a.type=p,a.lanes=x,a}function No(s,a,c,p){return s=vr(7,s,p,a),s.lanes=c,s}function zh(s,a,c,p){return s=vr(22,s,p,a),s.elementType=Ee,s.lanes=c,s.stateNode={isHidden:!1},s}function hm(s,a,c){return s=vr(6,s,null,a),s.lanes=c,s}function dm(s,a,c){return a=vr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function qP(s,a,c,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function fm(s,a,c,p,y,x,T,V,z){return s=new qP(s,a,c,V,z),a===1?(a=1,x===!0&&(a|=8)):a=0,x=vr(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(x),s}function HP(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function zw(s){if(!s)return Es;s=s._reactInternals;e:{if(Cr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Fn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Fn(c))return mx(s,c,a)}return a}function Bw(s,a,c,p,y,x,T,V,z){return s=fm(c,p,!0,s,y,x,T,V,z),s.context=zw(null),c=s.current,p=Dn(),y=Cs(c),x=qi(p,y),x.callback=a??null,Ss(c,x,y),s.current.lanes=y,yo(s,y,p),zn(s,p),s}function Bh(s,a,c,p){var y=a.current,x=Dn(),T=Cs(y);return c=zw(c),a.context===null?a.context=c:a.pendingContext=c,a=qi(x,T),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Ss(y,a,T),s!==null&&(Lr(s,y,T,x),xh(s,y,T)),T}function $h(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function $w(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function pm(s,a){$w(s,a),(s=s.alternate)&&$w(s,a)}function WP(){return null}var qw=typeof reportError=="function"?reportError:function(s){console.error(s)};function mm(s){this._internalRoot=s}qh.prototype.render=mm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Bh(s,a,null,null)},qh.prototype.unmount=mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Po(function(){Bh(null,s,null,null)}),a[ji]=null}};function qh(s){this._internalRoot=s}qh.prototype.unstable_scheduleHydration=function(s){if(s){var a=$l();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Zn.length&&a!==0&&a<Zn[c].priority;c++);Zn.splice(c,0,s),c===0&&da(s)}};function gm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Hw(){}function KP(s,a,c,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var X=$h(T);x.call(X)}}var T=Bw(a,p,s,0,null,!1,!1,"",Hw);return s._reactRootContainer=T,s[ji]=T.current,tu(s.nodeType===8?s.parentNode:s),Po(),T}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var X=$h(z);V.call(X)}}var z=fm(s,0,!1,null,null,!1,!1,"",Hw);return s._reactRootContainer=z,s[ji]=z.current,tu(s.nodeType===8?s.parentNode:s),Po(function(){Bh(a,z,c,p)}),z}function Wh(s,a,c,p,y){var x=c._reactRootContainer;if(x){var T=x;if(typeof y=="function"){var V=y;y=function(){var z=$h(T);V.call(z)}}Bh(a,T,s,y)}else T=KP(c,a,s,y,p);return $h(T)}zl=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=tt(a.pendingLanes);c!==0&&(Ul(a,c|1),zn(a,yt()),(Ze&6)===0&&(ja=yt()+500,Ts()))}break;case 13:Po(function(){var p=$i(s,1);if(p!==null){var y=Dn();Lr(p,s,1,y)}}),pm(s,1)}},ca=function(s){if(s.tag===13){var a=$i(s,134217728);if(a!==null){var c=Dn();Lr(a,s,134217728,c)}pm(s,134217728)}},Bl=function(s){if(s.tag===13){var a=Cs(s),c=$i(s,a);if(c!==null){var p=Dn();Lr(c,s,a,p)}pm(s,a)}},$l=function(){return Xe},ql=function(s,a){var c=Xe;try{return Xe=s,a()}finally{Xe=c}},Ci=function(s,a,c){switch(a){case"input":if(rn(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var y=uh(p);if(!y)throw Error(n(90));Ln(p),rn(p,y)}}}break;case"textarea":me(s,c);break;case"select":a=c.value,a!=null&&Cn(s,!!c.multiple,a,!1)}},Vc=am,Fc=Po;var GP={usingClientEntryPoint:!1,Events:[iu,ka,uh,us,cs,am]},vu={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Hc(s),s===null?null:s.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||WP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{fo=Kh.inject(QP),Xn=Kh}catch{}}return Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GP,Bn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(a))throw Error(n(200));return HP(s,a,null,c)},Bn.createRoot=function(s,a){if(!gm(s))throw Error(n(299));var c=!1,p="",y=qw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=fm(s,1,!1,null,null,c,!1,p,y),s[ji]=a.current,tu(s.nodeType===8?s.parentNode:s),new mm(a)},Bn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Hc(a),s=s===null?null:s.stateNode,s},Bn.flushSync=function(s){return Po(s)},Bn.hydrate=function(s,a,c){if(!Hh(a))throw Error(n(200));return Wh(null,s,a,!0,c)},Bn.hydrateRoot=function(s,a,c){if(!gm(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,x="",T=qw;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=Bw(a,null,s,1,c??null,y,!1,x,T),s[ji]=a.current,tu(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new qh(a)},Bn.render=function(s,a,c){if(!Hh(a))throw Error(n(200));return Wh(null,s,a,!1,c)},Bn.unmountComponentAtNode=function(s){if(!Hh(s))throw Error(n(40));return s._reactRootContainer?(Po(function(){Wh(null,null,s,!1,function(){s._reactRootContainer=null,s[ji]=null})}),!0):!1},Bn.unstable_batchedUpdates=am,Bn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Hh(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Wh(s,a,c,!1,p)},Bn.version="18.3.1-next-f1338f8080-20240426",Bn}var Zw;function r2(){if(Zw)return xm.exports;Zw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xm.exports=n2(),xm.exports}var e_;function i2(){if(e_)return Gh;e_=1;var t=r2();return Gh.createRoot=t.createRoot,Gh.hydrateRoot=t.hydrateRoot,Gh}var s2=i2();const o2=xl(s2);var mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},a2={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},l2=class{#e=a2;#n=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},yg=new l2;function u2(t){setTimeout(t,0)}var hf=typeof window>"u"||"Deno"in globalThis;function _r(){}function c2(t,e){return typeof t=="function"?t(e):t}function h2(t){return typeof t=="number"&&t>=0&&t!==1/0}function d2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vg(t,e){return typeof t=="function"?t(e):t}function f2(t,e){return typeof t=="function"?t(e):t}function t_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==My(l,e.options))return!1}else if(!Qu(e.queryKey,l))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||o&&!o(e))}function n_(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ko(e.options.mutationKey)!==Ko(o))return!1}else if(!Qu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function My(t,e){return(e?.queryKeyHashFn||Ko)(t)}function Ko(t){return JSON.stringify(t,(e,n)=>xg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qu(t[n],e[n])):!1}var p2=Object.prototype.hasOwnProperty;function db(t,e){if(t===e)return t;const n=r_(t)&&r_(e);if(!n&&!(xg(t)&&xg(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),l=o.length,u=n?new Array(l):{};let h=0;for(let f=0;f<l;f++){const m=n?f:o[f],g=t[m],v=e[m];if(g===v){u[m]=g,(n?f<i:p2.call(t,m))&&h++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){u[m]=v;continue}const _=db(g,v);u[m]=_,_===g&&h++}return i===l&&h===i?t:u}function m2(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function r_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xg(t){if(!i_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!i_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function i_(t){return Object.prototype.toString.call(t)==="[object Object]"}function g2(t){return new Promise(e=>{yg.setTimeout(e,t)})}function y2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?db(t,e):e}function v2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function x2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ly=Symbol();function fb(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ly?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function w2(t,e){return typeof t=="function"?t(...e):!!t}var _2=class extends mc{#e;#n;#t;constructor(){super(),this.#t=t=>{if(!hf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},pb=new _2;function E2(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var T2=u2;function b2(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=T2;const o=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{o(()=>{u(...h)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var fn=b2(),S2=class extends mc{#e=!0;#n;#t;constructor(){super(),this.#t=t=>{if(!hf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Rd=new S2;function k2(t){return Math.min(1e3*2**t,3e4)}function mb(t){return(t??"online")==="online"?Rd.isOnline():!0}var wg=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function gb(t){let e=!1,n=0,r;const i=E2(),o=()=>i.status!=="pending",l=k=>{if(!o()){const N=new wg(k);v(N),t.onCancel?.(N)}},u=()=>{e=!0},h=()=>{e=!1},f=()=>pb.isFocused()&&(t.networkMode==="always"||Rd.isOnline())&&t.canRun(),m=()=>mb(t.networkMode)&&t.canRun(),g=k=>{o()||(r?.(),i.resolve(k))},v=k=>{o()||(r?.(),i.reject(k))},_=()=>new Promise(k=>{r=N=>{(o()||f())&&k(N)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),C=()=>{if(o())return;let k;const N=n===0?t.initialPromise:void 0;try{k=N??t.fn()}catch(L){k=Promise.reject(L)}Promise.resolve(k).then(g).catch(L=>{if(o())return;const B=t.retry??(hf?0:3),M=t.retryDelay??k2,Y=typeof M=="function"?M(n,L):M,ee=B===!0||typeof B=="number"&&n<B||typeof B=="function"&&B(n,L);if(e||!ee){v(L);return}n++,t.onFail?.(n,L),g2(Y).then(()=>f()?void 0:_()).then(()=>{e?v(L):C()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:m,start:()=>(m()?C():_().then(C),i)}}var yb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),h2(this.gcTime)&&(this.#e=yg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(yg.clearTimeout(this.#e),this.#e=void 0)}},I2=class extends yb{#e;#n;#t;#i;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#t=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=s_(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=s_(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(e,n){const r=y2(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>f2(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ly||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!d2(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},o=()=>{const h=fb(this.options,n),m=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#a=!1,this.options.persister?this.options.persister(h,m,this):h(m)},u=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:o};return i(h),h})();this.options.behavior?.onFetch(u,this),this.#n=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#s({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=gb({initialPromise:n?.initialPromise,fn:u.fetchFn,onCancel:h=>{h instanceof wg&&h.revert&&this.setState({...this.#n,fetchStatus:"idle"}),r.abort()},onFail:(h,f)=>{this.#s({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#t.config.onSuccess?.(h,this),this.#t.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof wg){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#s({type:"error",error:h}),this.#t.config.onError?.(h,this),this.#t.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...A2(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#n=e.manual?i:void 0,i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),fn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:e})})}};function A2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function s_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function o_(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let m=!1;const g=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=fb(e.options,e.fetchOptions),_=async(C,k,N)=>{if(m)return Promise.reject();if(k==null&&C.pages.length)return Promise.resolve(C);const B=(()=>{const H={client:e.client,queryKey:e.queryKey,pageParam:k,direction:N?"backward":"forward",meta:e.options.meta};return g(H),H})(),M=await v(B),{maxPages:Y}=e.options,ee=N?x2:v2;return{pages:ee(C.pages,M,Y),pageParams:ee(C.pageParams,k,Y)}};if(i&&o.length){const C=i==="backward",k=C?C2:a_,N={pages:o,pageParams:l},L=k(r,N);u=await _(N,L,C)}else{const C=t??o.length;do{const k=h===0?l[0]??r.initialPageParam:a_(r,u);if(h>0&&k==null)break;u=await _(u,k),h++}while(h<C)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function a_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function C2(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var P2=class extends yb{#e;#n;#t;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#n=[],this.state=e.state||vb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#n.includes(e)||(this.#n.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#n=this.#n.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#n.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=gb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const i=this.state.status==="pending",o=!this.#i.canStart();try{if(i)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this,r);const u=await this.options.onMutate?.(e,r);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:o})}const l=await this.#i.start();return await this.#t.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#r({type:"error",error:l})}}finally{this.#t.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),fn.batch(()=>{this.#n.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function vb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var R2=class extends mc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#n=new Map,this.#t=0}#e;#n;#t;build(t,e,n){const r=new P2({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Qh(t);if(typeof e=="string"){const n=this.#n.get(e);n?n.push(t):this.#n.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Qh(t);if(typeof e=="string"){const n=this.#n.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#n.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Qh(t);if(typeof e=="string"){const r=this.#n.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Qh(t);return typeof e=="string"?this.#n.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){fn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#n.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>n_(e,n))}findAll(t={}){return this.getAll().filter(e=>n_(t,e))}notify(t){fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return fn.batch(()=>Promise.all(t.map(e=>e.continue().catch(_r))))}};function Qh(t){return t.options.scope?.id}var D2=class extends mc{#e;#n=void 0;#t;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),m2(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ko(n.mutationKey)!==Ko(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#n}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#o()}mutate(e,n){return this.#i=n,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#r(){const e=this.#t?.state??vb();this.#n={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){fn.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#n.variables,r=this.#n.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#n)})})}},N2=class extends mc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??My(r,e);let o=this.get(i);return o||(o=new I2({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>t_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>t_(t,n)):e}notify(t){fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},O2=class{#e;#n;#t;#i;#r;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new N2,this.#n=t.mutationCache||new R2,this.#t=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=pb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Rd.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#n.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,l=c2(e,o);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return fn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;fn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return fn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=fn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(_r).catch(_r)}invalidateQueries(t,e={}){return fn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=fn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(_r)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(_r)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(vg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_r).catch(_r)}fetchInfiniteQuery(t){return t.behavior=o_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_r).catch(_r)}ensureInfiniteQueryData(t){return t.behavior=o_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rd.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#n}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#i.set(Ko(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Qu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Ko(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Qu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=My(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ly&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#n.clear()}},xb=G.createContext(void 0),wb=t=>{const e=G.useContext(xb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},M2=({client:t,children:e})=>(G.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(xb.Provider,{value:t,children:e}));function l_(t,e){const n=wb(),[r]=G.useState(()=>new D2(n,t));G.useEffect(()=>{r.setOptions(t)},[r,t]);const i=G.useSyncExternalStore(G.useCallback(l=>r.subscribe(fn.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=G.useCallback((l,u)=>{r.mutate(l,u).catch(_r)},[r]);if(i.error&&w2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),u_=t=>{const e=V2(t);return e.charAt(0).toUpperCase()+e.slice(1)},_b=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),F2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},h)=>G.createElement("svg",{ref:h,...j2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_b("lucide",i),...!o&&!F2(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>G.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=G.forwardRef(({className:r,...i},o)=>G.createElement(U2,{ref:o,iconNode:e,className:_b(`lucide-${L2(u_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=u_(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],B2=it("bot",z2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],q2=it("brain",$2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],W2=it("check",H2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Eb=it("circle-alert",K2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Q2=it("circle-check-big",G2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],X2=it("circle-x",Y2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Z2=it("copy",J2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tR=it("external-link",eR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rR=it("eye-off",nR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sR=it("eye",iR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yu=it("file-text",oR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Tb=it("file",aR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],uR=it("house",lR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hR=it("info",cR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fR=it("lock",dR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mR=it("log-out",pR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yR=it("mail",gR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],xR=it("message-circle",vR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],c_=it("message-square",wR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],ER=it("mic-off",_R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],bR=it("mic",TR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],h_=it("refresh-cw",SR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],IR=it("rotate-ccw",kR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CR=it("send",AR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pd=it("sparkles",PR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],DR=it("triangle-alert",RR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],OR=it("upload",NR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vy=it("user",MR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VR=it("x",LR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jR=it("zap",FR),UR=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,_=f&63;h||(_=64,l||(v=64)),r.push(n[m],n[g],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||g==null)throw new BR;const v=o<<2|u>>4;if(r.push(v),f!==64){const _=u<<4&240|f>>2;if(r.push(_),g!==64){const C=f<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $R=function(t){const e=bb(t);return Sb.encodeByteArray(e,!0)},Dd=function(t){return $R(t).replace(/\./g,"")},kb=function(t){try{return Sb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=()=>qR().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof d_>"u")return;const t=d_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kb(t[1]);return e&&JSON.parse(e)},df=()=>{try{return UR()||HR()||WR()||KR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ib=t=>df()?.emulatorHosts?.[t],Fy=t=>{const e=Ib(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ab=()=>df()?.config,Cb=t=>df()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ff(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Dd(JSON.stringify(n)),Dd(JSON.stringify(l)),""].join(".")}const Nu={};function QR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function YR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let f_=!1;function pf(t,e){if(typeof window>"u"||typeof document>"u"||!Si(window.location.host)||Nu[t]===e||Nu[t]||f_)return;Nu[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=QR().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{f_=!0,l()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=YR(r),_=n("text"),C=document.getElementById(_)||document.createElement("span"),k=n("learnmore"),N=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;u(M),m(N,k);const Y=f();h(B,L),M.append(B,C,N,Y),document.body.appendChild(M)}o?(C.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function JR(){const t=df()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nD(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rD(){return!JR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iD(){try{return typeof indexedDB=="object"}catch{return!1}}function sD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oD,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?aD(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new $r(i,u,r)}}function aD(t,e){return t.replace(lD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lD=/\{\$([^}]+)}/g;function uD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(p_(o)&&p_(l)){if(!Go(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cD(t,e){const n=new hD(t,e);return n.subscribe.bind(n)}class hD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Em),i.error===void 0&&(i.error=Em),i.complete===void 0&&(i.complete=Em);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mD(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pD(t){return t===Mo?void 0:t}function mD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const yD={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},vD=Ge.INFO,xD={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jy{constructor(e){this.name=e,this._logLevel=vD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const _D=(t,e)=>e.some(n=>t instanceof n);let m_,g_;function ED(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TD(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rb=new WeakMap,_g=new WeakMap,Db=new WeakMap,Tm=new WeakMap,Uy=new WeakMap;function bD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n($s(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Rb.set(n,t)}).catch(()=>{}),Uy.set(e,t),e}function SD(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});_g.set(t,e)}let Eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Db.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kD(t){Eg=t(Eg)}function ID(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bm(this),e,...n);return Db.set(r,e.sort?e.sort():[e]),$s(r)}:TD().includes(t)?function(...e){return t.apply(bm(this),e),$s(Rb.get(this))}:function(...e){return $s(t.apply(bm(this),e))}}function AD(t){return typeof t=="function"?ID(t):(t instanceof IDBTransaction&&SD(t),_D(t,ED())?new Proxy(t,Eg):t)}function $s(t){if(t instanceof IDBRequest)return bD(t);if(Tm.has(t))return Tm.get(t);const e=AD(t);return e!==t&&(Tm.set(t,e),Uy.set(e,t)),e}const bm=t=>Uy.get(t);function CD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=$s(l);return r&&l.addEventListener("upgradeneeded",h=>{r($s(l.result),h.oldVersion,h.newVersion,$s(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const PD=["get","getKey","getAll","getAllKeys","count"],RD=["put","add","delete","clear"],Sm=new Map;function y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PD.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return Sm.set(e,o),o}kD(t=>({...t,get:(e,n,r)=>y_(e,n)||t.get(e,n,r),has:(e,n)=>!!y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ND(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ND(t){return t.getComponent()?.type==="VERSION"}const Tg="@firebase/app",v_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new jy("@firebase/app"),OD="@firebase/app-compat",MD="@firebase/analytics-compat",LD="@firebase/analytics",VD="@firebase/app-check-compat",FD="@firebase/app-check",jD="@firebase/auth",UD="@firebase/auth-compat",zD="@firebase/database",BD="@firebase/data-connect",$D="@firebase/database-compat",qD="@firebase/functions",HD="@firebase/functions-compat",WD="@firebase/installations",KD="@firebase/installations-compat",GD="@firebase/messaging",QD="@firebase/messaging-compat",YD="@firebase/performance",XD="@firebase/performance-compat",JD="@firebase/remote-config",ZD="@firebase/remote-config-compat",eN="@firebase/storage",tN="@firebase/storage-compat",nN="@firebase/firestore",rN="@firebase/ai",iN="@firebase/firestore-compat",sN="firebase",oN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",aN={[Tg]:"fire-core",[OD]:"fire-core-compat",[LD]:"fire-analytics",[MD]:"fire-analytics-compat",[FD]:"fire-app-check",[VD]:"fire-app-check-compat",[jD]:"fire-auth",[UD]:"fire-auth-compat",[zD]:"fire-rtdb",[BD]:"fire-data-connect",[$D]:"fire-rtdb-compat",[qD]:"fire-fn",[HD]:"fire-fn-compat",[WD]:"fire-iid",[KD]:"fire-iid-compat",[GD]:"fire-fcm",[QD]:"fire-fcm-compat",[YD]:"fire-perf",[XD]:"fire-perf-compat",[JD]:"fire-rc",[ZD]:"fire-rc-compat",[eN]:"fire-gcs",[tN]:"fire-gcs-compat",[nN]:"fire-fst",[iN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[sN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,lN=new Map,Sg=new Map;function x_(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Sg.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(const n of Nd.values())x_(n,t);for(const n of lN.values())x_(n,t);return!0}function vc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new gc("app","Firebase",uN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=oN;function Nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(n||(n=Ab()),!n)throw qs.create("no-options");const o=Nd.get(i);if(o){if(Go(n,o.options)&&Go(r,o.config))return o;throw qs.create("duplicate-app",{appName:i})}const l=new gD(i);for(const h of Sg.values())l.addComponent(h);const u=new cN(n,r,l);return Nd.set(i,u),u}function mf(t=bg){const e=Nd.get(t);if(!e&&t===bg&&Ab())return Nb();if(!e)throw qs.create("no-app",{appName:t});return e}function br(t,e,n){let r=aN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(l.join(" "));return}Gs(new Ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="firebase-heartbeat-database",dN=1,Xu="firebase-heartbeat-store";let km=null;function Ob(){return km||(km=CD(hN,dN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),km}async function fN(t){try{const n=(await Ob()).transaction(Xu),r=await n.objectStore(Xu).get(Mb(t));return await n.done,r}catch(e){if(e instanceof $r)Zi.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}}async function w_(t,e){try{const r=(await Ob()).transaction(Xu,"readwrite");await r.objectStore(Xu).put(e,Mb(t)),await r.done}catch(n){if(n instanceof $r)Zi.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(r.message)}}}function Mb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1024,mN=30;class gN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>mN){const i=xN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=__(),{heartbeatsToSend:n,unsentEntries:r}=yN(this._heartbeatsCache.heartbeats),i=Dd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Zi.warn(e),""}}}function __(){return new Date().toISOString().substring(0,10)}function yN(t,e=pN){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),E_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iD()?sD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function E_(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}function xN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){Gs(new Ji("platform-logger",e=>new DD(e),"PRIVATE")),Gs(new Ji("heartbeat",e=>new gN(e),"PRIVATE")),br(Tg,v_,t),br(Tg,v_,"esm2020"),br("fire-js","")}wN("");function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _N=Lb,Vb=new gc("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new jy("@firebase/auth");function EN(t,...e){Od.logLevel<=Ge.WARN&&Od.warn(`Auth (${ea}): ${t}`,...e)}function md(t,...e){Od.logLevel<=Ge.ERROR&&Od.error(`Auth (${ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw By(t,...e)}function Ur(t,...e){return By(t,...e)}function zy(t,e,n){const r={..._N(),[e]:n};return new gc("auth","Firebase",r).create(e,{appName:t.name})}function Xi(t){return zy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kr(t,"argument-error"),zy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function By(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vb.create(t,...e)}function Re(t,e,...n){if(!t)throw By(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function es(t,e){t||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){return typeof self<"u"&&self.location?.href||""}function bN(){return T_()==="http:"||T_()==="https:"}function T_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||eD()||"connection"in navigator)?navigator.onLine:!0}function kN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=XR()||tD()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CN=new xc(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ki(t,e,n,r,i={}){return jb(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=yc({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return ZR()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Si(t.emulatorConfig.host)&&(f.credentials="include"),Fb.fetch()(await Ub(t,t.config.apiHost,n,u),f)})}async function jb(t,e,n){t._canInitEmulator=!1;const r={...IN,...e};try{const i=new RN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Yh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Yh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Yh(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw zy(t,m,f);kr(t,m)}}catch(i){if(i instanceof $r)throw i;kr(t,"network-request-failed",{message:String(i)})}}async function wc(t,e,n,r,i={}){const o=await ki(t,e,n,r,i);return"mfaPendingCredential"in o&&kr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Ub(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?$y(t.config,i):`${t.config.apiScheme}://${i}`;return AN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function PN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),CN.get())})}}function Yh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function b_(t){return t!==void 0&&t.enterprise!==void 0}class DN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NN(t,e){return ki(t,"GET","/v2/recaptchaConfig",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function Md(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MN(t,e=!1){const n=ut(t),r=await n.getIdToken(e),i=qy(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Ou(Im(i.auth_time)),issuedAtTime:Ou(Im(i.iat)),expirationTime:Ou(Im(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Im(t){return Number(t)*1e3}function qy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const i=kb(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function S_(t){const e=qy(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&LN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){const e=t.auth,n=await t.getIdToken(),r=await al(t,Md(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?zb(i.providerUserInfo):[],l=jN(t.providerData,o),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=u?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ig(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function FN(t){const e=ut(t);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){const n=await jb(t,{},async()=>{const r=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await Ub(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Si(t.emulatorConfig.host)&&(h.credentials="include"),Fb.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zN(t,e){return ki(t,"POST","/v2/accounts:revokeToken",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=S_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await UN(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Za;return r&&(Re(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Re(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new VN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ig(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MN(this,e)}reload(){return FN(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await al(this,ON(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:_,providerData:C,stsTokenManager:k}=n;Re(g&&k,e,"internal-error");const N=Za.fromJSON(this.name,k);Re(typeof g=="string",e,"internal-error"),Ns(r,e.name),Ns(i,e.name),Re(typeof v=="boolean",e,"internal-error"),Re(typeof _=="boolean",e,"internal-error"),Ns(o,e.name),Ns(l,e.name),Ns(u,e.name),Ns(h,e.name),Ns(f,e.name),Ns(m,e.name);const L=new jr({uid:g,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:N,createdAt:f,lastLoginAt:m});return C&&Array.isArray(C)&&(L.providerData=C.map(B=>({...B}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Za;i.updateFromServerResponse(n);const o=new jr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ld(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?zb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,u=new Za;u.updateFromIdToken(r);const h=new jr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ig(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function Yi(t){es(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bb.type="NONE";const I_=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=gd(this.userKey,i.apiKey,o),this.fullPersistenceKey=gd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Md(this.auth,{idToken:e}).catch(()=>{});return n?jr._fromGetAccountInfoResponse(this.auth,n,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el(Yi(I_),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Yi(I_);const l=gd(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const v=await Md(e,{idToken:m}).catch(()=>{});if(!v)break;g=await jr._fromGetAccountInfoResponse(e,v,m)}else g=jr._fromJSON(e,m);f!==o&&(u=g),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new el(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new el(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gb(e))return"Blackberry";if(Qb(e))return"Webos";if(qb(e))return"Safari";if((e.includes("chrome/")||Hb(e))&&!e.includes("edge/"))return"Chrome";if(Kb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $b(t=In()){return/firefox\//i.test(t)}function qb(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hb(t=In()){return/crios\//i.test(t)}function Wb(t=In()){return/iemobile/i.test(t)}function Kb(t=In()){return/android/i.test(t)}function Gb(t=In()){return/blackberry/i.test(t)}function Qb(t=In()){return/webos/i.test(t)}function Hy(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BN(t=In()){return Hy(t)&&!!window.navigator?.standalone}function $N(){return nD()&&document.documentMode===10}function Yb(t=In()){return Hy(t)||Kb(t)||Qb(t)||Gb(t)||/windows phone/i.test(t)||Wb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e=[]){let n;switch(t){case"Browser":n=A_(In());break;case"Worker":n=`${A_(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e={}){return ki(t,"GET","/v2/passwordPolicy",os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=6;class KN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new qN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Md(this,{idToken:e}),r=await jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Xi(this));const n=e?ut(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HN(this),n=new KN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function as(t){return ut(t)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=cD(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QN(t){gf=t}function Jb(t){return gf.loadJS(t)}function YN(){return gf.recaptchaEnterpriseScript}function XN(){return gf.gapiScript}function JN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZN{constructor(){this.enterprise=new eO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tO="recaptcha-enterprise",Zb="NO_RECAPTCHA";class nO{constructor(e){this.type=tO,this.auth=as(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{NN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new DN(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function i(o,l,u){const h=window.grecaptcha;b_(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(Zb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZN().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&b_(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=YN();h.length!==0&&(h+=u),Jb(h).then(()=>{i(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function P_(t,e,n,r=!1,i=!1){const o=new nO(t);let l;if(i)l=Zb;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Vd(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await P_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await P_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t,e){const n=vc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Go(o,e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}function iO(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function sO(t,e,n){const r=as(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=eS(e),{host:l,port:u}=oO(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Go(f,r.config.emulator)&&Go(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Si(l)?(ff(`${o}//${l}${h}`),pf("Auth",!0)):aO()}function eS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oO(t){const e=eS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:R_(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:R_(l)}}}function R_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function lO(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){return wc(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}async function cO(t,e){return ki(t,"POST","/v1/accounts:sendOobCode",os(t,e))}async function hO(t,e){return cO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function fO(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Wy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vd(e,n,"signInWithPassword",uO);case"emailLink":return dO(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vd(e,r,"signUpPassword",lO);case"emailLink":return fO(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return wc(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="http://localhost";class Qo extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Qo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:pO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gO(t){const e=ku(Iu(t)).link,n=e?ku(Iu(e)).deep_link_id:null,r=ku(Iu(t)).deep_link_id;return(r?ku(Iu(r)).link:null)||r||n||e||t}class Ky{constructor(e){const n=ku(Iu(e)),r=n.apiKey??null,i=n.oobCode??null,o=mO(n.mode??null);Re(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gO(e);try{return new Ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return Ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ky.parseLink(n);return Re(r,"argument-error"),Ju._fromEmailAndCode(e,r.code,r.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends _c{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends _c{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends _c{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){return wc(t,"POST","/v1/accounts:signUp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await jr._fromIdTokenResponse(e,r,i),l=D_(r);return new Yo({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=D_(r);return new Yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function D_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends $r{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fd(e,n,r,i)}}function tS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(t,o,e,r):o})}async function vO(t,e,n=!1){const r=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(Xi(r));const i="reauthenticate";try{const o=await al(t,tS(r,i,e,t),n);Re(o.idToken,r,"internal-error");const l=qy(o.idToken);Re(l,r,"internal-error");const{sub:u}=l;return Re(t.uid===u,r,"user-mismatch"),Yo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&kr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(t,e,n=!1){if(On(t.app))return Promise.reject(Xi(t));const r="signIn",i=await tS(t,r,e),o=await Yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function wO(t,e){return nS(as(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rS(t){const e=as(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _O(t,e,n){const r=as(t);await Vd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hO)}async function EO(t,e,n){if(On(t.app))return Promise.reject(Xi(t));const r=as(t),l=await Vd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&rS(t),h}),u=await Yo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function TO(t,e,n){return On(t.app)?Promise.reject(Xi(t)):wO(ut(t),wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ut(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await al(r,bO(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function kO(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function IO(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function AO(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function CO(t){return ut(t).signOut()}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=1e3,RO=10;class sS extends iS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);$N()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sS.type="LOCAL";const DO=sS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends iS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oS.type="SESSION";const aS=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await NO(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=Qy("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function MO(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function LO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VO(){return navigator?.serviceWorker?.controller||null}function FO(){return lS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebaseLocalStorageDb",jO=1,Ud="firebaseLocalStorage",cS="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function UO(){const t=indexedDB.deleteDatabase(uS);return new Ec(t).toPromise()}function Ag(){const t=indexedDB.open(uS,jO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ud,{keyPath:cS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await UO(),e(await Ag()))})})}async function N_(t,e,n){const r=vf(t,!0).put({[cS]:e,value:n});return new Ec(r).toPromise()}async function zO(t,e){const n=vf(t,!1).get(e),r=await new Ec(n).toPromise();return r===void 0?null:r.value}function O_(t,e){const n=vf(t,!0).delete(e);return new Ec(n).toPromise()}const BO=800,$O=3;class hS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$O)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(FO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LO(),!this.activeServiceWorker)return;this.sender=new OO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await N_(e,jd,"1"),await O_(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=vf(i,!1).getAll();return new Ec(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hS.type="LOCAL";const qO=hS;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){return e?Yi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HO(t){return nS(t.auth,new Yy(t),t.bypassAuthState)}function WO(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),xO(n,new Yy(t),t.bypassAuthState)}async function KO(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),vO(n,new Yy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HO;case"linkViaPopup":case"linkViaRedirect":return KO;case"reauthViaPopup":case"reauthViaRedirect":return WO;default:kr(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new xc(2e3,1e4);async function QO(t,e,n){if(On(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=as(t);TN(t,e,Gy);const i=dS(r,n);return new Fo(r,"signInViaPopup",e,i).executeNotNull()}class Fo extends fS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GO.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="pendingRedirect",yd=new Map;class XO extends fS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yd.get(this.auth._key());if(!e){try{const r=await JO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JO(t,e){const n=t4(e),r=e4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZO(t,e){yd.set(t._key(),e)}function e4(t){return Yi(t._redirectPersistence)}function t4(t){return gd(YO,t.config.apiKey,t.name)}async function n4(t,e,n=!1){if(On(t.app))return Promise.reject(Xi(t));const r=as(t),i=dS(r,e),l=await new XO(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=600*1e3;class i4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r4&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function s4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l4=/^https?/;async function u4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o4(t);for(const n of e)try{if(c4(n))return}catch{}kr(t,"unauthorized-domain")}function c4(t){const e=kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!l4.test(n))return!1;if(a4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new xc(3e4,6e4);function L_(){const t=mi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d4(t){return new Promise((e,n)=>{function r(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),n(Ur(t,"network-request-failed"))},timeout:h4.get()})}if(mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mi().gapi?.load)r();else{const i=JN("iframefcb");return mi()[i]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},Jb(`${XN()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw vd=null,e})}let vd=null;function f4(t){return vd=vd||d4(t),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new xc(5e3,15e3),m4="__/auth/iframe",g4="emulator/auth/iframe",y4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x4(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$y(e,g4):`https://${t.config.authDomain}/${m4}`,r={apiKey:e.apiKey,appName:t.name,v:ea},i=v4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yc(r).slice(1)}`}async function w4(t){const e=await f4(t),n=mi().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:x4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ur(t,"network-request-failed"),u=mi().setTimeout(()=>{o(l)},p4.get());function h(){mi().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E4=500,T4=600,b4="_blank",S4="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k4(t,e,n,r=E4,i=T4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={..._4,width:r.toString(),height:i.toString(),top:o,left:l},f=In().toLowerCase();n&&(u=Hb(f)?b4:n),$b(f)&&(e=e||S4,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[_,C])=>`${v}${_}=${C},`,"");if(BN(f)&&u!=="_self")return I4(e||"",u),new V_(null);const g=window.open(e||"",u,m);Re(g,t,"popup-blocked");try{g.focus()}catch{}return new V_(g)}function I4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="__/auth/handler",C4="emulator/auth/handler",P4=encodeURIComponent("fac");async function F_(t,e,n,r,i,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ea,eventId:i};if(e instanceof Gy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",uD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof _c){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${P4}=${encodeURIComponent(h)}`:"";return`${R4(t)}?${yc(u).slice(1)}${f}`}function R4({config:t}){return t.emulator?$y(t,C4):`https://${t.authDomain}/${A4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class D4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aS,this._completeRedirectFn=n4,this._overrideRedirectResult=ZO}async _openPopup(e,n,r,i){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await F_(e,n,r,kg(),i);return k4(e,o,Qy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await F_(e,n,r,kg(),i);return MO(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(es(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w4(e),r=new i4(e);return n.register("authEvent",i=>(Re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},i=>{const o=i?.[0]?.[Am];o!==void 0&&n(!!o),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yb()||qb()||Hy()}}const N4=D4;var j_="@firebase/auth",U_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L4(t){Gs(new Ji("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Re(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xb(t)},f=new GN(r,i,o,h);return iO(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new Ji("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(r=>new O4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(j_,U_,M4(t)),br(j_,U_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=300,F4=Cb("authIdTokenMaxAge")||V4;let z_=null;const j4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F4)return;const i=n?.token;z_!==i&&(z_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U4(t=mf()){const e=vc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rO(t,{popupRedirectResolver:N4,persistence:[qO,DO,aS]}),r=Cb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=j4(o.toString());IO(n,l,()=>l(n.currentUser)),kO(n,u=>l(u))}}const i=Ib("auth");return i&&sO(n,`http://${i}`),n}function z4(){return document.getElementsByTagName("head")?.[0]??document}QN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ur("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",z4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L4("Browser");var B4="firebase",$4="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(B4,$4,"app");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,mS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function D(){}D.prototype=S.prototype,A.F=S.prototype,A.prototype=new D,A.prototype.constructor=A,A.D=function(j,O,U){for(var P=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)P[oe-2]=arguments[oe];return S.prototype[O].apply(j,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,D){D||(D=0);const j=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)j[O]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(O=0;O<16;++O)j[O]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=A.g[0],D=A.g[1],O=A.g[2];let U=A.g[3],P;P=S+(U^D&(O^U))+j[0]+3614090360&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(O^S&(D^O))+j[1]+3905402710&4294967295,U=S+(P<<12&4294967295|P>>>20),P=O+(D^U&(S^D))+j[2]+606105819&4294967295,O=U+(P<<17&4294967295|P>>>15),P=D+(S^O&(U^S))+j[3]+3250441966&4294967295,D=O+(P<<22&4294967295|P>>>10),P=S+(U^D&(O^U))+j[4]+4118548399&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(O^S&(D^O))+j[5]+1200080426&4294967295,U=S+(P<<12&4294967295|P>>>20),P=O+(D^U&(S^D))+j[6]+2821735955&4294967295,O=U+(P<<17&4294967295|P>>>15),P=D+(S^O&(U^S))+j[7]+4249261313&4294967295,D=O+(P<<22&4294967295|P>>>10),P=S+(U^D&(O^U))+j[8]+1770035416&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(O^S&(D^O))+j[9]+2336552879&4294967295,U=S+(P<<12&4294967295|P>>>20),P=O+(D^U&(S^D))+j[10]+4294925233&4294967295,O=U+(P<<17&4294967295|P>>>15),P=D+(S^O&(U^S))+j[11]+2304563134&4294967295,D=O+(P<<22&4294967295|P>>>10),P=S+(U^D&(O^U))+j[12]+1804603682&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(O^S&(D^O))+j[13]+4254626195&4294967295,U=S+(P<<12&4294967295|P>>>20),P=O+(D^U&(S^D))+j[14]+2792965006&4294967295,O=U+(P<<17&4294967295|P>>>15),P=D+(S^O&(U^S))+j[15]+1236535329&4294967295,D=O+(P<<22&4294967295|P>>>10),P=S+(O^U&(D^O))+j[1]+4129170786&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^O&(S^D))+j[6]+3225465664&4294967295,U=S+(P<<9&4294967295|P>>>23),P=O+(S^D&(U^S))+j[11]+643717713&4294967295,O=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(O^U))+j[0]+3921069994&4294967295,D=O+(P<<20&4294967295|P>>>12),P=S+(O^U&(D^O))+j[5]+3593408605&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^O&(S^D))+j[10]+38016083&4294967295,U=S+(P<<9&4294967295|P>>>23),P=O+(S^D&(U^S))+j[15]+3634488961&4294967295,O=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(O^U))+j[4]+3889429448&4294967295,D=O+(P<<20&4294967295|P>>>12),P=S+(O^U&(D^O))+j[9]+568446438&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^O&(S^D))+j[14]+3275163606&4294967295,U=S+(P<<9&4294967295|P>>>23),P=O+(S^D&(U^S))+j[3]+4107603335&4294967295,O=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(O^U))+j[8]+1163531501&4294967295,D=O+(P<<20&4294967295|P>>>12),P=S+(O^U&(D^O))+j[13]+2850285829&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^O&(S^D))+j[2]+4243563512&4294967295,U=S+(P<<9&4294967295|P>>>23),P=O+(S^D&(U^S))+j[7]+1735328473&4294967295,O=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(O^U))+j[12]+2368359562&4294967295,D=O+(P<<20&4294967295|P>>>12),P=S+(D^O^U)+j[5]+4294588738&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^O)+j[8]+2272392833&4294967295,U=S+(P<<11&4294967295|P>>>21),P=O+(U^S^D)+j[11]+1839030562&4294967295,O=U+(P<<16&4294967295|P>>>16),P=D+(O^U^S)+j[14]+4259657740&4294967295,D=O+(P<<23&4294967295|P>>>9),P=S+(D^O^U)+j[1]+2763975236&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^O)+j[4]+1272893353&4294967295,U=S+(P<<11&4294967295|P>>>21),P=O+(U^S^D)+j[7]+4139469664&4294967295,O=U+(P<<16&4294967295|P>>>16),P=D+(O^U^S)+j[10]+3200236656&4294967295,D=O+(P<<23&4294967295|P>>>9),P=S+(D^O^U)+j[13]+681279174&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^O)+j[0]+3936430074&4294967295,U=S+(P<<11&4294967295|P>>>21),P=O+(U^S^D)+j[3]+3572445317&4294967295,O=U+(P<<16&4294967295|P>>>16),P=D+(O^U^S)+j[6]+76029189&4294967295,D=O+(P<<23&4294967295|P>>>9),P=S+(D^O^U)+j[9]+3654602809&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^O)+j[12]+3873151461&4294967295,U=S+(P<<11&4294967295|P>>>21),P=O+(U^S^D)+j[15]+530742520&4294967295,O=U+(P<<16&4294967295|P>>>16),P=D+(O^U^S)+j[2]+3299628645&4294967295,D=O+(P<<23&4294967295|P>>>9),P=S+(O^(D|~U))+j[0]+4096336452&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~O))+j[7]+1126891415&4294967295,U=S+(P<<10&4294967295|P>>>22),P=O+(S^(U|~D))+j[14]+2878612391&4294967295,O=U+(P<<15&4294967295|P>>>17),P=D+(U^(O|~S))+j[5]+4237533241&4294967295,D=O+(P<<21&4294967295|P>>>11),P=S+(O^(D|~U))+j[12]+1700485571&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~O))+j[3]+2399980690&4294967295,U=S+(P<<10&4294967295|P>>>22),P=O+(S^(U|~D))+j[10]+4293915773&4294967295,O=U+(P<<15&4294967295|P>>>17),P=D+(U^(O|~S))+j[1]+2240044497&4294967295,D=O+(P<<21&4294967295|P>>>11),P=S+(O^(D|~U))+j[8]+1873313359&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~O))+j[15]+4264355552&4294967295,U=S+(P<<10&4294967295|P>>>22),P=O+(S^(U|~D))+j[6]+2734768916&4294967295,O=U+(P<<15&4294967295|P>>>17),P=D+(U^(O|~S))+j[13]+1309151649&4294967295,D=O+(P<<21&4294967295|P>>>11),P=S+(O^(D|~U))+j[4]+4149444226&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~O))+j[11]+3174756917&4294967295,U=S+(P<<10&4294967295|P>>>22),P=O+(S^(U|~D))+j[2]+718787259&4294967295,O=U+(P<<15&4294967295|P>>>17),P=D+(U^(O|~S))+j[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+U&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const D=S-this.blockSize,j=this.C;let O=this.h,U=0;for(;U<S;){if(O==0)for(;U<=D;)i(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<S;)if(j[O++]=A.charCodeAt(U++),O==this.blockSize){i(this,j),O=0;break}}else for(;U<S;)if(j[O++]=A[U++],O==this.blockSize){i(this,j),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var D=A.length-8;D<A.length;++D)A[D]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)A[S++]=this.g[D]>>>j&255;return A};function o(A,S){var D=u;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=S(A)}function l(A,S){this.h=S;const D=[];let j=!0;for(let O=A.length-1;O>=0;O--){const U=A[O]|0;j&&U==S||(D[O]=U,j=!1)}this.g=D}var u={};function h(A){return-128<=A&&A<128?o(A,function(S){return new l([S|0],S<0?-1:0)}):new l([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return g;if(A<0)return N(f(-A));const S=[];let D=1;for(let j=0;A>=D;j++)S[j]=A/D|0,D*=4294967296;return new l(S,0)}function m(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return N(m(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(S,8));let j=g;for(let U=0;U<A.length;U+=8){var O=Math.min(8,A.length-U);const P=parseInt(A.substring(U,U+O),S);O<8?(O=f(Math.pow(S,O)),j=j.j(O).add(f(P))):(j=j.j(D),j=j.add(f(P)))}return j}var g=h(0),v=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(k(this))return-N(this).m();let A=0,S=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);A+=(j>=0?j:4294967296+j)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(k(this))return"-"+N(this).toString(A);const S=f(Math.pow(A,6));var D=this;let j="";for(;;){const O=Y(D,S).g;D=L(D,O.j(S));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(A);if(D=O,C(D))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function k(A){return A.h==-1}t.l=function(A){return A=L(this,A),k(A)?-1:C(A)?0:1};function N(A){const S=A.g.length,D=[];for(let j=0;j<S;j++)D[j]=~A.g[j];return new l(D,~A.h).add(v)}t.abs=function(){return k(this)?N(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),D=[];let j=0;for(let O=0;O<=S;O++){let U=j+(this.i(O)&65535)+(A.i(O)&65535),P=(U>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);j=P>>>16,U&=65535,P&=65535,D[O]=P<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function L(A,S){return A.add(N(S))}t.j=function(A){if(C(this)||C(A))return g;if(k(this))return k(A)?N(this).j(N(A)):N(N(this).j(A));if(k(A))return N(this.j(N(A)));if(this.l(_)<0&&A.l(_)<0)return f(this.m()*A.m());const S=this.g.length+A.g.length,D=[];for(var j=0;j<2*S;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<A.g.length;O++){const U=this.i(j)>>>16,P=this.i(j)&65535,oe=A.i(O)>>>16,pe=A.i(O)&65535;D[2*j+2*O]+=P*pe,B(D,2*j+2*O),D[2*j+2*O+1]+=U*pe,B(D,2*j+2*O+1),D[2*j+2*O+1]+=P*oe,B(D,2*j+2*O+1),D[2*j+2*O+2]+=U*oe,B(D,2*j+2*O+2)}for(A=0;A<S;A++)D[A]=D[2*A+1]<<16|D[2*A];for(A=S;A<2*S;A++)D[A]=0;return new l(D,0)};function B(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function M(A,S){this.g=A,this.h=S}function Y(A,S){if(C(S))throw Error("division by zero");if(C(A))return new M(g,g);if(k(A))return S=Y(N(A),S),new M(N(S.g),N(S.h));if(k(S))return S=Y(A,N(S)),new M(N(S.g),S.h);if(A.g.length>30){if(k(A)||k(S))throw Error("slowDivide_ only works with positive integers.");for(var D=v,j=S;j.l(A)<=0;)D=ee(D),j=ee(j);var O=H(D,1),U=H(j,1);for(j=H(j,2),D=H(D,2);!C(j);){var P=U.add(j);P.l(A)<=0&&(O=O.add(D),U=P),j=H(j,1),D=H(D,1)}return S=L(A,O.j(S)),new M(O,S)}for(O=g;A.l(S)>=0;){for(D=Math.max(1,Math.floor(A.m()/S.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=f(D),P=U.j(S);k(P)||P.l(A)>0;)D-=j,U=f(D),P=U.j(S);C(U)&&(U=v),O=O.add(U),A=L(A,P)}return new M(O,A)}t.B=function(A){return Y(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),D=[];for(let j=0;j<S;j++)D[j]=this.i(j)&A.i(j);return new l(D,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),D=[];for(let j=0;j<S;j++)D[j]=this.i(j)|A.i(j);return new l(D,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),D=[];for(let j=0;j<S;j++)D[j]=this.i(j)^A.i(j);return new l(D,this.h^A.h)};function ee(A){const S=A.g.length+1,D=[];for(let j=0;j<S;j++)D[j]=A.i(j)<<1|A.i(j-1)>>>31;return new l(D,A.h)}function H(A,S){const D=S>>5;S%=32;const j=A.g.length-D,O=[];for(let U=0;U<j;U++)O[U]=S>0?A.i(U+D)>>>S|A.i(U+D+1)<<32-S:A.i(U+D);return new l(O,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Hs=l}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gS,Au,yS,xd,Cg,vS,xS,wS;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var w=0;w<d.length;++w){var E=d[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var E=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var K=d[I];if(!(K in E))break e;E=E[K]}d=d[d.length-1],I=E[d],w=w(I),w!=I&&w!=null&&e(E,d,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(w){var E=[],I;for(I in w)Object.prototype.hasOwnProperty.call(w,I)&&E.push([I,w[I]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function h(d,w,E){return d.call.apply(d.bind,arguments)}function f(d,w,E){return f=h,f.apply(null,arguments)}function m(d,w){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function g(d,w){function E(){}E.prototype=w.prototype,d.Z=w.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(I,K,Z){for(var fe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)fe[Ue-2]=arguments[Ue];return w.prototype[K].apply(I,fe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function _(d){const w=d.length;if(w>0){const E=Array(w);for(let I=0;I<w;I++)E[I]=d[I];return E}return[]}function C(d,w){for(let I=1;I<arguments.length;I++){const K=arguments[I];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=d.length||0;const Z=K.length||0;d.length=E+Z;for(let fe=0;fe<Z;fe++)d[E+fe]=K[fe]}else d.push(K)}}class k{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function N(d){l.setTimeout(()=>{throw d},0)}function L(){var d=A;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,E){const I=M.get();I.set(w,E),this.h?this.h.next=I:this.g=I,this.h=I}}var M=new k(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,H=!1,A=new B,S=()=>{const d=Promise.resolve(void 0);ee=()=>{d.then(D)}};function D(){for(var d;d=L();){try{d.h.call(d.g)}catch(E){N(E)}var w=M;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}H=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};l.addEventListener("test",E,w),l.removeEventListener("test",E,w)}catch{}return d})();function P(d){return/^[\s\xa0]*$/.test(d)}function oe(d,w){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}g(oe,O),oe.prototype.init=function(d,w){const E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(E=="mouseover"?w=d.fromElement:E=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),He=0;function Ee(d,w,E,I,K){this.listener=d,this.proxy=null,this.src=w,this.type=E,this.capture=!!I,this.ha=K,this.key=++He,this.da=this.fa=!1}function ie(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function de(d,w,E){for(const I in d)w.call(E,d[I],I,d)}function R(d,w){for(const E in d)w.call(void 0,d[E],E,d)}function q(d){const w={};for(const E in d)w[E]=d[E];return w}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,w){let E,I;for(let K=1;K<arguments.length;K++){I=arguments[K];for(E in I)d[E]=I[E];for(let Z=0;Z<te.length;Z++)E=te[Z],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function Se(d){this.src=d,this.g={},this.h=0}Se.prototype.add=function(d,w,E,I,K){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const fe=Te(d,w,I,K);return fe>-1?(w=d[fe],E||(w.fa=!1)):(w=new Ee(w,this.src,Z,!!I,K),w.fa=E,d.push(w)),w};function Oe(d,w){const E=w.type;if(E in d.g){var I=d.g[E],K=Array.prototype.indexOf.call(I,w,void 0),Z;(Z=K>=0)&&Array.prototype.splice.call(I,K,1),Z&&(ie(w),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Te(d,w,E,I){for(let K=0;K<d.length;++K){const Z=d[K];if(!Z.da&&Z.listener==w&&Z.capture==!!E&&Z.ha==I)return K}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ke(d,w,E,I,K){if(Array.isArray(w)){for(let Z=0;Z<w.length;Z++)Ke(d,w[Z],E,I,K);return null}return E=Ar(E),d&&d[pe]?d.J(w,E,u(I)?!!I.capture:!1,K):ct(d,w,E,!1,I,K)}function ct(d,w,E,I,K,Z){if(!w)throw Error("Invalid event type");const fe=u(K)?!!K.capture:!!K;let Ue=cr(d);if(Ue||(d[qe]=Ue=new Se(d)),E=Ue.add(w,E,I,fe,Z),E.proxy)return E;if(I=gn(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)U||(K=fe),K===void 0&&(K=!1),d.addEventListener(w.toString(),I,K);else if(d.attachEvent)d.attachEvent(Ir(w.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function gn(){function d(E){return w.call(d.src,d.listener,E)}const w=qr;return d}function Ln(d,w,E,I,K){if(Array.isArray(w))for(var Z=0;Z<w.length;Z++)Ln(d,w[Z],E,I,K);else I=u(I)?!!I.capture:!!I,E=Ar(E),d&&d[pe]?(d=d.i,Z=String(w).toString(),Z in d.g&&(w=d.g[Z],E=Te(w,E,I,K),E>-1&&(ie(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete d.g[Z],d.h--)))):d&&(d=cr(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Te(w,E,I,K)),(E=d>-1?w[d]:null)&&Yn(E))}function Yn(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[pe])Oe(w.i,d);else{var E=d.type,I=d.proxy;w.removeEventListener?w.removeEventListener(E,I,d.capture):w.detachEvent?w.detachEvent(Ir(E),I):w.addListener&&w.removeListener&&w.removeListener(I),(E=cr(w))?(Oe(E,d),E.h==0&&(E.src=null,w[qe]=null)):ie(d)}}}function Ir(d){return d in Fe?Fe[d]:Fe[d]="on"+d}function qr(d,w){if(d.da)d=!0;else{w=new oe(w,this);const E=d.listener,I=d.ha||d.src;d.fa&&Yn(d),d=E.call(I,w)}return d}function cr(d){return d=d[qe],d instanceof Se?d:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ar(d){return typeof d=="function"?d:(d[rn]||(d[rn]=function(w){return d.handleEvent(w)}),d[rn])}function lt(){j.call(this),this.i=new Se(this),this.M=this,this.G=null}g(lt,j),lt.prototype[pe]=!0,lt.prototype.removeEventListener=function(d,w,E,I){Ln(this,d,w,E,I)};function st(d,w){var E,I=d.G;if(I)for(E=[];I;I=I.G)E.push(I);if(d=d.M,I=w.type||w,typeof w=="string")w=new O(w,d);else if(w instanceof O)w.target=w.target||d;else{var K=w;w=new O(I,d),F(w,K)}K=!0;let Z,fe;if(E)for(fe=E.length-1;fe>=0;fe--)Z=w.g=E[fe],K=Cn(Z,I,!0,w)&&K;if(Z=w.g=d,K=Cn(Z,I,!0,w)&&K,K=Cn(Z,I,!1,w)&&K,E)for(fe=0;fe<E.length;fe++)Z=w.g=E[fe],K=Cn(Z,I,!1,w)&&K}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const E=d.g[w];for(let I=0;I<E.length;I++)ie(E[I]);delete d.g[w],d.h--}}this.G=null},lt.prototype.J=function(d,w,E,I){return this.i.add(String(d),w,!1,E,I)},lt.prototype.K=function(d,w,E,I){return this.i.add(String(d),w,!0,E,I)};function Cn(d,w,E,I){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let K=!0;for(let Z=0;Z<w.length;++Z){const fe=w[Z];if(fe&&!fe.da&&fe.capture==E){const Ue=fe.listener,Vt=fe.ha||fe.src;fe.fa&&Oe(d.i,fe),K=Ue.call(Vt,I)!==!1&&K}}return K&&!I.defaultPrevented}function Ii(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(d,w||0)}function Ai(d){d.g=Ii(()=>{d.g=null,d.i&&(d.i=!1,Ai(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class me extends j{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(d){j.call(this),this.h=d,this.g={}}g(Ie,j);var J=[];function se(d){de(d.g,function(w,E){this.g.hasOwnProperty(E)&&Yn(w)},d),d.g={}}Ie.prototype.N=function(){Ie.Z.N.call(this),se(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=l.JSON.stringify,Ve=l.JSON.parse,Be=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Et(){}function yn(){}var Pt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){O.call(this,"d")}g(sn,O);function Pn(){O.call(this,"c")}g(Pn,O);var ot={},on=null;function Rt(){return on=on||new lt}ot.Ia="serverreachability";function ls(d){O.call(this,ot.Ia,d)}g(ls,O);function Ci(d){const w=Rt();st(w,new ls(w))}ot.STAT_EVENT="statevent";function Pi(d,w){O.call(this,ot.STAT_EVENT,d),this.stat=w}g(Pi,O);function Dt(d){const w=Rt();st(w,new Pi(w,d))}ot.Ja="timingevent";function Rl(d,w){O.call(this,ot.Ja,d),this.size=w}g(Rl,O);function us(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function cs(){this.g=!0}cs.prototype.ua=function(){this.g=!1};function Vc(d,w,E,I,K,Z){d.info(function(){if(d.g)if(Z){var fe="",Ue=Z.split("&");for(let at=0;at<Ue.length;at++){var Vt=Ue[at].split("=");if(Vt.length>1){const zt=Vt[0];Vt=Vt[1];const nr=zt.split("_");fe=nr.length>=2&&nr[1]=="type"?fe+(zt+"="+Vt+"&"):fe+(zt+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+I+") [attempt "+K+"]: "+w+`
`+E+`
`+fe})}function Fc(d,w,E,I,K,Z,fe){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+K+"]: "+w+`
`+E+`
`+Z+" "+fe})}function Hr(d,w,E,I){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+lo(d,E)+(I?" "+I:"")})}function jc(d,w){d.info(function(){return"TIMEOUT: "+w})}cs.prototype.info=function(){};function lo(d,w){if(!d.g)return w;if(!w)return null;try{const Z=JSON.parse(w);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var E=Z[d];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var K=I[0];if(K!="noop"&&K!="stop"&&K!="close")for(let fe=1;fe<I.length;fe++)I[fe]=""}}}}return xe(Z)}catch{return w}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ds={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uc;function Ri(){}g(Ri,Et),Ri.prototype.g=function(){return new XMLHttpRequest},Uc=new Ri;function Wr(d){return encodeURIComponent(String(d))}function oa(d){var w=1;d=d.split(":");const E=[];for(;w>0&&d.length;)E.push(d.shift()),w--;return d.length&&E.push(d.join(":")),E}function hr(d,w,E,I){this.j=d,this.i=w,this.l=E,this.S=I||1,this.V=new Ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zc}function zc(){this.i=null,this.g="",this.h=!1}var Bc={},Dl={};function Cr(d,w,E){d.M=1,d.A=Ni(dr(w)),d.u=E,d.R=!0,Nl(d,null)}function Nl(d,w){d.F=Date.now(),uo(d),d.B=dr(d.A);var E=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),$l(E.i,"t",I),d.C=0,E=d.j.L,d.h=new zc,d.g=Jc(d.j,E?w:null,!d.u),d.P>0&&(d.O=new me(f(d.Y,d,d.g),d.P)),w=d.V,E=d.g,I=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(J[0]=K.toString()),K=J);for(let Z=0;Z<K.length;Z++){const fe=Ke(E,K[Z],I||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Ci(),Vc(d.i,d.v,d.B,d.l,d.S,d.u)}hr.prototype.ba=function(d){d=d.target;const w=this.O;w&&Zr(d)==3?w.j():this.Y(d)},hr.prototype.Y=function(d){try{if(d==this.g)e:{const Ue=Zr(this.g),Vt=this.g.ya(),at=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Yc(this.g)))){this.K||Ue!=4||Vt==7||(Vt==8||at<=0?Ci(3):Ci(2)),aa(this);var w=this.g.ca();this.X=w;var E=$c(this);if(this.o=w==200,Fc(this.i,this.v,this.B,this.l,this.S,Ue,w),this.o){if(this.U&&!this.L){t:{if(this.g){var I,K=this.g;if((I=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var Z=I;break t}}Z=null}if(d=Z)Hr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yt(this,d);else{this.o=!1,this.m=3,Dt(12),Di(this),co(this);break e}}if(this.R){d=!0;let zt;for(;!this.K&&this.C<E.length;)if(zt=Hc(this,E),zt==Dl){Ue==4&&(this.m=4,Dt(14),d=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Bc){this.m=4,Dt(15),Hr(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Hr(this.i,this.l,zt,null),yt(this,zt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||E.length!=0||this.h.h||(this.m=1,Dt(16),d=!1),this.o=this.o&&d,!d)Hr(this.i,this.l,E,"[Invalid Chunked Response]"),Di(this),co(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),wo(fe),fe.P=!0,Dt(11))}}else Hr(this.i,this.l,E,null),yt(this,E);Ue==4&&Di(this),this.o&&!this.K&&(Ue==4?ya(this.j,this):(this.o=!1,uo(this)))}else Hl(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Di(this),co(this)}}}catch{}finally{}};function $c(d){if(!qc(d))return d.g.la();const w=Yc(d.g);if(w==="")return"";let E="";const I=w.length,K=Zr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Di(d),co(d),"";d.h.i=new l.TextDecoder}for(let Z=0;Z<I;Z++)d.h.h=!0,E+=d.h.i.decode(w[Z],{stream:!(K&&Z==I-1)});return w.length=0,d.h.g+=E,d.C=0,d.h.g}function qc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Hc(d,w){var E=d.C,I=w.indexOf(`
`,E);return I==-1?Dl:(E=Number(w.substring(E,I)),isNaN(E)?Bc:(I+=1,I+E>w.length?Dl:(w=w.slice(I,I+E),d.C=I+E,w)))}hr.prototype.cancel=function(){this.K=!0,Di(this)};function uo(d){d.T=Date.now()+d.H,Ol(d,d.H)}function Ol(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=us(f(d.aa,d),w)}function aa(d){d.D&&(l.clearTimeout(d.D),d.D=null)}hr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(jc(this.i,this.B),this.M!=2&&(Ci(),Dt(17)),Di(this),this.m=2,co(this)):Ol(this,this.T-d)};function co(d){d.j.I==0||d.K||ya(d.j,d)}function Di(d){aa(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,se(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function yt(d,w){try{var E=d.j;if(E.I!=0&&(E.g==d||Ll(E.h,d))){if(!d.L&&Ll(E.h,d)&&E.I==3){try{var I=E.Ba.g.parse(w)}catch{I=null}if(Array.isArray(I)&&I.length==3){var K=I;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)ga(E),er(E);else break e;ni(E),Dt(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=us(f(E.Va,E),6e3));ho(E.h)<=1&&E.ta&&(E.ta=void 0)}else tr(E,11)}else if((d.L||E.g==d)&&ga(E),!P(w))for(K=E.Ba.g.parse(w),w=0;w<K.length;w++){let at=K[w];const zt=at[0];if(!(zt<=E.K))if(E.K=zt,at=at[1],E.I==2)if(at[0]=="c"){E.M=at[1],E.ba=at[2];const nr=at[3];nr!=null&&(E.ka=nr,E.j.info("VER="+E.ka));const Fi=at[4];Fi!=null&&(E.za=Fi,E.j.info("SVER="+E.za));const ri=at[5];ri!=null&&typeof ri=="number"&&ri>0&&(I=1.5*ri,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const ii=d.g;if(ii){const wa=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var Z=I.h;Z.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ua(Z,Z.h),Z.h=null))}if(I.G){const Gl=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(I.wa=Gl,tt(I.J,I.G,Gl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var fe=d;if(I.na=Kl(I,I.L?I.ba:null,I.W),fe.L){fo(I.h,fe);var Ue=fe,Vt=I.O;Vt&&(Ue.H=Vt),Ue.D&&(aa(Ue),uo(Ue)),I.g=fe}else vn(I);E.i.length>0&&Vi(E)}else at[0]!="stop"&&at[0]!="close"||tr(E,7);else E.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?tr(E,7):pa(E):at[0]!="noop"&&E.l&&E.l.qa(at),E.A=0)}}Ci(4)}catch{}}var Gf=class{constructor(d,w){this.g=d,this.map=w}};function la(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ho(d){return d.h?1:d.g?d.g.size:0}function Ll(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function ua(d,w){d.g?d.g.add(w):d.h=w}function fo(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}la.prototype.cancel=function(){if(this.i=Xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Xn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const E of d.g.values())w=w.concat(E.G);return w}return _(d.i)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jn(d,w){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const I=d[E].indexOf("=");let K,Z=null;I>=0?(K=d[E].substring(0,I),Z=d[E].substring(I+1)):K=d[E],w(K,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Kr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof Kr?(this.l=d.l,po(this,d.j),this.o=d.o,this.g=d.g,Gr(this,d.u),this.h=d.h,fs(this,ql(d.i)),this.m=d.m):d&&(w=String(d).match(Wc))?(this.l=!1,po(this,w[1]||"",!0),this.o=mo(w[2]||""),this.g=mo(w[3]||"",!0),Gr(this,w[4]),this.h=mo(w[5]||"",!0),fs(this,w[6]||"",!0),this.m=mo(w[7]||"")):(this.l=!1,this.i=new Xe(null,this.l))}Kr.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(go(w,Fl,!0),":");var E=this.g;return(E||w=="file")&&(d.push("//"),(w=this.o)&&d.push(go(w,Fl,!0),"@"),d.push(Wr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(go(E,E.charAt(0)=="/"?yo:jl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",go(E,Ul)),d.join("")},Kr.prototype.resolve=function(d){const w=dr(this);let E=!!d.j;E?po(w,d.j):E=!!d.o,E?w.o=d.o:E=!!d.g,E?w.g=d.g:E=d.u!=null;var I=d.h;if(E)Gr(w,d.u);else if(E=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var K=w.h.lastIndexOf("/");K!=-1&&(I=w.h.slice(0,K+1)+I)}if(K=I,K==".."||K==".")I="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){I=K.lastIndexOf("/",0)==0,K=K.split("/");const Z=[];for(let fe=0;fe<K.length;){const Ue=K[fe++];Ue=="."?I&&fe==K.length&&Z.push(""):Ue==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),I&&fe==K.length&&Z.push("")):(Z.push(Ue),I=!0)}I=Z.join("/")}else I=K}return E?w.h=I:E=d.i.toString()!=="",E?fs(w,ql(d.i)):E=!!d.m,E&&(w.m=d.m),w};function dr(d){return new Kr(d)}function po(d,w,E){d.j=E?mo(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Gr(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function fs(d,w,E){w instanceof Xe?(d.i=w,ha(d.i,d.l)):(E||(w=go(w,Qf)),d.i=new Xe(w,d.l))}function tt(d,w,E){d.i.set(w,E)}function Ni(d){return tt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function mo(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function go(d,w,E){return typeof d=="string"?(d=encodeURI(d).replace(w,Vl),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Vl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fl=/[#\/\?@]/g,jl=/[#\?:]/g,yo=/[#\?]/g,Qf=/[#\?@]/g,Ul=/#/g;function Xe(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Qr(d){d.g||(d.g=new Map,d.h=0,d.i&&Jn(d.i,function(w,E){d.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=Xe.prototype,t.add=function(d,w){Qr(this),this.i=null,d=Yr(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(w),this.h+=1,this};function zl(d,w){Qr(d),w=Yr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ca(d,w){return Qr(d),w=Yr(d,w),d.g.has(w)}t.forEach=function(d,w){Qr(this),this.g.forEach(function(E,I){E.forEach(function(K){d.call(w,K,I,this)},this)},this)};function Bl(d,w){Qr(d);let E=[];if(typeof w=="string")ca(d,w)&&(E=E.concat(d.g.get(Yr(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)E=E.concat(d[w]);return E}t.set=function(d,w){return Qr(this),this.i=null,d=Yr(this,d),ca(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=Bl(this,d),d.length>0?String(d[0]):w):w};function $l(d,w,E){zl(d,w),E.length>0&&(d.i=null,d.g.set(Yr(d,w),_(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let I=0;I<w.length;I++){var E=w[I];const K=Wr(E);E=Bl(this,E);for(let Z=0;Z<E.length;Z++){let fe=K;E[Z]!==""&&(fe+="="+Wr(E[Z])),d.push(fe)}}return this.i=d.join("&")};function ql(d){const w=new Xe;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function Yr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function ha(d,w){w&&!d.j&&(Qr(d),d.i=null,d.g.forEach(function(E,I){const K=I.toLowerCase();I!=K&&(zl(this,I),$l(this,K,E))},d)),d.j=w}function Xr(d,w){const E=new cs;if(l.Image){const I=new Image;I.onload=m(an,E,"TestLoadImage: loaded",!0,w,I),I.onerror=m(an,E,"TestLoadImage: error",!1,w,I),I.onabort=m(an,E,"TestLoadImage: abort",!1,w,I),I.ontimeout=m(an,E,"TestLoadImage: timeout",!1,w,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else w(!1)}function Jr(d,w){const E=new cs,I=new AbortController,K=setTimeout(()=>{I.abort(),an(E,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:I.signal}).then(Z=>{clearTimeout(K),Z.ok?an(E,"TestPingServer: ok",!0,w):an(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(K),an(E,"TestPingServer: error",!1,w)})}function an(d,w,E,I,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),I(E)}catch{}}function vo(){this.g=new Be}function Oi(d){this.i=d.Sb||null,this.h=d.ab||!1}g(Oi,Et),Oi.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(d,w){lt.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Zn,lt),t=Zn.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Pr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kc(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kc(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?ps(this):Pr(this),this.readyState==3&&Kc(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,ps(this))},t.Na=function(d){this.g&&(this.response=d,ps(this))},t.ga=function(){this.g&&ps(this)};function ps(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Pr(d)}t.setRequestHeader=function(d,w){this.A.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=w.next();return d.join(`\r
`)};function Pr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Gc(d){let w="";return de(d,function(E,I){w+=I,w+=":",w+=E,w+=`\r
`}),w}function da(d,w,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Gc(E),typeof d=="string"?E!=null&&Wr(E):tt(d,w,E))}function ht(d){lt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ht,lt);var Qc=/^https?$/i,Yf=["POST","PUT"];t=ht.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,w,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uc.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(Z){ms(this,Z);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var K in I)E.set(K,I[K]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())E.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(Yf,w,void 0)>=0)||I||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of E)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){ms(this,Z)}};function ms(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,gs(d),Li(d)}function gs(d){d.A||(d.A=!0,st(d,"complete"),st(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,st(this,"complete"),st(this,"abort"),Li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mi(this):this.Xa())},t.Xa=function(){Mi(this)};function Mi(d){if(d.h&&typeof o<"u"){if(d.v&&Zr(d)==4)setTimeout(d.Ca.bind(d),0);else if(st(d,"readystatechange"),Zr(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var I;if(I=Z===0){let fe=String(d.D).match(Wc)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),I=!Qc.test(fe?fe.toLowerCase():"")}E=I}if(E)st(d,"complete"),st(d,"success");else{d.o=6;try{var K=Zr(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",gs(d)}}finally{Li(d)}}}}function Li(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,w||st(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zr(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Ve(w)}};function Yc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Hl(d){const w={};d=(d.g&&Zr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(P(d[I]))continue;var E=oa(d[I]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=w[K]||[];w[K]=Z,Z.push(E)}R(w,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(d,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||w}function fa(d){this.za=0,this.i=[],this.j=new cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ei("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ei("baseRetryDelayMs",5e3,d),this.Za=ei("retryDelaySeedMs",1e4,d),this.Ta=ei("forwardChannelMaxRetries",2,d),this.va=ei("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new la(d&&d.concurrentRequestLimit),this.Ba=new vo,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fa.prototype,t.ka=8,t.I=1,t.connect=function(d,w,E,I){Dt(0),this.W=d,this.H=w||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Kl(this,null,this.W),Vi(this)};function pa(d){if(ma(d),d.I==3){var w=d.V++,E=dr(d.J);if(tt(E,"SID",d.M),tt(E,"RID",w),tt(E,"TYPE","terminate"),ti(d,E),w=new hr(d,d.j,w),w.M=2,w.A=Ni(dr(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=w.A,E=!0),E||(w.g=Jc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),uo(w)}_o(d)}function er(d){d.g&&(wo(d),d.g.cancel(),d.g=null)}function ma(d){er(d),d.v&&(l.clearTimeout(d.v),d.v=null),ga(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function Vi(d){if(!Ml(d.h)&&!d.m){d.m=!0;var w=d.Ea;ee||S(),H||(ee(),H=!0),A.add(w,d),d.D=0}}function Xc(d,w){return ho(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=us(f(d.Ea,d,w),va(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new hr(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=q(Z),F(Z,this.U)):Z=this.U),this.u!==null||this.R||(K.J=Z,Z=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(w+=I,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Wl(this,K,w),E=dr(this.J),tt(E,"RID",d),tt(E,"CVER",22),this.G&&tt(E,"X-HTTP-Session-Id",this.G),ti(this,E),Z&&(this.R?w="headers="+Wr(Gc(Z))+"&"+w:this.u&&da(E,this.u,Z)),ua(this.h,K),this.Ra&&tt(E,"TYPE","init"),this.S?(tt(E,"$req",w),tt(E,"SID","null"),K.U=!0,Cr(K,E,null)):Cr(K,E,w),this.I=2}}else this.I==3&&(d?xo(this,d):this.i.length==0||Ml(this.h)||xo(this))};function xo(d,w){var E;w?E=w.l:E=d.V++;const I=dr(d.J);tt(I,"SID",d.M),tt(I,"RID",E),tt(I,"AID",d.K),ti(d,I),d.u&&d.o&&da(I,d.u,d.o),E=new hr(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Wl(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ua(d.h,E),Cr(E,I,w)}function ti(d,w){d.H&&de(d.H,function(E,I){tt(w,I,E)}),d.l&&de({},function(E,I){tt(w,I,E)})}function Wl(d,w,E){E=Math.min(d.i.length,E);const I=d.l?f(d.l.Ka,d.l,d):null;e:{var K=d.i;let Ue=-1;for(;;){const Vt=["count="+E];Ue==-1?E>0?(Ue=K[0].g,Vt.push("ofs="+Ue)):Ue=0:Vt.push("ofs="+Ue);let at=!0;for(let zt=0;zt<E;zt++){var Z=K[zt].g;const nr=K[zt].map;if(Z-=Ue,Z<0)Ue=Math.max(0,K[zt].g-100),at=!1;else try{Z="req"+Z+"_"||"";try{var fe=nr instanceof Map?nr:Object.entries(nr);for(const[Fi,ri]of fe){let ii=ri;u(ri)&&(ii=xe(ri)),Vt.push(Z+Fi+"="+encodeURIComponent(ii))}}catch(Fi){throw Vt.push(Z+"type="+encodeURIComponent("_badmap")),Fi}}catch{I&&I(nr)}}if(at){fe=Vt.join("&");break e}}fe=void 0}return d=d.i.splice(0,E),w.G=d,fe}function vn(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;ee||S(),H||(ee(),H=!0),A.add(w,d),d.A=0}}function ni(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=us(f(d.Da,d),va(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,ys(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=us(f(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),er(this),ys(this))};function wo(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function ys(d){d.g=new hr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=dr(d.na);tt(w,"RID","rpc"),tt(w,"SID",d.M),tt(w,"AID",d.K),tt(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&tt(w,"TO",d.ia),tt(w,"TYPE","xmlhttp"),ti(d,w),d.u&&d.o&&da(w,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Ni(dr(w)),E.u=null,E.R=!0,Nl(E,d)}t.Va=function(){this.C!=null&&(this.C=null,er(this),ni(this),Dt(19))};function ga(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function ya(d,w){var E=null;if(d.g==w){ga(d),wo(d),d.g=null;var I=2}else if(Ll(d.h,w))E=w.G,fo(d.h,w),I=1;else return;if(d.I!=0){if(w.o)if(I==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var K=d.D;I=Rt(),st(I,new Rl(I,E)),Vi(d)}else vn(d);else if(K=w.m,K==3||K==0&&w.X>0||!(I==1&&Xc(d,w)||I==2&&ni(d)))switch(E&&E.length>0&&(w=d.h,w.i=w.i.concat(E)),K){case 1:tr(d,5);break;case 4:tr(d,10);break;case 3:tr(d,6);break;default:tr(d,2)}}}function va(d,w){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*w}function tr(d,w){if(d.j.info("Error code "+w),w==2){var E=f(d.bb,d),I=d.Ua;const K=!I;I=new Kr(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||po(I,"https"),Ni(I),K?Xr(I.toString(),E):Jr(I.toString(),E)}else Dt(2);d.I=0,d.l&&d.l.pa(w),_o(d),ma(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function _o(d){if(d.I=0,d.ja=[],d.l){const w=Xn(d.h);(w.length!=0||d.i.length!=0)&&(C(d.ja,w),C(d.ja,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.oa()}}function Kl(d,w,E){var I=E instanceof Kr?dr(E):new Kr(E);if(I.g!="")w&&(I.g=w+"."+I.g),Gr(I,I.u);else{var K=l.location;I=K.protocol,w=w?w+"."+K.hostname:K.hostname,K=+K.port;const Z=new Kr(null);I&&po(Z,I),w&&(Z.g=w),K&&Gr(Z,K),E&&(Z.h=E),I=Z}return E=d.G,w=d.wa,E&&w&&tt(I,E,w),tt(I,"VER",d.ka),ti(d,I),I}function Jc(d,w,E){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new ht(new Oi({ab:E})):new ht(d.ma),w.Fa(d.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}t=Zc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xa(){}xa.prototype.g=function(d,w){return new ln(d,w)};function ln(d,w){lt.call(this),this.g=new fa(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!P(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new vs(this)}g(ln,lt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){pa(this.g)},ln.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=xe(d),d=E);w.i.push(new Gf(w.Ya++,d)),w.I==3&&Vi(w)},ln.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,ln.Z.N.call(this)};function eh(d){sn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const E in w){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}g(eh,sn);function th(){Pn.call(this),this.status=1}g(th,Pn);function vs(d){this.g=d}g(vs,Zc),vs.prototype.ra=function(){st(this.g,"a")},vs.prototype.qa=function(d){st(this.g,new eh(d))},vs.prototype.pa=function(d){st(this.g,new th)},vs.prototype.oa=function(){st(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,wS=function(){return new xa},xS=function(){return Rt()},vS=ot,Cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,xd=hs,ds.COMPLETE="complete",yS=ds,yn.EventType=Pt,Pt.OPEN="a",Pt.CLOSE="b",Pt.ERROR="c",Pt.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Au=yn,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,gS=ht}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",q_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new jy("@firebase/firestore");function $a(){return Xo.logLevel}function ve(t,...e){if(Xo.logLevel<=Ge.DEBUG){const n=e.map(Xy);Xo.debug(`Firestore (${_l}): ${t}`,...n)}}function ts(t,...e){if(Xo.logLevel<=Ge.ERROR){const n=e.map(Xy);Xo.error(`Firestore (${_l}): ${t}`,...n)}}function ll(t,...e){if(Xo.logLevel<=Ge.WARN){const n=e.map(Xy);Xo.warn(`Firestore (${_l}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_S(t,r,n)}function _S(t,e,n){let r=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_S(e,i,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class H4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W4{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Bo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new ES(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class K4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Y4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function Pg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Cm(i)===Cm(o)?Qe(i,o):Cm(i)?1:-1}return Qe(t.length,e.length)}const X4=55296,J4=57343;function Cm(t){const e=t.charCodeAt(0);return e>=X4&&e<=J4}function ul(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=hi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Qe(e.length,n.length)}static compareSegments(e,n){const r=hi.isNumericId(e),i=hi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Pg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class mt extends hi{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const Z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends hi{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return Z4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new pn([W_])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(mt.fromString(e))}static fromName(e){return new Ae(mt.fromString(e).popFirst(5))}static empty(){return new Ae(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eM(t,e,n,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K_(t){if(!Ae.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G_(t){if(Ae.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(t);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tc(t,e){if(!bS(t))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ye(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,Y_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Y_);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q_)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Kt("string",_t._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new _t(0,0))}static max(){return new je(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;function tM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Qs(i,Ae.empty(),e)}function nM(t){return new Qs(t.readTime,t.key,Zu)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(je.min(),Ae.empty(),Zu)}static max(){return new Qs(je.max(),Ae.empty(),Zu)}}function rM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==iM)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&n()}),(h=>r(h)))})),l=!0,o===i&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((i=>i?re.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++u,u===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new re(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function oM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-1;function _f(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function aM(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="";function lM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=X_(e)),e=uM(t.get(n),e);return X_(e)}function uM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case SS:n+="";break;default:n+=o}}return n}function X_(t){return t+SS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=o??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new dn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new Jt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IS("Invalid base64 string: "+o):o}})(e);return new mn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const cM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=cM.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="server_timestamp",CS="__type__",PS="__previous_value__",RS="__local_write_time__";function ev(t){return(t?.mapValue?.fields||{})[CS]?.stringValue===AS}function Ef(t){const e=t.mapValue.fields[PS];return ev(e)?Ef(e):e}function ec(t){const e=Ys(t.mapValue.fields[RS].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,i,o,l,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Bd="(default)";class tc{constructor(e,n){this.projectId=e,this.database=n||Bd}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="__type__",dM="__max__",Zh={mapValue:{}},NS="__vector__",$d="value";function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ev(t)?4:pM(t)?9007199254740991:fM(t)?10:11:De(28295,{value:t})}function Ti(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ys(i.timestampValue),u=Ys(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Xs(i.bytesValue).isEqual(Xs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Ut(i.doubleValue),u=Ut(o.doubleValue);return l===u?zd(l)===zd(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(J_(l)!==J_(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ti(l[h],u[h])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function nc(t,e){return(t.values||[]).find((n=>Ti(n,e)))!==void 0}function cl(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Ut(o.integerValue||o.doubleValue),h=Ut(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(ec(t),ec(e));case 5:return Pg(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=Xs(o),h=Xs(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Qe(u[f],h[f]);if(m!==0)return m}return Qe(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Qe(Ut(o.latitude),Ut(l.latitude));return u!==0?u:Qe(Ut(o.longitude),Ut(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return t1(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},h=l.fields||{},f=u[$d]?.arrayValue,m=h[$d]?.arrayValue,g=Qe(f?.values?.length||0,m?.values?.length||0);return g!==0?g:t1(f,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Zh.mapValue&&l===Zh.mapValue)return 0;if(o===Zh.mapValue)return 1;if(l===Zh.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let g=0;g<h.length&&g<m.length;++g){const v=Pg(h[g],m[g]);if(v!==0)return v;const _=cl(u[h[g]],f[m[g]]);if(_!==0)return _}return Qe(h.length,m.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Ys(t),r=Ys(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function t1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=cl(n[i],r[i]);if(o)return o}return Qe(n.length,r.length)}function hl(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Rg(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Rg(n.fields[l])}`;return i+"}"})(t.mapValue):De(61005,{value:t})}function wd(t){switch(Js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(t);return e?16+wd(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+wd(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ro(r.fields,((o,l)=>{i+=o.length+wd(l)})),i})(t.mapValue);default:throw De(13486,{value:t})}}function n1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function tv(t){return!!t&&"arrayValue"in t}function r1(t){return!!t&&"nullValue"in t}function i1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _d(t){return!!t&&"mapValue"in t}function fM(t){return(t?.mapValue?.fields||{})[DS]?.stringValue===NS}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ro(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function pM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=pn.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Mu(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ro(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Hn(Mu(this.value))}}function OS(t){const e=[];return ro(t.fields,((n,r)=>{const i=new pn([n]);if(_d(r)){const o=OS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Sn(e,0,je.min(),je.min(),je.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Sn(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new Sn(e,2,n,je.min(),je.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,je.min(),je.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.position=e,this.inclusive=n}}function s1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),n.key):r=cl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function o1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{}class Wt extends MS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yM(e,n,r):n==="array-contains"?new wM(e,r):n==="in"?new _M(e,r):n==="not-in"?new EM(e,r):n==="array-contains-any"?new TM(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vM(e,r):new xM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends MS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Br(e,n)}matches(e){return LS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LS(t){return t.op==="and"}function VS(t){return gM(t)&&LS(t)}function gM(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function Ng(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(VS(t))return t.filters.map((e=>Ng(e))).join(",");{const e=t.filters.map((n=>Ng(n))).join(",");return`${t.op}(${e})`}}function FS(t,e){return t instanceof Wt?(function(r,i){return i instanceof Wt&&r.op===i.op&&r.field.isEqual(i.field)&&Ti(r.value,i.value)})(t,e):t instanceof Br?(function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&FS(l,i.filters[u])),!0):!1})(t,e):void De(19439)}function jS(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(t):t instanceof Br?(function(n){return n.op.toString()+" {"+n.getFilters().map(jS).join(" ,")+"}"})(t):"Filter"}class yM extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class vM extends Wt{constructor(e,n){super(e,"in",n),this.keys=US("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xM extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=US("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function US(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class wM extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tv(n)&&nc(n.arrayValue,this.value)}}class _M extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class EM extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nc(this.value.arrayValue,n)}}class TM extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function a1(t,e=null,n=[],r=[],i=null,o=null,l=null){return new bM(t,e,n,r,i,o,l)}function nv(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ng(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),_f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hl(r))).join(",")),e.Te=n}return e.Te}function rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o1(t.startAt,e.startAt)&&o1(t.endAt,e.endAt)}function Og(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SM(t,e,n,r,i,o,l,u){return new bl(t,e,n,r,i,o,l,u)}function iv(t){return new bl(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zS(t){return t.collectionGroup!==null}function Lu(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Jt(pn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new rc(o,r))})),n.has(pn.keyField().canonicalString())||e.Ie.push(new rc(pn.keyField(),r))}return e.Ie}function gi(t){const e=ze(t);return e.Ee||(e.Ee=kM(e,Lu(t))),e.Ee}function kM(t,e){if(t.limitType==="F")return a1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new rc(i.field,o)}));const n=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;return a1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mg(t,e){const n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lg(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tf(t,e){return rv(gi(t),gi(e))&&t.limitType===e.limitType}function BS(t){return`${nv(gi(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>jS(i))).join(", ")}]`),_f(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>hl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>hl(i))).join(",")),`Target(${r})`})(gi(t))}; limitType=${t.limitType})`}function bf(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,h){const f=s1(l,u,h);return l.inclusive?f<=0:f<0})(r.startAt,Lu(r),i)||r.endAt&&!(function(l,u,h){const f=s1(l,u,h);return l.inclusive?f>=0:f>0})(r.endAt,Lu(r),i))})(t,e)}function IM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $S(t){return(e,n)=>{let r=!1;for(const i of Lu(t)){const o=AM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AM(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?cl(h,f):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return kS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new Ct(Ae.comparator);function ns(){return CM}const qS=new Ct(Ae.comparator);function Cu(...t){let e=qS;for(const n of t)e=e.insert(n.key,n);return e}function HS(t){let e=qS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jo(){return Vu()}function WS(){return Vu()}function Vu(){return new ta((t=>t.toString()),((t,e)=>t.isEqual(e)))}const PM=new Ct(Ae.comparator),RM=new Jt(Ae.comparator);function Ye(...t){let e=RM;for(const n of t)e=e.add(n);return e}const DM=new Jt(Qe);function NM(){return DM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function KS(t){return{integerValue:""+t}}function OM(t,e){return aM(e)?KS(e):sv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function MM(t,e,n){return t instanceof ic?(function(i,o){const l={fields:{[CS]:{stringValue:AS},[RS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ev(o)&&(o=Ef(o)),o&&(l.fields[PS]=o),{mapValue:l}})(n,e):t instanceof sc?QS(t,e):t instanceof oc?YS(t,e):(function(i,o){const l=GS(i,o),u=u1(l)+u1(i.Ae);return Dg(l)&&Dg(i.Ae)?KS(u):sv(i.serializer,u)})(t,e)}function LM(t,e,n){return t instanceof sc?QS(t,e):t instanceof oc?YS(t,e):n}function GS(t,e){return t instanceof Hd?(function(r){return Dg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ic extends Sf{}class sc extends Sf{constructor(e){super(),this.elements=e}}function QS(t,e){const n=XS(e);for(const r of t.elements)n.some((i=>Ti(i,r)))||n.push(r);return{arrayValue:{values:n}}}class oc extends Sf{constructor(e){super(),this.elements=e}}function YS(t,e){let n=XS(e);for(const r of t.elements)n=n.filter((i=>!Ti(i,r)));return{arrayValue:{values:n}}}class Hd extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function u1(t){return Ut(t.integerValue||t.doubleValue)}function XS(t){return tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.field=e,this.transform=n}}function FM(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof sc&&i instanceof sc||r instanceof oc&&i instanceof oc?ul(r.elements,i.elements,Ti):r instanceof Hd&&i instanceof Hd?Ti(r.Ae,i.Ae):r instanceof ic&&i instanceof ic})(t.transform,e.transform)}class jM{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function JS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ov(t.key,zr.none()):new bc(t.key,t.data,zr.none());{const n=t.data,r=Hn.empty();let i=new Jt(pn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new io(t.key,r,new ar(i.toArray()),zr.none())}}function UM(t,e,n){t instanceof bc?(function(i,o,l){const u=i.value.clone(),h=h1(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof io?(function(i,o,l){if(!Ed(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=h1(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(ZS(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Fu(t,e,n,r){return t instanceof bc?(function(o,l,u,h){if(!Ed(o.precondition,l))return u;const f=o.value.clone(),m=d1(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof io?(function(o,l,u,h){if(!Ed(o.precondition,l))return u;const f=d1(o.fieldTransforms,h,l),m=l.data;return m.setAll(ZS(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(o,l,u){return Ed(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function zM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=GS(r.transform,i||null);o!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ul(r,i,((o,l)=>FM(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends kf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ZS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function h1(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,LM(l,u,n[i]))}return r}function d1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,MM(o,l,e))}return r}class ov extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BM extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&UM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WS();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const h=JS(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,((n,r)=>c1(n,r)))&&ul(this.baseMutations,e.baseMutations,((n,r)=>c1(n,r)))}}class av{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return PM})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new av(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Je;function WM(t){switch(t){case ne.OK:return De(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function ek(t){if(t===void 0)return ts("GRPC error has no .code"),ne.UNKNOWN;switch(t){case $t.OK:return ne.OK;case $t.CANCELLED:return ne.CANCELLED;case $t.UNKNOWN:return ne.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ne.INTERNAL;case $t.UNAVAILABLE:return ne.UNAVAILABLE;case $t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case $t.NOT_FOUND:return ne.NOT_FOUND;case $t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case $t.ABORTED:return ne.ABORTED;case $t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case $t.DATA_LOSS:return ne.DATA_LOSS;default:return De(39323,{code:t})}}(Je=$t||($t={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new Hs([4294967295,4294967295],0);function f1(t){const e=KM().encode(t),n=new mS;return n.update(e),new Uint8Array(n.digest())}function p1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([i,o],0)]}class lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pu(`Invalid padding: ${n}`);if(r<0)throw new Pu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Hs.fromNumber(r)));return i.compare(GM)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=f1(e),[r,i]=p1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new lv(o,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=f1(e),[r,i]=p1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new If(je.min(),i,new Ct(Qe),ns(),Ye())}}class Sc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sc(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class tk{constructor(e,n){this.targetId=e,this.Ce=n}}class nk{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class m1{constructor(){this.ve=0,this.Fe=g1(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De(38017,{changeType:o})}})),new Sc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=g1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=ed(),this.He=ed(),this.Ye=new Ct(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Og(o))if(r===0){const l=new Ae(o.path);this.et(n,l,Sn.newNoDocument(l,je.min()))}else rt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=Xs(r).toUint8Array()}catch(h){if(h instanceof IS)return ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new lv(l,i,o)}catch(h){return ll(h instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Og(u.target)){const h=new Ae(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Sn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=Ye();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new If(e,n,this.Ye,this.je,r);return this.je=ns(),this.Je=ed(),this.He=ed(),this.Ye=new Ct(Qe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new m1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ed(){return new Ct(Ae.comparator)}function g1(){return new Ct(Ae.comparator)}const YM={asc:"ASCENDING",desc:"DESCENDING"},XM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JM={and:"AND",or:"OR"};class ZM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vg(t,e){return t.useProto3Json||_f(e)?e:{value:e}}function Wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eL(t,e){return Wd(t,e.toTimestamp())}function yi(t){return rt(!!t,49232),je.fromTimestamp((function(n){const r=Ys(n);return new _t(r.seconds,r.nanos)})(t))}function uv(t,e){return Fg(t,e).canonicalString()}function Fg(t,e){const n=(function(i){return new mt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ik(t){const e=mt.fromString(t);return rt(uk(e),10190,{key:e.toString()}),e}function jg(t,e){return uv(t.databaseId,e.path)}function Pm(t,e){const n=ik(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(ok(n))}function sk(t,e){return uv(t.databaseId,e)}function tL(t){const e=ik(t);return e.length===4?mt.emptyPath():ok(e)}function Ug(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ok(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y1(t,e,n){return{name:jg(t,e),fields:n.value.mapValue.fields}}function nL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:De(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,m){return f.useProto3Json?(rt(m===void 0||typeof m=="string",58123),mn.fromBase64String(m||"")):(rt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),mn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const m=f.code===void 0?ne.UNKNOWN:ek(f.code);return new ye(m,f.message||"")})(l);n=new nk(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pm(t,r.document.name),o=yi(r.document.updateTime),l=r.document.createTime?yi(r.document.createTime):je.min(),u=new Hn({mapValue:{fields:r.document.fields}}),h=Sn.newFoundDocument(i,o,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Td(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pm(t,r.document),o=r.readTime?yi(r.readTime):je.min(),l=Sn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Td([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pm(t,r.document),o=r.removedTargetIds||[];n=new Td([],o,i,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new HM(i,o),u=r.targetId;n=new tk(u,l)}}return n}function rL(t,e){let n;if(e instanceof bc)n={update:y1(t,e.key,e.value)};else if(e instanceof ov)n={delete:jg(t,e.key)};else if(e instanceof io)n={update:y1(t,e.key,e.data),updateMask:dL(e.fieldMask)};else{if(!(e instanceof BM))return De(16599,{Vt:e.type});n={verify:jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof ic)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof oc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hd)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:eL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De(27497)})(t,e.precondition)),n}function iL(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?yi(i.updateTime):yi(o);return l.isEqual(je.min())&&(l=yi(o)),new jM(l,i.transformResults||[])})(n,e)))):[]}function sL(t,e){return{documents:[sk(t,e.path)]}}function oL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sk(t,i);const o=(function(f){if(f.length!==0)return lk(Br.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:Ha(v.field),direction:uL(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Vg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function aL(t){let e=tL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(g){const v=ak(g);return v instanceof Br&&VS(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((v=>(function(C){return new rc(Wa(C.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let v;return v=typeof g=="object"?g.value:g,_f(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(g){const v=!!g.before,_=g.values||[];return new qd(_,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const v=!g.before,_=g.values||[];return new qd(_,v)})(n.endAt)),SM(e,i,l,o,u,"F",h,f)}function lL(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ak(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(n.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wa(n.unaryFilter.field);return Wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wa(n.unaryFilter.field);return Wt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(Wa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Br.create(n.compositeFilter.filters.map((r=>ak(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function uL(t){return YM[t]}function cL(t){return XM[t]}function hL(t){return JM[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function Wa(t){return pn.fromServerFormat(t.fieldPath)}function lk(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(i1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(r1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(r1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:cL(n.op),value:n.value}}})(t):t instanceof Br?(function(n){const r=n.getFilters().map((i=>lk(i)));return r.length===1?r[0]:{compositeFilter:{op:hL(n.op),filters:r}}})(t):De(54877,{filter:t})}function dL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r,i,o=je.min(),l=je.min(),u=mn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.yt=e}}function pL(t){const e=aL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.Cn=new gL}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Qs.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class gL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(mt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ck=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(ck,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="LruGarbageCollector",yL=1048576;function w1([t,e],[n,r]){const i=Qe(t,n);return i===0?Qe(e,r):i}class vL{constructor(e){this.Ir=e,this.buffer=new Jt(w1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(x1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tl(n)?ve(x1,"Ignoring IndexedDB error during garbage collection: ",n):await El(n)}await this.Vr(3e5)}))}}class wL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(wf.ce);const r=new vL(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(v1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(o=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),$a()<=Ge.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g}))))}}function _L(t,e){return new wL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Fu(r.mutation,i,ar.empty(),_t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const i=jo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=Cu();return o.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=jo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let o=ns();const l=Vu(),u=(function(){return Vu()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof io)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Fu(m.mutation,f,m.mutation.getFieldMask(),_t.now())):l.set(f.key,ar.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>u.set(f,new TL(m,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Vu();let i=new Ct(((l,u)=>l-u)),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||ar.empty();m=u.applyToLocalView(f,m),r.set(h,m);const g=(i.get(u.batchId)||Ye()).add(h);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,g=WS();m.forEach((v=>{if(!o.has(v)){const _=JS(n.get(v),r.get(v));_!==null&&g.set(v,_),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return re.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(jo());let u=Zu,h=o;return l.next((f=>re.forEach(f,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(m)?re.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Ye()))).next((m=>({batchId:u,changes:HS(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((r=>{let i=Cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Cu();return this.indexManager.getCollectionParents(e,o).next((u=>re.forEach(u,(h=>{const f=(function(g,v){return new bl(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Sn.newInvalidDocument(m)))}));let u=Cu();return l.forEach(((h,f)=>{const m=o.get(h);m!==void 0&&Fu(m.mutation,f,ar.empty(),_t.now()),bf(n,f)&&(u=u.insert(h,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:yi(i.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:pL(i.bundledQuery),readTime:yi(i.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.overlays=new Ct(Ae.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jo();return re.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=jo(),o=n.length+1,l=new Ae(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ct(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=jo(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=jo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>u.set(f,m))),!(u.size()>=i)););return re.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new qM(n,r));let o=this.qr.get(n);o===void 0&&(o=Ye(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.Qr=new Jt(nn.$r),this.Ur=new Jt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ae(new mt([])),r=new nn(n,e),i=new nn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new mt([])),r=new nn(n,e),i=new nn(n,e+1);let o=Ye();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new nn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(nn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $M(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new nn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Zy:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),i=new nn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);o.push(u)})),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Qe);return n.forEach((i=>{const o=new nn(i,0),l=new nn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ae.isDocumentKey(o)||(o=o.child(""));const l=new nn(new Ae(o),0);let u=new Jt(Qe);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Yr)),!0)}),l),re.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(i=>{const o=new nn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nn(n,0),i=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Sn.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ns();const l=n.path,u=new Ae(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||rM(nM(m),r)<=0||(i.has(m.key)||bf(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){De(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new PL(this)}getSize(e){return re.resolve(this.size)}}class PL extends EL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.persistence=e,this.si=new ta((n=>nv(n)),rv),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new cv,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),re.waitFor(o).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new IL,this.referenceDelegate=e(this),this.Pi=new RL(this),this.indexManager=new mL,this.remoteDocumentCache=(function(i){return new CL(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fL(n),this.Ii=new SL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new AL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new DL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class DL extends sM{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Ri=new cv,this.Vi=null}static mi(e){return new hv(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const i=Ae.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kd{constructor(e,n){this.persistence=e,this.pi=new ta((r=>lM(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=_L(this,n)}static mi(e,n){return new Kd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?re.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,je.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wd(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ye(),i=Ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new dv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rD()?8:oM(In())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new NL;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?($a()<=Ge.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):($a()<=Ge.DEBUG&&ve("QueryEngine","Query:",qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($a()<=Ge.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):re.resolve())}ys(e,n){if(l1(n))return re.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Lg(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Ye(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,u);return this.Cs(n,f,l,h.readTime)?this.ys(e,Lg(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return l1(n)||i.isEqual(je.min())?re.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?re.resolve(null):($a()<=Ge.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(n)),this.vs(e,l,n,tM(i,Zu)).next((u=>u)))}))}Ds(e,n){let r=new Jt($S(e));return n.forEach(((i,o)=>{bf(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return $a()<=Ge.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LocalStore",ML=3e8;class LL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ct(Qe),this.xs=new ta((o=>nv(o)),rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function VL(t,e,n,r){return new LL(t,e,n,r)}async function dk(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let h=Ye();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function FL(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,f,m){const g=f.batch,v=g.keys();let _=re.resolve();return v.forEach((C=>{_=_.next((()=>m.getEntry(h,C))).next((k=>{const N=f.docVersions.get(C);rt(N!==null,48541),k.version.compareTo(N)<0&&(g.applyToRemoteDocument(k,f),k.isValidDocument()&&(k.setReadTime(f.commitVersion),m.addEntry(k)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(h,g)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Ye();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function fk(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function jL(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const v=i.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,g))));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(mn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(g,_),(function(k,N,L){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=ML?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(v,_,m)&&u.push(n.Pi.updateTargetData(o,_))}));let h=ns(),f=Ye();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(UL(o,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(je.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((g=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(m)}return re.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=i,o)))}function UL(t,e,n){let r=Ye(),i=Ye();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=ns();return n.forEach(((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ve(fv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function zL(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function BL(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,re.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new zs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function zg(t,e,n){const r=ze(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Tl(l))throw l;ve(fv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _1(t,e,n){const r=ze(t);let i=je.min(),o=Ye();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const g=ze(h),v=g.xs.get(m);return v!==void 0?re.resolve(g.Ms.get(v)):g.Pi.getTargetData(f,m)})(r,l,gi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:je.min(),n?o:Ye()))).next((u=>($L(r,IM(e),u),{documents:u,Qs:o})))))}function $L(t,e,n){let r=t.Os.get(e)||je.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class E1{constructor(){this.activeTargetIds=NM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qL{constructor(){this.Mo=new E1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="ConnectivityMonitor";class b1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(T1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(T1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function Bg(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",WL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=Bg(),u=this.zo(e,n.toUriEncodedString());ve(Rm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:f}=new URL(u),m=Si(f);return this.Jo(e,u,h,r,m).then((g=>(ve(Rm,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw ll(Rm,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=WL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class QL extends KL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=Bg();return new Promise(((u,h)=>{const f=new gS;f.setWithCredentials(!0),f.listenOnce(yS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case xd.NO_ERROR:const g=f.getResponseJson();ve(Tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case xd.TIMEOUT:ve(Tn,`RPC '${e}' ${l} timed out`),h(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const v=f.getStatus();if(ve(Tn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_?.error;if(C&&C.status&&C.message){const k=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(C.status);h(new ye(k,C.message))}else h(new ye(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ve(Tn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);ve(Tn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Bg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=wS(),u=xS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");ve(Tn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const g=l.createWebChannel(m,h);this.I_(g);let v=!1,_=!1;const C=new GL({Yo:N=>{_?ve(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(v||(ve(Tn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),ve(Tn,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},Zo:()=>g.close()}),k=(N,L,B)=>{N.listen(L,(M=>{try{B(M)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return k(g,Au.EventType.OPEN,(()=>{_||(ve(Tn,`RPC '${e}' stream ${i} transport opened.`),C.o_())})),k(g,Au.EventType.CLOSE,(()=>{_||(_=!0,ve(Tn,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(g))})),k(g,Au.EventType.ERROR,(N=>{_||(_=!0,ll(Tn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),C.a_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))})),k(g,Au.EventType.MESSAGE,(N=>{if(!_){const L=N.data[0];rt(!!L,16349);const B=L,M=B?.error||B[0]?.error;if(M){ve(Tn,`RPC '${e}' stream ${i} received error:`,M);const Y=M.status;let ee=(function(S){const D=$t[S];if(D!==void 0)return ek(D)})(Y),H=M.message;ee===void 0&&(ee=ne.INTERNAL,H="Unknown error status: "+Y+" with message "+M.message),_=!0,C.a_(new ye(ee,H)),g.close()}else ve(Tn,`RPC '${e}' stream ${i} received:`,L),C.u_(L)}})),k(u,vS.STAT_EVENT,(N=>{N.stat===Cg.PROXY?ve(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Cg.NOPROXY&&ve(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return new ZM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="PersistentStream";class mk{constructor(e,n,r,i,o,l,u,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(S1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(S1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YL extends mk{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nL(this.serializer,e),r=(function(o){if(!("targetChange"in o))return je.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?yi(l.readTime):je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ug(this.serializer),n.addTarget=(function(o,l){let u;const h=l.target;if(u=Og(h)?{documents:sL(o,h)}:{query:oL(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=rk(o,l.resumeToken);const f=Vg(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=Wd(o,l.snapshotVersion.toTimestamp());const f=Vg(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=lL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.q_(n)}}class XL extends mk{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iL(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rL(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{}class ZL extends JL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Fg(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ne.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Fg(n,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class tV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{na(this)&&(ve(Jo,"Restarting streams for network reachability change."),await(async function(h){const f=ze(h);f.Ea.add(4),await kc(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Cf(f)})(this))}))})),this.Ra=new eV(r,i)}}async function Cf(t){if(na(t))for(const e of t.da)await e(!0)}async function kc(t){for(const e of t.da)await e(!1)}function gk(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yv(n)?gv(n):Sl(n).O_()&&mv(n,e))}function pv(t,e){const n=ze(t),r=Sl(n);n.Ia.delete(e),r.O_()&&yk(n,e),n.Ia.size===0&&(r.O_()?r.L_():na(n)&&n.Ra.set("Unknown"))}function mv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sl(t).Y_(e)}function yk(t,e){t.Va.Ue(e),Sl(t).Z_(e)}function gv(t){t.Va=new QM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sl(t).start(),t.Ra.ua()}function yv(t){return na(t)&&!Sl(t).x_()&&t.Ia.size>0}function na(t){return ze(t).Ea.size===0}function vk(t){t.Va=void 0}async function nV(t){t.Ra.set("Online")}async function rV(t){t.Ia.forEach(((e,n)=>{mv(t,e)}))}async function iV(t,e){vk(t),yv(t)?(t.Ra.ha(e),gv(t)):t.Ra.set("Unknown")}async function sV(t,e,n){if(t.Ra.set("Online"),e instanceof nk&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){ve(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof Td?t.Va.Ze(e):e instanceof tk?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const r=await fk(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(mn.EMPTY_BYTE_STRING,m.snapshotVersion)),yk(o,h);const g=new zs(m.target,h,f,m.sequenceNumber);mv(o,g)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){ve(Jo,"Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!Tl(e))throw e;t.Ea.add(1),await kc(t),t.Ra.set("Offline"),n||(n=()=>fk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Jo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cf(t)}))}function xk(t,e){return e().catch((n=>Gd(t,n,e)))}async function Pf(t){const e=ze(t),n=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zy;for(;oV(e);)try{const i=await zL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,aV(e,i)}catch(i){await Gd(e,i)}wk(e)&&_k(e)}function oV(t){return na(t)&&t.Ta.length<10}function aV(t,e){t.Ta.push(e);const n=Zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wk(t){return na(t)&&!Zs(t).x_()&&t.Ta.length>0}function _k(t){Zs(t).start()}async function lV(t){Zs(t).ra()}async function uV(t){const e=Zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function cV(t,e,n){const r=t.Ta.shift(),i=av.from(r,e,n);await xk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Pf(t)}async function hV(t,e){e&&Zs(t).X_&&await(async function(r,i){if((function(l){return WM(l)&&l!==ne.ABORTED})(i.code)){const o=r.Ta.shift();Zs(r).B_(),await xk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Pf(r)}})(t,e),wk(t)&&_k(t)}async function k1(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),ve(Jo,"RemoteStore received new credentials");const r=na(n);n.Ea.add(3),await kc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cf(n)}async function dV(t,e){const n=ze(t);e?(n.Ea.delete(2),await Cf(n)):e||(n.Ea.add(2),await kc(n),n.Ra.set("Unknown"))}function Sl(t){return t.ma||(t.ma=(function(n,r,i){const o=ze(n);return o.sa(),new YL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:nV.bind(null,t),t_:rV.bind(null,t),r_:iV.bind(null,t),H_:sV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),yv(t)?gv(t):t.Ra.set("Unknown")):(await t.ma.stop(),vk(t))}))),t.ma}function Zs(t){return t.fa||(t.fa=(function(n,r,i){const o=ze(n);return o.sa(),new XL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lV.bind(null,t),r_:hV.bind(null,t),ta:uV.bind(null,t),na:cV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pf(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Jo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new vv(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xv(t,e){if(ts("AsyncQueue",`${e}: ${t}`),Tl(t))return new ye(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.ga=new Ct(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class fl{constructor(e,n,r,i,o,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new fl(e,n,nl.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pV{constructor(){this.queries=A1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ze(n),o=i.queries;i.queries=A1(),o.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function A1(){return new ta((t=>BS(t)),Tf)}async function mV(t,e){const n=ze(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new fV,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=xv(l,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&wv(n)}async function gV(t,e){const n=ze(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yV(t,e){const n=ze(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&wv(n)}function vV(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function wv(t){t.Ca.forEach((e=>{e.next()}))}var $g,C1;(C1=$g||($g={})).Ma="default",C1.Cache="cache";class xV{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.key=e}}class Tk{constructor(e){this.key=e}}class wV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=$S(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new I1,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const v=i.get(m),_=bf(this.query,g)?g:null,C=!!v&&this.mutatedKeys.has(v.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;v&&_?v.data.isEqual(_.data)?C!==k&&(r.track({type:3,doc:_}),N=!0):this.su(v,_)||(r.track({type:2,doc:_}),N=!0,(h&&this.eu(_,h)>0||f&&this.eu(_,f)<0)&&(u=!0)):!v&&_?(r.track({type:0,doc:_}),N=!0):v&&!_&&(r.track({type:1,doc:v}),N=!0,(h||f)&&(u=!0)),N&&(_?(l=l.add(_),o=k?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,g)=>(function(_,C){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:N})}};return k(_)-k(C)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new fl(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Tk(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Ek(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _v="SyncEngine";class _V{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EV{constructor(e){this.key=e,this.hu=!1}}class TV{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ta((u=>BS(u)),Tf),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Ae.comparator),this.Au=new Map,this.Ru=new cv,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bV(t,e,n=!0){const r=Ck(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await bk(r,e,n,!0),i}async function SV(t,e){const n=Ck(t);await bk(n,e,!0,!1)}async function bk(t,e,n,r){const i=await BL(t.localStore,gi(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await kV(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&gk(t.remoteStore,i),u}async function kV(t,e,n,r,i){t.pu=(g,v,_)=>(async function(k,N,L,B){let M=N.view.ru(L);M.Cs&&(M=await _1(k.localStore,N.query,!1).then((({documents:A})=>N.view.ru(A,M))));const Y=B&&B.targetChanges.get(N.targetId),ee=B&&B.targetMismatches.get(N.targetId)!=null,H=N.view.applyChanges(M,k.isPrimaryClient,Y,ee);return R1(k,N.targetId,H.au),H.snapshot})(t,g,v,_);const o=await _1(t.localStore,e,!0),l=new wV(e,o.Qs),u=l.ru(o.documents),h=Sc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,h);R1(t,n,f.au);const m=new _V(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function IV(t,e,n){const r=ze(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Tf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pv(r.remoteStore,i.targetId),qg(r,i.targetId)})).catch(El)):(qg(r,i.targetId),await zg(r.localStore,i.targetId,!0))}async function AV(t,e){const n=ze(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pv(n.remoteStore,r.targetId))}async function CV(t,e,n){const r=LV(t);try{const i=await(function(l,u){const h=ze(l),f=_t.now(),m=u.reduce(((_,C)=>_.add(C.key)),Ye());let g,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let C=ns(),k=Ye();return h.Ns.getEntries(_,m).next((N=>{C=N,C.forEach(((L,B)=>{B.isValidDocument()||(k=k.add(L))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,C))).next((N=>{g=N;const L=[];for(const B of u){const M=zM(B,g.get(B.key).overlayedDocument);M!=null&&L.push(new io(B.key,M,OS(M.value.mapValue),zr.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,L,u)})).next((N=>{v=N;const L=N.applyToLocalDocumentSet(g,k);return h.documentOverlayCache.saveOverlays(_,N.batchId,L)}))})).then((()=>({batchId:v.batchId,changes:HS(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Ct(Qe)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Ic(r,i.changes),await Pf(r.remoteStore)}catch(i){const o=xv(i,"Failed to persist write");n.reject(o)}}async function Sk(t,e){const n=ze(t);try{const r=await jL(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?rt(l.hu,14607):i.removedDocuments.size>0&&(rt(l.hu,42227),l.hu=!1))})),await Ic(n,r,e)}catch(r){await El(r)}}function P1(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const h=ze(l);h.onlineState=u;let f=!1;h.queries.forEach(((m,g)=>{for(const v of g.Sa)v.va(u)&&(f=!0)})),f&&wv(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PV(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new Ct(Ae.comparator);l=l.insert(o,Sn.newNoDocument(o,je.min()));const u=Ye().add(o),h=new If(je.min(),new Map,new Ct(Qe),l,u);await Sk(r,h),r.du=r.du.remove(o),r.Au.delete(e),Ev(r)}else await zg(r.localStore,e,!1).then((()=>qg(r,e,n))).catch(El)}async function RV(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await FL(n.localStore,e);Ik(n,r,null),kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,i)}catch(i){await El(i)}}async function DV(t,e,n){const r=ze(t);try{const i=await(function(l,u){const h=ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next((g=>(rt(g!==null,37113),m=g.keys(),h.mutationQueue.removeMutationBatch(f,g)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);Ik(r,e,n),kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ic(r,i)}catch(i){await El(i)}}function kk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ik(t,e,n){const r=ze(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Ak(t,r)}))}function Ak(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ev(t))}function R1(t,e,n){for(const r of n)r instanceof Ek?(t.Ru.addReference(r.key,e),NV(t,r)):r instanceof Tk?(ve(_v,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Ak(t,r.key)):De(19791,{wu:r})}function NV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(_v,"New document in limbo: "+n),t.Eu.add(r),Ev(t))}function Ev(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(mt.fromString(e)),r=t.fu.next();t.Au.set(r,new EV(n)),t.du=t.du.insert(n,r),gk(t.remoteStore,new zs(gi(iv(n.path)),r,"TargetPurposeLimboResolution",wf.ce))}}async function Ic(t,e,n){const r=ze(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=dv.As(h.targetId,f);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=ze(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>re.forEach(f,(v=>re.forEach(v.Es,(_=>m.persistence.referenceDelegate.addReference(g,v.targetId,_))).next((()=>re.forEach(v.ds,(_=>m.persistence.referenceDelegate.removeReference(g,v.targetId,_)))))))))}catch(g){if(!Tl(g))throw g;ve(fv,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const _=m.Ms.get(v),C=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(C);m.Ms=m.Ms.insert(v,k)}}})(r.localStore,o))}async function OV(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){ve(_v,"User change. New user:",e.toKey());const r=await dk(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((h=>{h.reject(new ye(ne.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ic(n,r.Ls)}}function MV(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let i=Ye();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function Ck(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PV.bind(null,e),e.Pu.H_=yV.bind(null,e.eventManager),e.Pu.yu=vV.bind(null,e.eventManager),e}function LV(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DV.bind(null,e),e}class Qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VL(this.persistence,new OL,e.initialUser,this.serializer)}Cu(e){return new hk(hv.mi,this.serializer)}Du(e){return new qL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qd.provider={build:()=>new Qd};class VV extends Qd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof Kd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new hk((r=>Kd.mi(r,n)),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OV.bind(null,this.syncEngine),await dV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pV})()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),r=(function(o){return new QL(o)})(e.databaseInfo);return(function(o,l,u,h){return new ZL(o,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,u){return new tV(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>P1(this.syncEngine,n,0)),(function(){return b1.v()?new b1:new HL})())}createSyncEngine(e,n){return(function(i,o,l,u,h,f,m){const g=new TV(i,o,l,u,h,f);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);ve(Jo,"RemoteStore shutting down."),r.Ea.add(5),await kc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="FirestoreClient";class jV{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=Jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ve(eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Nm(t,e){t.asyncQueue.verifyOperationInProgress(),ve(eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await dk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function D1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UV(t);ve(eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>k1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>k1(e.remoteStore,i))),t._onlineComponents=e}async function UV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(eo,"Using user provided OfflineComponentProvider");try{await Nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await Nm(t,new Qd)}}else ve(eo,"Using default OfflineComponentProvider"),await Nm(t,new VV(void 0));return t._offlineComponents}async function Pk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(eo,"Using user provided OnlineComponentProvider"),await D1(t,t._uninitializedComponentsProvider._online)):(ve(eo,"Using default OnlineComponentProvider"),await D1(t,new Hg))),t._onlineComponents}function zV(t){return Pk(t).then((e=>e.syncEngine))}async function N1(t){const e=await Pk(t),n=e.eventManager;return n.onListen=bV.bind(null,e.syncEngine),n.onUnlisten=IV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AV.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firestore.googleapis.com",M1=!0;class L1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dk,this.ssl=M1}else this.host=e.host,this.ssl=e.ssl??M1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ck;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yL)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new q4;switch(r.type){case"firstParty":return new G4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=O1.get(n);r&&(ve("ComponentProvider","Removing Datastore"),O1.delete(n),r.terminate())})(this),Promise.resolve()}}function BV(t,e,n,r={}){t=Ws(t,Rf);const i=Si(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(ff(`https://${u}`),pf("Firestore",!0)),o.host!==Dk&&o.host!==u&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:i,emulatorOptions:r};if(!Go(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=bn.MOCK_USER;else{f=Pb(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new bn(g)}t._authCredentials=new H4(new ES(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tc(n,Gt._jsonSchema))return new Gt(e,r||null,new Ae(mt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:Kt("string",Gt._jsonSchemaVersion),referencePath:Kt("string")};class Ks extends ra{constructor(e,n,r){super(e,n,iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Ae(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function Nk(t,e,...n){if(t=ut(t),TS("collection","path",e),t instanceof Rf){const r=mt.fromString(e,...n);return G_(r),new Ks(t,null,r)}{if(!(t instanceof Gt||t instanceof Ks))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return G_(r),new Ks(t.firestore,null,r)}}function ju(t,e,...n){if(t=ut(t),arguments.length===1&&(e=Jy.newId()),TS("doc","path",e),t instanceof Rf){const r=mt.fromString(e,...n);return K_(r),new Gt(t,null,new Ae(r))}{if(!(t instanceof Gt||t instanceof Ks))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return K_(r),new Gt(t.firestore,t instanceof Ks?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="AsyncQueue";class F1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pk(this,"async_queue_retry"),this._c=()=>{const r=Dm();r&&ve(V1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tl(e))throw e;ve(V1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",j1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=vv.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&De(47125,{Pc:j1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class pl extends Rf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new F1,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function $V(t,e){const n=typeof t=="object"?t:mf(),r=typeof t=="string"?t:Bd,i=vc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Fy("firestore");o&&BV(i,...o)}return i}function Ok(t){if(t._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qV(t),t._firestoreClient}function qV(t){const e=t._freezeSettings(),n=(function(i,o,l,u){return new hM(i,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Rk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tr(mn.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,Tr._jsonSchema))return Tr.fromBase64String(e.bytes)}}Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:Kt("string",Tr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Kt("string",vi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xi(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Kt("string",xi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^__.*__$/;class WV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class Mk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class Tv{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lk(this.Ac)&&HV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Af(e)}Cc(e,n,r,i=!1){return new Tv({Ac:e,methodName:n,Dc:r,path:pn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bv(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new KV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GV(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);kv("Data must be an object, but it was:",l,r);const u=Vk(r,l);let h,f;if(o.merge)h=new ar(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const v=Wg(e,g,n);if(!l.contains(v))throw new ye(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);jk(m,v)||m.push(v)}h=new ar(m),f=l.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,f=l.fieldTransforms;return new WV(new Hn(u),h,f)}class Of extends Nf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}class Sv extends Nf{_toFieldTransform(e){return new VM(e.path,new ic)}isEqual(e){return e instanceof Sv}}function QV(t,e,n,r){const i=t.Cc(1,e,n);kv("Data must be an object, but it was:",i,r);const o=[],l=Hn.empty();ro(r,((h,f)=>{const m=Iv(e,h,n);f=ut(f);const g=i.yc(m);if(f instanceof Of)o.push(m);else{const v=Ac(f,g);v!=null&&(o.push(m),l.set(m,v))}}));const u=new ar(o);return new Mk(l,u,i.fieldTransforms)}function YV(t,e,n,r,i,o){const l=t.Cc(1,e,n),u=[Wg(e,r,n)],h=[i];if(o.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Wg(e,o[v])),h.push(o[v+1]);const f=[],m=Hn.empty();for(let v=u.length-1;v>=0;--v)if(!jk(f,u[v])){const _=u[v];let C=h[v];C=ut(C);const k=l.yc(_);if(C instanceof Of)f.push(_);else{const N=Ac(C,k);N!=null&&(f.push(_),m.set(_,N))}}const g=new ar(f);return new Mk(m,g,l.fieldTransforms)}function XV(t,e,n,r=!1){return Ac(n,t.Cc(r?4:3,e))}function Ac(t,e){if(Fk(t=ut(t)))return kv("Unsupported field value:",e,t),Vk(t,e);if(t instanceof Nf)return(function(r,i){if(!Lk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let h=Ac(u,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_t.fromDate(r);return{timestampValue:Wd(i.serializer,o)}}if(r instanceof _t){const o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wd(i.serializer,o)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tr)return{bytesValue:rk(i.serializer,r._byteString)};if(r instanceof Gt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xi)return(function(l,u){return{mapValue:{fields:{[DS]:{stringValue:NS},[$d]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return sv(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${xf(r)}`)})(t,e)}function Vk(t,e){const n={};return kS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(t,((r,i)=>{const o=Ac(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Fk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof vi||t instanceof Tr||t instanceof Gt||t instanceof Nf||t instanceof xi)}function kv(t,e,n){if(!Fk(n)||!bS(n)){const r=xf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Wg(t,e,n){if((e=ut(e))instanceof Df)return e._internalPath;if(typeof e=="string")return Iv(t,e);throw Yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const JV=new RegExp("[~\\*/\\[\\]]");function Iv(t,e,n){if(e.search(JV)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Df(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yd(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ye(ne.INVALID_ARGUMENT,u+t+h)}function jk(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZV extends Uk{data(){return super.data()}}function Mf(t,e){return typeof e=="string"?Iv(t,e):e instanceof Df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class zk extends Av{}function t3(t,e,...n){let r=[];e instanceof Av&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof Cv)).length,u=o.filter((h=>h instanceof Lf)).length;if(l>1||l>0&&u>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Lf extends zk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lf(e,n,r)}_apply(e){const n=this._parse(e);return Bk(e._query,n),new ra(e.firestore,e.converter,Mg(e._query,n))}_parse(e){const n=bv(e.firestore);return(function(o,l,u,h,f,m,g){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){B1(g,m);const C=[];for(const k of g)C.push(z1(h,o,k));v={arrayValue:{values:C}}}else v=z1(h,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||B1(g,m),v=XV(u,l,g,m==="in"||m==="not-in");return Wt.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function n3(t,e,n){const r=e,i=Mf("where",t);return Lf._create(i,r,n)}class Cv extends Av{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const u=o.getFlattenedFilters();for(const h of u)Bk(l,h),l=Mg(l,h)})(e._query,n),new ra(e.firestore,e.converter,Mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends zk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pv(e,n)}_apply(e){const n=(function(i,o,l){if(i.startAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(o,l)})(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,(function(i,o){const l=i.explicitOrderBy.concat([o]);return new bl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function r3(t,e="asc"){const n=e,r=Mf("orderBy",t);return Pv._create(r,n)}function z1(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(e)&&n.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!Ae.isDocumentKey(r))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n1(t,new Ae(r))}if(n instanceof Gt)return n1(t,n._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function B1(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bk(t,e){const n=(function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class i3{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ro(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[$d].arrayValue?.values?.map((r=>Ut(r.doubleValue)));return new xi(n)}convertGeoPoint(e){return new vi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);rt(uk(r),9688,{name:e});const i=new tc(r.get(1),r.get(3)),o=new Ae(r.popFirst(5));return i.isEqual(n)||ts(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $o extends Uk{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:Kt("string",$o._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class bd extends $o{data(e={}){return super.data(e)}}class rl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ru(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new bd(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const h=new bd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ru(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new bd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ru(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:o3(u.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:Kt("string",rl._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class $k extends i3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Om(t,e,n,...r){t=Ws(t,Gt);const i=Ws(t.firestore,pl),o=bv(i);let l;return l=typeof(e=ut(e))=="string"||e instanceof Df?YV(o,"updateDoc",t._key,e,n,r):QV(o,"updateDoc",t._key,e),Rv(i,[l.toMutation(t._key,zr.exists(!0))])}function a3(t){return Rv(Ws(t.firestore,pl),[new ov(t._key,zr.none())])}function l3(t,e){const n=Ws(t.firestore,pl),r=ju(t),i=s3(t.converter,e);return Rv(n,[GV(bv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then((()=>r))}function u3(t,...e){t=ut(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||U1(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(U1(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,u;if(t instanceof Gt)l=Ws(t.firestore,pl),u=iv(t._key.path),o={next:h=>{e[r]&&e[r](c3(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Ws(t,ra);l=Ws(h.firestore,pl),u=h._query;const f=new $k(l);o={next:m=>{e[r]&&e[r](new rl(l,f,h,m))},error:e[r+1],complete:e[r+2]},e3(t._query)}return(function(f,m,g,v){const _=new FV(v),C=new xV(m,_,g);return f.asyncQueue.enqueueAndForget((async()=>mV(await N1(f),C))),()=>{_.Nu(),f.asyncQueue.enqueueAndForget((async()=>gV(await N1(f),C)))}})(Ok(l),u,i,o)}function Rv(t,e){return(function(r,i){const o=new Bo;return r.asyncQueue.enqueueAndForget((async()=>CV(await zV(r),i,o))),o.promise})(Ok(t),e)}function c3(t,e,n){const r=n.docs.get(e._key),i=new $k(t);return new $o(t,i,e._key,r,new Ru(n.hasPendingWrites,n.fromCache),e.converter)}function $1(){return new Sv("serverTimestamp")}(function(e,n=!0){(function(i){_l=i})(ea),Gs(new Ji("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new pl(new W4(r.getProvider("auth-internal")),new Q4(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(f.options.projectId,m)})(l,i),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),br($_,q_,e),br($_,q_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="type.googleapis.com/google.protobuf.Int64Value",d3="type.googleapis.com/google.protobuf.UInt64Value";function qk(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Xd(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Xd(e));if(typeof t=="function"||typeof t=="object")return qk(t,e=>Xd(e));throw new Error("Data cannot be encoded in JSON: "+t)}function ml(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case h3:case d3:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>ml(e)):typeof t=="function"||typeof t=="object"?qk(t,e=>ml(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wn extends $r{constructor(e,n,r){super(`${Dv}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Wn.prototype)}}function f3(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Jd(t,e){let n=f3(t),r=n,i;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!q1[l])return new Wn("internal","internal");n=q1[l],r=l}const u=o.message;typeof u=="string"&&(r=u),i=o.details,i!==void 0&&(i=ml(i))}}catch{}return n==="ok"?null:new Wn(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,On(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="us-central1",m3=/^data: (.*?)(?:\n|$)/;function g3(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Wn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class y3{constructor(e,n,r,i,o=Kg,l=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new p3(e,n,r,i),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(o);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=Kg}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function v3(t,e,n){const r=Si(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(ff(t.emulatorOrigin+"/backends"),pf("Functions",!0))}function x3(t,e,n){const r=i=>_3(t,e,i,{});return r.stream=(i,o)=>T3(t,e,i,o),r}function Hk(t){return t.emulatorOrigin&&Si(t.emulatorOrigin)?"include":void 0}async function w3(t,e,n,r,i){n["Content-Type"]="application/json";let o;try{o=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:Hk(i)})}catch{return{status:0,json:null}}let l=null;try{l=await o.json()}catch{}return{status:o.status,json:l}}async function Wk(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function _3(t,e,n,r){const i=t._url(e);return E3(t,i,n,r)}async function E3(t,e,n,r){n=Xd(n);const i={data:n},o=await Wk(t,r),l=r.timeout||7e4,u=g3(l),h=await Promise.race([w3(e,i,o,t.fetchImpl,t),u.promise,t.cancelAllRequests]);if(u.cancel(),!h)throw new Wn("cancelled","Firebase Functions instance was deleted.");const f=Jd(h.status,h.json);if(f)throw f;if(!h.json)throw new Wn("internal","Response is not valid JSON object.");let m=h.json.data;if(typeof m>"u"&&(m=h.json.result),typeof m>"u")throw new Wn("internal","Response is missing data field.");return{data:ml(m)}}function T3(t,e,n,r){const i=t._url(e);return b3(t,i,n,r||{})}async function b3(t,e,n,r){n=Xd(n);const i={data:n},o=await Wk(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let l;try{l=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:o,signal:r?.signal,credentials:Hk(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const C=new Wn("cancelled","Request was cancelled.");return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}const _=Jd(0,null);return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let u,h;const f=new Promise((v,_)=>{u=v,h=_});r?.signal?.addEventListener("abort",()=>{const v=new Wn("cancelled","Request was cancelled.");h(v)});const m=l.body.getReader(),g=S3(m,u,h,r?.signal);return{stream:{[Symbol.asyncIterator](){const v=g.getReader();return{async next(){const{value:_,done:C}=await v.read();return{value:_,done:C}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function S3(t,e,n,r){const i=(l,u)=>{const h=l.match(m3);if(!h)return;const f=h[1];try{const m=JSON.parse(f);if("result"in m){e(ml(m.result));return}if("message"in m){u.enqueue(ml(m.message));return}if("error"in m){const g=Jd(0,m);u.error(g),n(g);return}}catch(m){if(m instanceof Wn){u.error(m),n(m);return}}},o=new TextDecoder;return new ReadableStream({start(l){let u="";return h();async function h(){if(r?.aborted){const f=new Wn("cancelled","Request was cancelled");return l.error(f),n(f),Promise.resolve()}try{const{value:f,done:m}=await t.read();if(m){u.trim()&&i(u.trim(),l),l.close();return}if(r?.aborted){const v=new Wn("cancelled","Request was cancelled");l.error(v),n(v),await t.cancel();return}u+=o.decode(f,{stream:!0});const g=u.split(`
`);u=g.pop()||"";for(const v of g)v.trim()&&i(v.trim(),l);return h()}catch(f){const m=f instanceof Wn?f:Jd(0,null);l.error(m),n(m)}}},cancel(){return t.cancel()}})}const H1="@firebase/functions",W1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="auth-internal",I3="app-check-internal",A3="messaging-internal";function C3(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(k3),l=n.getProvider(A3),u=n.getProvider(I3);return new y3(i,o,l,u,r)};Gs(new Ji(Dv,e,"PUBLIC").setMultipleInstances(!0)),br(H1,W1,t),br(H1,W1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t=mf(),e=Kg){const r=vc(ut(t),Dv).getImmediate({identifier:e}),i=Fy("functions");return i&&R3(r,...i),r}function R3(t,e,n){v3(ut(t),e,n)}function Nv(t,e,n){return x3(ut(t),e)}C3();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="firebasestorage.googleapis.com",Gk="storageBucket",D3=120*1e3,N3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends $r{constructor(e,n,r=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function Mm(t){return"storage/"+t}function Ov(){const t="An unknown error occurred, please check the error payload for server response.";return new Lt(Mt.UNKNOWN,t)}function O3(t){return new Lt(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function M3(t){return new Lt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function L3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(Mt.UNAUTHENTICATED,t)}function V3(){return new Lt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function F3(t){return new Lt(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function j3(){return new Lt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U3(){return new Lt(Mt.CANCELED,"User canceled the upload/download.")}function z3(t){return new Lt(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function B3(t){return new Lt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $3(){return new Lt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Gk+"' property when initializing the app?")}function q3(){return new Lt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function H3(){return new Lt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function W3(t){return new Lt(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gg(t){return new Lt(Mt.INVALID_ARGUMENT,t)}function Qk(){return new Lt(Mt.APP_DELETED,"The Firebase app was deleted.")}function K3(t){return new Lt(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uu(t,e){return new Lt(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wu(t){throw new Lt(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=lr.makeFromUrl(e,n)}catch{return new lr(e,"")}if(r.path==="")return r;throw B3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${m}/b/${i}/o${v}`,"i"),C={bucket:1,path:3},k=n===Kk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",L=new RegExp(`^https?://${k}/${i}/${N}`,"i"),M=[{regex:u,indices:h,postModify:o},{regex:_,indices:C,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let Y=0;Y<M.length;Y++){const ee=M[Y],H=ee.regex.exec(e);if(H){const A=H[ee.indices.bucket];let S=H[ee.indices.path];S||(S=""),r=new lr(A,S),ee.postModify(r);break}}if(r==null)throw z3(e);return r}}class G3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t,e,n){let r=1,i=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...N){f||(f=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(_,h())},N)}function v(){o&&clearTimeout(o)}function _(N,...L){if(f){v();return}if(N){v(),m.call(null,N,...L);return}if(h()||l){v(),m.call(null,N,...L);return}r<64&&(r*=2);let M;u===1?(u=2,M=0):M=(r+Math.random())*1e3,g(M)}let C=!1;function k(N){C||(C=!0,v(),!f&&(i!==null?(N||(u=2),clearTimeout(i),g(0)):N||(u=1)))}return g(0),o=setTimeout(()=>{l=!0,k(!0)},n),k}function Y3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return t!==void 0}function J3(t){return typeof t=="object"&&!Array.isArray(t)}function Mv(t){return typeof t=="string"||t instanceof String}function K1(t){return Lv()&&t instanceof Blob}function Lv(){return typeof Blob<"u"}function G1(t,e,n,r){if(r<e)throw Gg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Yk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var qo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qo||(qo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r,i,o,l,u,h,f,m,g,v=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new nd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===qo.NO_ERROR,h=o.getStatus();if(!u||Z3(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===qo.ABORT;r(!1,new nd(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new nd(f,o))})},n=(r,i)=>{const o=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());X3(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=Ov();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(i.canceled){const h=this.appDelete_?Qk():U3();l(h)}else{const h=j3();l(h)}};this.canceled_?n(!1,new nd(!1,null,!0)):this.backoffId_=Q3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function t5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function n5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function i5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function s5(t,e,n,r,i,o,l=!0,u=!1){const h=Yk(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return r5(m,e),t5(m,n),n5(m,o),i5(m,r),new e5(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function a5(...t){const e=o5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Lv())return new Blob(t);throw new Lt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function l5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){if(typeof atob>"u")throw W3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lm{constructor(e,n){this.data=e,this.contentType=n||null}}function c5(t,e){switch(t){case fi.RAW:return new Lm(Xk(e));case fi.BASE64:case fi.BASE64URL:return new Lm(Jk(t,e));case fi.DATA_URL:return new Lm(d5(e),f5(e))}throw Ov()}function Xk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function h5(t){let e;try{e=decodeURIComponent(t)}catch{throw Uu(fi.DATA_URL,"Malformed data URL.")}return Xk(e)}function Jk(t,e){switch(t){case fi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Uu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Uu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=u5(e)}catch(i){throw i.message.includes("polyfill")?i:Uu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Zk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Uu(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=p5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function d5(t){const e=new Zk(t);return e.base64?Jk(fi.BASE64,e.rest):h5(e.rest)}function f5(t){return new Zk(t).contentType}function p5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){let r=0,i="";K1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(K1(this.data_)){const r=this.data_,i=l5(r,e,n);return i===null?null:new js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new js(r,!0)}}static getBlob(...e){if(Lv()){const n=e.map(r=>r instanceof js?r.data_:r);return new js(a5.apply(null,n))}else{const n=e.map(l=>Mv(l)?c5(fi.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)i[o++]=l[u]}),new js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){let e;try{e=JSON.parse(t)}catch{return null}return J3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function g5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t,e){return e}class Nn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||y5}}let rd=null;function v5(t){return!Mv(t)||t.length<2?t:tI(t)}function nI(){if(rd)return rd;const t=[];t.push(new Nn("bucket")),t.push(new Nn("generation")),t.push(new Nn("metageneration")),t.push(new Nn("name","fullPath",!0));function e(o,l){return v5(l)}const n=new Nn("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const i=new Nn("size");return i.xform=r,t.push(i),t.push(new Nn("timeCreated")),t.push(new Nn("updated")),t.push(new Nn("md5Hash",null,!0)),t.push(new Nn("cacheControl",null,!0)),t.push(new Nn("contentDisposition",null,!0)),t.push(new Nn("contentEncoding",null,!0)),t.push(new Nn("contentLanguage",null,!0)),t.push(new Nn("contentType",null,!0)),t.push(new Nn("metadata","customMetadata",!0)),rd=t,rd}function x5(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new lr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function w5(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return x5(r,t),r}function rI(t,e,n){const r=eI(e);return r===null?null:w5(t,r,n)}function _5(t,e,n,r){const i=eI(e);if(i===null||!Mv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,g=t.fullPath,v="/b/"+l(m)+"/o/"+l(g),_=Vf(v,n,r),C=Yk({alt:"media",token:f});return _+C})[0]}function E5(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Vv{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){if(!t)throw Ov()}function T5(t,e){function n(r,i){const o=rI(t,i,e);return iI(o!==null),o}return n}function b5(t,e){function n(r,i){const o=rI(t,i,e);return iI(o!==null),_5(o,i,t.host,t._protocol)}return n}function sI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=V3():i=L3():n.getStatus()===402?i=M3(t.bucket):n.getStatus()===403?i=F3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function oI(t){const e=sI(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=O3(t.path)),o.serverResponse=i.serverResponse,o}return n}function S5(t,e,n){const r=e.fullServerUrl(),i=Vf(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new Vv(i,o,b5(t,n),l);return u.errorHandler=oI(e),u}function k5(t,e){const n=e.fullServerUrl(),r=Vf(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function l(h,f){}const u=new Vv(r,i,l,o);return u.successCodes=[200,204],u.errorHandler=oI(e),u}function I5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function A5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=I5(null,e)),r}function C5(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let M="";for(let Y=0;Y<2;Y++)M=M+Math.random().toString().slice(2);return M}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=A5(e,r,i),m=E5(f,n),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",_=js.getBlob(g,r,v);if(_===null)throw q3();const C={name:f.fullPath},k=Vf(o,t.host,t._protocol),N="POST",L=t.maxUploadRetryTime,B=new Vv(k,N,T5(t,n),L);return B.urlParams=C,B.headers=l,B.body=_.uploadData(),B.errorHandler=sI(e),B}class P5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw wu("cannot .send() more than once");if(Si(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class R5 extends P5{initXhr(){this.xhr_.responseType="text"}}function Fv(){return new R5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this._service=e,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zo(e,n)}get root(){const e=new lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tI(this._location.path)}get storage(){return this._service}get parent(){const e=m5(this._location.path);if(e===null)return null;const n=new lr(this._location.bucket,e);return new Zo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K3(e)}}function D5(t,e,n){t._throwIfRoot("uploadBytes");const r=C5(t.storage,t._location,nI(),new js(e,!0),n);return t.storage.makeRequestWithTokens(r,Fv).then(i=>({metadata:i,ref:t}))}function N5(t){t._throwIfRoot("getDownloadURL");const e=S5(t.storage,t._location,nI());return t.storage.makeRequestWithTokens(e,Fv).then(n=>{if(n===null)throw H3();return n})}function O5(t){t._throwIfRoot("deleteObject");const e=k5(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Fv)}function M5(t,e){const n=g5(t._location.path,e),r=new lr(t._location.bucket,n);return new Zo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){return/^[A-Za-z]+:\/\//.test(t)}function V5(t,e){return new Zo(t,e)}function aI(t,e){if(t instanceof jv){const n=t;if(n._bucket==null)throw $3();const r=new Zo(n,n._bucket);return e!=null?aI(r,e):r}else return e!==void 0?M5(t,e):t}function F5(t,e){if(e&&L5(e)){if(t instanceof jv)return V5(t,e);throw Gg("To use ref(service, url), the first argument must be a Storage instance.")}else return aI(t,e)}function Q1(t,e){const n=e?.[Gk];return n==null?null:lr.makeFromBucketSpec(n,t)}function j5(t,e,n,r={}){t.host=`${e}:${n}`;const i=Si(e);i&&(ff(`https://${t.host}/b`),pf("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Pb(o,t.app.options.projectId))}class jv{constructor(e,n,r,i,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=Kk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=D3,this._maxUploadRetryTime=N3,this._requests=new Set,i!=null?this._bucket=lr.makeFromBucketSpec(i,this._host):this._bucket=Q1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,e):this._bucket=Q1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new G3(Qk());{const l=s5(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Y1="@firebase/storage",X1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="storage";function U5(t,e,n){return t=ut(t),D5(t,e,n)}function z5(t){return t=ut(t),N5(t)}function B5(t){return t=ut(t),O5(t)}function uI(t,e){return t=ut(t),F5(t,e)}function $5(t=mf(),e){t=ut(t);const r=vc(t,lI).getImmediate({identifier:e}),i=Fy("storage");return i&&q5(r,...i),r}function q5(t,e,n,r={}){j5(t,e,n,r)}function H5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jv(n,r,i,e,ea)}function W5(){Gs(new Ji(lI,H5,"PUBLIC").setMultipleInstances(!0)),br(Y1,X1,""),br(Y1,X1,"esm2020")}W5();const K5={apiKey:"AIzaSyDhcDjDvKd6Iz2hGcTg8eN0v0dveF_DwOg",authDomain:"ai-chatbot-c0bed.firebaseapp.com",projectId:"ai-chatbot-c0bed",storageBucket:"ai-chatbot-c0bed.firebasestorage.app",messagingSenderId:"919555208445",appId:"1:919555208445:web:87f842a88ed8adb7703a94"},Ff=Nb(K5),Bs=U4(Ff),Ka=$V(Ff),Uv=P3(Ff,"us-central1"),cI=$5(Ff),hI=G.createContext({user:null,loading:!0,logout:async()=>{}}),dI=()=>G.useContext(hI),G5=({children:t})=>{const[e,n]=G.useState(null),[r,i]=G.useState(!0);G.useEffect(()=>AO(Bs,u=>{n(u),i(!1)}),[]);const o=async()=>{try{await CO(Bs)}catch(l){console.error("Error al cerrar sesión:",l)}};return b.jsx(hI.Provider,{value:{user:e,loading:r,logout:o},children:t})},Q5=()=>{const{user:t,logout:e}=dI();return b.jsxs("header",{children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"50px",position:"relative"},children:[b.jsx("div",{className:"hidden lg:flex items-center",children:b.jsxs("div",{className:"header-status-container",children:[b.jsxs("div",{className:"status-badge status-ready",children:[b.jsx("div",{className:"pulse-dot"}),b.jsx("span",{children:"Sistema Activo"})]}),b.jsxs("div",{className:"status-badge status-processing",children:[b.jsx(jR,{style:{width:"16px",height:"16px"}}),b.jsx("span",{children:"Powered by AI"}),b.jsx(pd,{style:{width:"16px",height:"16px",animation:"statusPulse 1.5s infinite"}})]})]})}),b.jsxs("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:"16px"},children:[b.jsx("div",{className:"logo-circle",style:{width:"36px",height:"36px"},children:b.jsx(q2,{style:{width:"20px",height:"20px",color:"white"}})}),b.jsxs("div",{style:{textAlign:"left"},children:[b.jsx("h1",{className:"main-title",style:{fontSize:"18px",marginBottom:"2px"},children:"AI Document Chat"}),b.jsx("p",{className:"subtitle",style:{fontSize:"12px"},children:"Chatea con tus documentos usando IA avanzada"})]})]}),b.jsxs("div",{className:"flex items-center space-x-3",style:{marginLeft:"auto",position:"relative",zIndex:10},children:[t&&b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 16px",background:"rgba(255, 255, 255, 0.9)",borderRadius:"12px",border:"1px solid rgba(226, 232, 240, 0.5)",marginRight:"8px"},children:[b.jsx(Vy,{style:{width:"16px",height:"16px",color:"#667eea"}}),b.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#4b5563"},children:t.displayName||t.email?.split("@")[0]})]}),t&&b.jsx("button",{onClick:e,className:"color-button",title:"Cerrar sesión",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#dc2626"},children:b.jsx(mR,{style:{width:"16px",height:"16px"}})})]})]}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-blue-300 to-transparent"})]})};var Vm={exports:{}},Fm,J1;function Y5(){if(J1)return Fm;J1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fm=t,Fm}var jm,Z1;function X5(){if(Z1)return jm;Z1=1;var t=Y5();function e(){}function n(){}return n.resetWarningCache=e,jm=function(){function r(l,u,h,f,m,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},jm}var eE;function J5(){return eE||(eE=1,Vm.exports=X5()()),Vm.exports}var Z5=J5();const dt=xl(Z5);function ia(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(g){l(g)}}function h(m){try{f(r.throw(m))}catch(g){l(g)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(t,e||[])).next())})}const e6=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function gl(t,e,n){const r=t6(t),{webkitRelativePath:i}=t,o=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&tE(r,"path",o),tE(r,"relativePath",o),r}function t6(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=e6.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function tE(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const n6=[".DS_Store","Thumbs.db"];function r6(t){return ia(this,void 0,void 0,function*(){return Zd(t)&&i6(t.dataTransfer)?l6(t.dataTransfer,t.type):s6(t)?o6(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?a6(t):[]})}function i6(t){return Zd(t)}function s6(t){return Zd(t)&&Zd(t.target)}function Zd(t){return typeof t=="object"&&t!==null}function o6(t){return Qg(t.target.files).map(e=>gl(e))}function a6(t){return ia(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>gl(n))})}function l6(t,e){return ia(this,void 0,void 0,function*(){if(t.items){const n=Qg(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(u6));return nE(fI(r))}return nE(Qg(t.files).map(n=>gl(n)))})}function nE(t){return t.filter(e=>n6.indexOf(e.name)===-1)}function Qg(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function u6(t){if(typeof t.webkitGetAsEntry!="function")return rE(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?pI(e):rE(t,e)}function fI(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?fI(n):[n]],[])}function rE(t,e){return ia(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const l=yield o.getFile();return l.handle=o,gl(l)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return gl(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function c6(t){return ia(this,void 0,void 0,function*(){return t.isDirectory?pI(t):h6(t)})}function pI(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function o(){e.readEntries(l=>ia(this,void 0,void 0,function*(){if(l.length){const u=Promise.all(l.map(c6));i.push(u),o()}else try{const u=yield Promise.all(i);n(u)}catch(u){r(u)}}),l=>{r(l)})}o()})}function h6(t){return ia(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=gl(r,t.fullPath);e(i)},r=>{n(r)})})})}var id={},iE;function d6(){return iE||(iE=1,id.__esModule=!0,id.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?o===u.replace(/\/.*$/,""):i===u})}return!0}),id}var f6=d6();const Um=xl(f6);function sE(t){return g6(t)||m6(t)||gI(t)||p6()}function p6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g6(t){if(Array.isArray(t))return Yg(t)}function oE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(n),!0).forEach(function(r){mI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ac(t,e){return x6(t)||v6(t,e)||gI(t,e)||y6()}function y6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gI(t,e){if(t){if(typeof t=="string")return Yg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yg(t,e)}}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,u;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(h){o=!0,u=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function x6(t){if(Array.isArray(t))return t}var w6=typeof Um=="function"?Um:Um.default,_6="file-invalid-type",E6="file-too-large",T6="file-too-small",b6="too-many-files",S6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:_6,message:"File type must be ".concat(r)}},lE=function(e){return{code:E6,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},uE=function(e){return{code:T6,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},k6={code:b6,message:"Too many files"};function yI(t,e){var n=t.type==="application/x-moz-file"||w6(t,e);return[n,n?null:S6(e)]}function vI(t,e,n){if(Vo(t.size))if(Vo(e)&&Vo(n)){if(t.size>n)return[!1,lE(n)];if(t.size<e)return[!1,uE(e)]}else{if(Vo(e)&&t.size<e)return[!1,uE(e)];if(Vo(n)&&t.size>n)return[!1,lE(n)]}return[!0,null]}function Vo(t){return t!=null}function I6(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,l=t.maxFiles,u=t.validator;return!o&&e.length>1||o&&l>=1&&e.length>l?!1:e.every(function(h){var f=yI(h,n),m=ac(f,1),g=m[0],v=vI(h,r,i),_=ac(v,1),C=_[0],k=u?u(h):null;return g&&C&&!k})}function ef(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function sd(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function cE(t){t.preventDefault()}function A6(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function C6(t){return t.indexOf("Edge/")!==-1}function P6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return A6(t)||C6(t)}function ui(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e.some(function(u){return!ef(r)&&u&&u.apply(void 0,[r].concat(o)),ef(r)})}}function R6(){return"showOpenFilePicker"in window}function D6(t){if(Vo(t)){var e=Object.entries(t).filter(function(n){var r=ac(n,2),i=r[0],o=r[1],l=!0;return xI(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(wI))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var i=ac(r,2),o=i[0],l=i[1];return aE(aE({},n),{},mI({},o,l))},{});return[{description:"Files",accept:e}]}return t}function N6(t){if(Vo(t))return Object.entries(t).reduce(function(e,n){var r=ac(n,2),i=r[0],o=r[1];return[].concat(sE(e),[i],sE(o))},[]).filter(function(e){return xI(e)||wI(e)}).join(",")}function O6(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function M6(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function xI(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function wI(t){return/^.*\.[\w]+$/.test(t)}var L6=["children"],V6=["open"],F6=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],j6=["refKey","onChange","onClick"];function U6(t){return $6(t)||B6(t)||_I(t)||z6()}function z6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $6(t){if(Array.isArray(t))return Xg(t)}function zm(t,e){return W6(t)||H6(t,e)||_I(t,e)||q6()}function q6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _I(t,e){if(t){if(typeof t=="string")return Xg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xg(t,e)}}function Xg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,u;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(h){o=!0,u=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function W6(t){if(Array.isArray(t))return t}function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tf(t,e){if(t==null)return{};var n=K6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zv=G.forwardRef(function(t,e){var n=t.children,r=tf(t,L6),i=TI(r),o=i.open,l=tf(i,V6);return G.useImperativeHandle(e,function(){return{open:o}},[o]),Fr.createElement(G.Fragment,null,n(It(It({},l),{},{open:o})))});zv.displayName="Dropzone";var EI={disabled:!1,getFilesFromEvent:r6,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};zv.defaultProps=EI;zv.propTypes={children:dt.func,accept:dt.objectOf(dt.arrayOf(dt.string)),multiple:dt.bool,preventDropOnDocument:dt.bool,noClick:dt.bool,noKeyboard:dt.bool,noDrag:dt.bool,noDragEventsBubbling:dt.bool,minSize:dt.number,maxSize:dt.number,maxFiles:dt.number,disabled:dt.bool,getFilesFromEvent:dt.func,onFileDialogCancel:dt.func,onFileDialogOpen:dt.func,useFsAccessApi:dt.bool,autoFocus:dt.bool,onDragEnter:dt.func,onDragLeave:dt.func,onDragOver:dt.func,onDrop:dt.func,onDropAccepted:dt.func,onDropRejected:dt.func,onError:dt.func,validator:dt.func};var Zg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function TI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=It(It({},EI),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,l=e.minSize,u=e.multiple,h=e.maxFiles,f=e.onDragEnter,m=e.onDragLeave,g=e.onDragOver,v=e.onDrop,_=e.onDropAccepted,C=e.onDropRejected,k=e.onFileDialogCancel,N=e.onFileDialogOpen,L=e.useFsAccessApi,B=e.autoFocus,M=e.preventDropOnDocument,Y=e.noClick,ee=e.noKeyboard,H=e.noDrag,A=e.noDragEventsBubbling,S=e.onError,D=e.validator,j=G.useMemo(function(){return N6(n)},[n]),O=G.useMemo(function(){return D6(n)},[n]),U=G.useMemo(function(){return typeof N=="function"?N:dE},[N]),P=G.useMemo(function(){return typeof k=="function"?k:dE},[k]),oe=G.useRef(null),pe=G.useRef(null),He=G.useReducer(G6,Zg),Ee=zm(He,2),ie=Ee[0],de=Ee[1],R=ie.isFocused,q=ie.isFileDialogActive,te=G.useRef(typeof window<"u"&&window.isSecureContext&&L&&R6()),F=function(){!te.current&&q&&setTimeout(function(){if(pe.current){var Ie=pe.current.files;Ie.length||(de({type:"closeDialog"}),P())}},300)};G.useEffect(function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}},[pe,q,P,te]);var Se=G.useRef([]),Oe=function(Ie){oe.current&&oe.current.contains(Ie.target)||(Ie.preventDefault(),Se.current=[])};G.useEffect(function(){return M&&(document.addEventListener("dragover",cE,!1),document.addEventListener("drop",Oe,!1)),function(){M&&(document.removeEventListener("dragover",cE),document.removeEventListener("drop",Oe))}},[oe,M]),G.useEffect(function(){return!r&&B&&oe.current&&oe.current.focus(),function(){}},[oe,B,r]);var Te=G.useCallback(function(me){S?S(me):console.error(me)},[S]),qe=G.useCallback(function(me){me.preventDefault(),me.persist(),st(me),Se.current=[].concat(U6(Se.current),[me.target]),sd(me)&&Promise.resolve(i(me)).then(function(Ie){if(!(ef(me)&&!A)){var J=Ie.length,se=J>0&&I6({files:Ie,accept:j,minSize:l,maxSize:o,multiple:u,maxFiles:h,validator:D}),xe=J>0&&!se;de({isDragAccept:se,isDragReject:xe,isDragActive:!0,type:"setDraggedFiles"}),f&&f(me)}}).catch(function(Ie){return Te(Ie)})},[i,f,Te,A,j,l,o,u,h,D]),Fe=G.useCallback(function(me){me.preventDefault(),me.persist(),st(me);var Ie=sd(me);if(Ie&&me.dataTransfer)try{me.dataTransfer.dropEffect="copy"}catch{}return Ie&&g&&g(me),!1},[g,A]),Ke=G.useCallback(function(me){me.preventDefault(),me.persist(),st(me);var Ie=Se.current.filter(function(se){return oe.current&&oe.current.contains(se)}),J=Ie.indexOf(me.target);J!==-1&&Ie.splice(J,1),Se.current=Ie,!(Ie.length>0)&&(de({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),sd(me)&&m&&m(me))},[oe,m,A]),ct=G.useCallback(function(me,Ie){var J=[],se=[];me.forEach(function(xe){var Ve=yI(xe,j),Be=zm(Ve,2),Et=Be[0],yn=Be[1],Pt=vI(xe,l,o),sn=zm(Pt,2),Pn=sn[0],ot=sn[1],on=D?D(xe):null;if(Et&&Pn&&!on)J.push(xe);else{var Rt=[yn,ot];on&&(Rt=Rt.concat(on)),se.push({file:xe,errors:Rt.filter(function(ls){return ls})})}}),(!u&&J.length>1||u&&h>=1&&J.length>h)&&(J.forEach(function(xe){se.push({file:xe,errors:[k6]})}),J.splice(0)),de({acceptedFiles:J,fileRejections:se,isDragReject:se.length>0,type:"setFiles"}),v&&v(J,se,Ie),se.length>0&&C&&C(se,Ie),J.length>0&&_&&_(J,Ie)},[de,u,j,l,o,h,v,_,C,D]),gn=G.useCallback(function(me){me.preventDefault(),me.persist(),st(me),Se.current=[],sd(me)&&Promise.resolve(i(me)).then(function(Ie){ef(me)&&!A||ct(Ie,me)}).catch(function(Ie){return Te(Ie)}),de({type:"reset"})},[i,ct,Te,A]),Ln=G.useCallback(function(){if(te.current){de({type:"openDialog"}),U();var me={multiple:u,types:O};window.showOpenFilePicker(me).then(function(Ie){return i(Ie)}).then(function(Ie){ct(Ie,null),de({type:"closeDialog"})}).catch(function(Ie){O6(Ie)?(P(Ie),de({type:"closeDialog"})):M6(Ie)?(te.current=!1,pe.current?(pe.current.value=null,pe.current.click()):Te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Te(Ie)});return}pe.current&&(de({type:"openDialog"}),U(),pe.current.value=null,pe.current.click())},[de,U,P,L,ct,Te,O,u]),Yn=G.useCallback(function(me){!oe.current||!oe.current.isEqualNode(me.target)||(me.key===" "||me.key==="Enter"||me.keyCode===32||me.keyCode===13)&&(me.preventDefault(),Ln())},[oe,Ln]),Ir=G.useCallback(function(){de({type:"focus"})},[]),qr=G.useCallback(function(){de({type:"blur"})},[]),cr=G.useCallback(function(){Y||(P6()?setTimeout(Ln,0):Ln())},[Y,Ln]),rn=function(Ie){return r?null:Ie},Ar=function(Ie){return ee?null:rn(Ie)},lt=function(Ie){return H?null:rn(Ie)},st=function(Ie){A&&Ie.stopPropagation()},Cn=G.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=me.refKey,J=Ie===void 0?"ref":Ie,se=me.role,xe=me.onKeyDown,Ve=me.onFocus,Be=me.onBlur,Et=me.onClick,yn=me.onDragEnter,Pt=me.onDragOver,sn=me.onDragLeave,Pn=me.onDrop,ot=tf(me,F6);return It(It(Jg({onKeyDown:Ar(ui(xe,Yn)),onFocus:Ar(ui(Ve,Ir)),onBlur:Ar(ui(Be,qr)),onClick:rn(ui(Et,cr)),onDragEnter:lt(ui(yn,qe)),onDragOver:lt(ui(Pt,Fe)),onDragLeave:lt(ui(sn,Ke)),onDrop:lt(ui(Pn,gn)),role:typeof se=="string"&&se!==""?se:"presentation"},J,oe),!r&&!ee?{tabIndex:0}:{}),ot)}},[oe,Yn,Ir,qr,cr,qe,Fe,Ke,gn,ee,H,r]),Ii=G.useCallback(function(me){me.stopPropagation()},[]),Ai=G.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=me.refKey,J=Ie===void 0?"ref":Ie,se=me.onChange,xe=me.onClick,Ve=tf(me,j6),Be=Jg({accept:j,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:rn(ui(se,gn)),onClick:rn(ui(xe,Ii)),tabIndex:-1},J,pe);return It(It({},Be),Ve)}},[pe,n,u,gn,r]);return It(It({},ie),{},{isFocused:R&&!r,getRootProps:Cn,getInputProps:Ai,rootRef:oe,inputRef:pe,open:rn(Ln)})}function G6(t,e){switch(e.type){case"focus":return It(It({},t),{},{isFocused:!0});case"blur":return It(It({},t),{},{isFocused:!1});case"openDialog":return It(It({},Zg),{},{isFileDialogActive:!0});case"closeDialog":return It(It({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return It(It({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return It(It({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return It({},Zg);default:return t}}function dE(){}const Bv=G.createContext({});function $v(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const qv=typeof window<"u",bI=qv?G.useLayoutEffect:G.useEffect,jf=G.createContext(null);function Hv(t,e){t.indexOf(e)===-1&&t.push(e)}function Wv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rs=(t,e,n)=>n>e?e:n<t?t:n;let Kv=()=>{};const is={},SI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kI(t){return typeof t=="object"&&t!==null}const II=t=>/^0[^.\s]+$/u.test(t);function Gv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sr=t=>t,Q6=(t,e)=>n=>e(t(n)),Cc=(...t)=>t.reduce(Q6),lc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Qv{constructor(){this.subscriptions=[]}add(e){return Hv(this.subscriptions,e),()=>Wv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=t=>t*1e3,_i=t=>t/1e3;function AI(t,e){return e?t*(1e3/e):0}const CI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Y6=1e-7,X6=12;function J6(t,e,n,r,i){let o,l,u=0;do l=e+(n-e)/2,o=CI(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>Y6&&++u<X6);return l}function Pc(t,e,n,r){if(t===e&&n===r)return Sr;const i=o=>J6(o,0,1,t,n);return o=>o===0||o===1?o:CI(i(o),e,r)}const PI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RI=t=>e=>1-t(1-e),DI=Pc(.33,1.53,.69,.99),Yv=RI(DI),NI=PI(Yv),OI=t=>(t*=2)<1?.5*Yv(t):.5*(2-Math.pow(2,-10*(t-1))),Xv=t=>1-Math.sin(Math.acos(t)),MI=RI(Xv),LI=PI(Xv),Z6=Pc(.42,0,1,1),eF=Pc(0,0,.58,1),VI=Pc(.42,0,.58,1),tF=t=>Array.isArray(t)&&typeof t[0]!="number",FI=t=>Array.isArray(t)&&typeof t[0]=="number",nF={linear:Sr,easeIn:Z6,easeInOut:VI,easeOut:eF,circIn:Xv,circInOut:LI,circOut:MI,backIn:Yv,backInOut:NI,backOut:DI,anticipate:OI},rF=t=>typeof t=="string",fE=t=>{if(FI(t)){Kv(t.length===4);const[e,n,r,i]=t;return Pc(e,n,r,i)}else if(rF(t))return nF[t];return t},od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iF(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(f.schedule(m),t()),m(u)}const f={schedule:(m,g=!1,v=!1)=>{const C=v&&i?n:r;return g&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(u=m,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(h),n.clear(),i=!1,o&&(o=!1,f.process(m))}};return f}const sF=40;function jI(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=od.reduce((M,Y)=>(M[Y]=iF(o),M),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:m,update:g,preRender:v,render:_,postRender:C}=l,k=()=>{const M=is.useManualTiming?i.timestamp:performance.now();n=!1,is.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(M-i.timestamp,sF),1)),i.timestamp=M,i.isProcessing=!0,u.process(i),h.process(i),f.process(i),m.process(i),g.process(i),v.process(i),_.process(i),C.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(k))},N=()=>{n=!0,r=!0,i.isProcessing||t(k)};return{schedule:od.reduce((M,Y)=>{const ee=l[Y];return M[Y]=(H,A=!1,S=!1)=>(n||N(),ee.schedule(H,A,S)),M},{}),cancel:M=>{for(let Y=0;Y<od.length;Y++)l[od[Y]].cancel(M)},state:i,steps:l}}const{schedule:bt,cancel:to,state:hn,steps:Bm}=jI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sr,!0);let Sd;function oF(){Sd=void 0}const Kn={now:()=>(Sd===void 0&&Kn.set(hn.isProcessing||is.useManualTiming?hn.timestamp:performance.now()),Sd),set:t=>{Sd=t,queueMicrotask(oF)}},UI=t=>e=>typeof e=="string"&&e.startsWith(t),Jv=UI("--"),aF=UI("var(--"),Zv=t=>aF(t)?lF.test(t.split("/*")[0].trim()):!1,lF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uc={...kl,transform:t=>rs(0,1,t)},ad={...kl,default:1},zu=t=>Math.round(t*1e5)/1e5,e0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uF(t){return t==null}const cF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t0=(t,e)=>n=>!!(typeof n=="string"&&cF.test(n)&&n.startsWith(t)||e&&!uF(n)&&Object.prototype.hasOwnProperty.call(n,e)),zI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(e0);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},hF=t=>rs(0,255,t),$m={...kl,transform:t=>Math.round(hF(t))},Uo={test:t0("rgb","red"),parse:zI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$m.transform(t)+", "+$m.transform(e)+", "+$m.transform(n)+", "+zu(uc.transform(r))+")"};function dF(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ey={test:t0("#"),parse:dF,transform:Uo.transform},Rc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ms=Rc("deg"),Ei=Rc("%"),Ne=Rc("px"),fF=Rc("vh"),pF=Rc("vw"),pE={...Ei,parse:t=>Ei.parse(t)/100,transform:t=>Ei.transform(t*100)},Ga={test:t0("hsl","hue"),parse:zI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ei.transform(zu(e))+", "+Ei.transform(zu(n))+", "+zu(uc.transform(r))+")"},Ht={test:t=>Uo.test(t)||ey.test(t)||Ga.test(t),parse:t=>Uo.test(t)?Uo.parse(t):Ga.test(t)?Ga.parse(t):ey.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Uo.transform(t):Ga.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},mF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gF(t){return isNaN(t)&&typeof t=="string"&&(t.match(e0)?.length||0)+(t.match(mF)?.length||0)>0}const BI="number",$I="color",yF="var",vF="var(",mE="${}",xF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(xF,h=>(Ht.test(h)?(r.color.push(o),i.push($I),n.push(Ht.parse(h))):h.startsWith(vF)?(r.var.push(o),i.push(yF),n.push(h)):(r.number.push(o),i.push(BI),n.push(parseFloat(h))),++o,mE)).split(mE);return{values:n,split:u,indexes:r,types:i}}function qI(t){return cc(t).values}function HI(t){const{split:e,types:n}=cc(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const u=n[l];u===BI?o+=zu(i[l]):u===$I?o+=Ht.transform(i[l]):o+=i[l]}return o}}const wF=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function _F(t){const e=qI(t);return HI(t)(e.map(wF))}const no={test:gF,parse:qI,createTransformer:HI,getAnimatableNone:_F};function qm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=qm(h,u,t+1/3),o=qm(h,u,t),l=qm(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function nf(t,e){return n=>n>0?e:t}const At=(t,e,n)=>t+(e-t)*n,Hm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},TF=[ey,Uo,Ga],bF=t=>TF.find(e=>e.test(t));function gE(t){const e=bF(t);if(!e)return!1;let n=e.parse(t);return e===Ga&&(n=EF(n)),n}const yE=(t,e)=>{const n=gE(t),r=gE(e);if(!n||!r)return nf(t,e);const i={...n};return o=>(i.red=Hm(n.red,r.red,o),i.green=Hm(n.green,r.green,o),i.blue=Hm(n.blue,r.blue,o),i.alpha=At(n.alpha,r.alpha,o),Uo.transform(i))},ty=new Set(["none","hidden"]);function SF(t,e){return ty.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kF(t,e){return n=>At(t,e,n)}function n0(t){return typeof t=="number"?kF:typeof t=="string"?Zv(t)?nf:Ht.test(t)?yE:CF:Array.isArray(t)?WI:typeof t=="object"?Ht.test(t)?yE:IF:nf}function WI(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>n0(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function IF(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=n0(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function AF(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],u=t.values[l]??0;n[i]=u,r[o]++}return n}const CF=(t,e)=>{const n=no.createTransformer(e),r=cc(t),i=cc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ty.has(t)&&!i.values.length||ty.has(e)&&!r.values.length?SF(t,e):Cc(WI(AF(r,i),i.values),n):nf(t,e)};function KI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):n0(t)(t,e)}const PF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>bt.update(e,n),stop:()=>to(e),now:()=>hn.isProcessing?hn.timestamp:Kn.now()}},GI=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},rf=2e4;function r0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rf;)e+=n,r=t.next(e);return e>=rf?1/0:e}function RF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(r0(r),rf);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:_i(i)}}const DF=5;function QI(t,e,n){const r=Math.max(e-DF,0);return AI(n-t(r),e-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wm=.001;function NF({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:n=Ot.velocity,mass:r=Ot.mass}){let i,o,l=1-e;l=rs(Ot.minDamping,Ot.maxDamping,l),t=rs(Ot.minDuration,Ot.maxDuration,_i(t)),l<1?(i=f=>{const m=f*l,g=m*t,v=m-n,_=ny(f,l),C=Math.exp(-g);return Wm-v/_*C},o=f=>{const g=f*l*t,v=g*n+n,_=Math.pow(l,2)*Math.pow(f,2)*t,C=Math.exp(-g),k=ny(Math.pow(f,2),l);return(-i(f)+Wm>0?-1:1)*((v-_)*C)/k}):(i=f=>{const m=Math.exp(-f*t),g=(f-n)*t+1;return-Wm+m*g},o=f=>{const m=Math.exp(-f*t),g=(n-f)*(t*t);return m*g});const u=5/t,h=MF(i,o,u);if(t=wi(t),isNaN(h))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const OF=12;function MF(t,e,n){let r=n;for(let i=1;i<OF;i++)r=r-t(r)/e(r);return r}function ny(t,e){return t*Math.sqrt(1-e*e)}const LF=["duration","bounce"],VF=["stiffness","damping","mass"];function vE(t,e){return e.some(n=>t[n]!==void 0)}function FF(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!vE(t,VF)&&vE(t,LF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*rs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ot.mass,stiffness:i,damping:o}}else{const n=NF(t);e={...e,...n,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function sf(t=Ot.visualDuration,e=Ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=FF({...n,velocity:-_i(n.velocity||0)}),C=v||0,k=f/(2*Math.sqrt(h*m)),N=l-o,L=_i(Math.sqrt(h/m)),B=Math.abs(N)<5;r||(r=B?Ot.restSpeed.granular:Ot.restSpeed.default),i||(i=B?Ot.restDelta.granular:Ot.restDelta.default);let M;if(k<1){const ee=ny(L,k);M=H=>{const A=Math.exp(-k*L*H);return l-A*((C+k*L*N)/ee*Math.sin(ee*H)+N*Math.cos(ee*H))}}else if(k===1)M=ee=>l-Math.exp(-L*ee)*(N+(C+L*N)*ee);else{const ee=L*Math.sqrt(k*k-1);M=H=>{const A=Math.exp(-k*L*H),S=Math.min(ee*H,300);return l-A*((C+k*L*N)*Math.sinh(S)+ee*N*Math.cosh(S))/ee}}const Y={calculatedDuration:_&&g||null,next:ee=>{const H=M(ee);if(_)u.done=ee>=g;else{let A=ee===0?C:0;k<1&&(A=ee===0?wi(C):QI(M,ee,H));const S=Math.abs(A)<=r,D=Math.abs(l-H)<=i;u.done=S&&D}return u.value=u.done?l:H,u},toString:()=>{const ee=Math.min(r0(Y),rf),H=GI(A=>Y.next(ee*A).value,ee,30);return ee+"ms "+H},toTransition:()=>{}};return Y}sf.applyToOptions=t=>{const e=RF(t,100,sf);return t.ease=e.ease,t.duration=wi(e.duration),t.type="keyframes",t};function ry({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},_=S=>u!==void 0&&S<u||h!==void 0&&S>h,C=S=>u===void 0?h:h===void 0||Math.abs(u-S)<Math.abs(h-S)?u:h;let k=n*e;const N=g+k,L=l===void 0?N:l(N);L!==N&&(k=L-g);const B=S=>-k*Math.exp(-S/r),M=S=>L+B(S),Y=S=>{const D=B(S),j=M(S);v.done=Math.abs(D)<=f,v.value=v.done?L:j};let ee,H;const A=S=>{_(v.value)&&(ee=S,H=sf({keyframes:[v.value,C(v.value)],velocity:QI(M,S,v.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return A(0),{calculatedDuration:null,next:S=>{let D=!1;return!H&&ee===void 0&&(D=!0,Y(S),A(S)),ee!==void 0&&S>=ee?H.next(S-ee):(!D&&Y(S),v)}}}function jF(t,e,n){const r=[],i=n||is.mix||KI,o=t.length-1;for(let l=0;l<o;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Sr:e;u=Cc(h,u)}r.push(u)}return r}function UF(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Kv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=jF(e,r,i),h=u.length,f=m=>{if(l&&m<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=lc(t[g],t[g+1],m);return u[g](v)};return n?m=>f(rs(t[0],t[o-1],m)):f}function zF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=lc(0,e,r);t.push(At(n,1,i))}}function BF(t){const e=[0];return zF(e,t.length-1),e}function $F(t,e){return t.map(n=>n*e)}function qF(t,e){return t.map(()=>e||VI).splice(0,t.length-1)}function Bu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=tF(r)?r.map(fE):fE(r),o={done:!1,value:e[0]},l=$F(n&&n.length===e.length?n:BF(e),t),u=UF(l,e,{ease:Array.isArray(i)?i:qF(e,i)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const HF=t=>t!==null;function i0(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(HF),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const WF={decay:ry,inertia:ry,tween:Bu,keyframes:Bu,spring:sf};function YI(t){typeof t.type=="string"&&(t.type=WF[t.type])}class s0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const KF=t=>t/100;class o0 extends s0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Kn.now()&&this.tick(Kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YI(e);const{type:n=Bu,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const h=n||Bu;h!==Bu&&typeof u[0]!="number"&&(this.mixKeyframes=Cc(KF,KI(u[0],u[1])),u=[0,100]);const f=h({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=r0(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:_,type:C,onUpdate:k,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-f*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>i;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let M=this.currentTime,Y=r;if(g){const S=Math.min(this.currentTime,i)/u;let D=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&D--,D=Math.min(D,g+1),!!(D%2)&&(v==="reverse"?(j=1-j,_&&(j-=_/u)):v==="mirror"&&(Y=l)),M=rs(0,1,j)*u}const ee=B?{done:!1,value:m[0]}:Y.next(M);o&&(ee.value=o(ee.value));let{done:H}=ee;!B&&h!==null&&(H=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return A&&C!==ry&&(ee.value=i0(m,this.options,N,this.speed)),k&&k(ee.value),A&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return _i(this.calculatedDuration)}get time(){return _i(this.currentTime)}set time(e){e=wi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=PF,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function GF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const zo=t=>t*180/Math.PI,iy=t=>{const e=zo(Math.atan2(t[1],t[0]));return sy(e)},QF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iy,rotateZ:iy,skewX:t=>zo(Math.atan(t[1])),skewY:t=>zo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),xE=iy,wE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_E=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wE,scaleY:_E,scale:t=>(wE(t)+_E(t))/2,rotateX:t=>sy(zo(Math.atan2(t[6],t[5]))),rotateY:t=>sy(zo(Math.atan2(-t[2],t[0]))),rotateZ:xE,rotate:xE,skewX:t=>zo(Math.atan(t[4])),skewY:t=>zo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oy(t){return t.includes("scale")?1:0}function ay(t,e){if(!t||t==="none")return oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=YF,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QF,i=u}if(!i)return oy(e);const o=r[e],l=i[1].split(",").map(JF);return typeof o=="function"?o(l):l[o]}const XF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ay(n,e)};function JF(t){return parseFloat(t.trim())}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Al=new Set(Il),EE=t=>t===kl||t===Ne,ZF=new Set(["x","y","z"]),ej=Il.filter(t=>!ZF.has(t));function tj(t){const e=[];return ej.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ho={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ay(e,"x"),y:(t,{transform:e})=>ay(e,"y")};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const Wo=new Set;let ly=!1,uy=!1,cy=!1;function XI(){if(uy){const t=Array.from(Wo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tj(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uy=!1,ly=!1,Wo.forEach(t=>t.complete(cy)),Wo.clear()}function JI(){Wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uy=!0)})}function nj(){cy=!0,JI(),XI(),cy=!1}class a0{constructor(e,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Wo.add(this),ly||(ly=!0,bt.read(JI),bt.resolveKeyframes(XI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}GF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wo.delete(this)}cancel(){this.state==="scheduled"&&(Wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rj=t=>t.startsWith("--");function ij(t,e,n){rj(e)?t.style.setProperty(e,n):t.style[e]=n}const sj=Gv(()=>window.ScrollTimeline!==void 0),oj={};function aj(t,e){const n=Gv(t);return()=>oj[e]??n()}const ZI=aj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Du=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function eA(t,e){if(t)return typeof t=="function"?ZI()?GI(t,e):"ease-out":FI(t)?Du(t):Array.isArray(t)?t.map(n=>eA(n,e)||TE.easeOut):TE[t]}function lj(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const g=eA(u,i);Array.isArray(g)&&(m.easing=g);const v={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(m,v)}function tA(t){return typeof t=="function"&&"applyToOptions"in t}function uj({type:t,...e}){return tA(t)&&ZI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class cj extends s0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Kv(typeof e.type!="string");const f=uj(e);this.animation=lj(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=i0(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):ij(n,r,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(e))}get time(){return _i(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=wi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sj()?(this.animation.timeline=e,Sr):n(this)}}const nA={anticipate:OI,backInOut:NI,circInOut:LI};function hj(t){return t in nA}function dj(t){typeof t.ease=="string"&&hj(t.ease)&&(t.ease=nA[t.ease])}const bE=10;class fj extends cj{constructor(e){dj(e),YI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new o0({...l,autoplay:!1}),h=wi(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-bE).value,u.sample(h).value,bE),u.stop()}}const SE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(no.test(t)||t==="0")&&!t.startsWith("url("));function pj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=SE(i,e),u=SE(o,e);return!l||!u?!1:pj(t)||(n==="spring"||tA(n))&&r}function hy(t){t.duration=0,t.type}const gj=new Set(["opacity","clipPath","filter","transform"]),yj=Gv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vj(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return yj()&&n&&gj.has(n)&&(n!=="transform"||!f)&&!h&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const xj=40;class wj extends s0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Kn.now();const v={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:m,...g},_=m?.KeyframeResolver||a0;this.keyframeResolver=new _(u,(C,k,N)=>this.onKeyframesResolved(C,k,v,!N),h,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Kn.now(),mj(e,o,l,u)||((is.instantAnimations||!h)&&m?.(i0(e,r,n)),e[0]=e[e.length-1],hy(r),r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>xj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!f&&vj(v)?new fj({...v,element:v.motionValue.owner.current}):new o0(v);_.finished.then(()=>this.notifyFinished()).catch(Sr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _j=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ej(t){const e=_j.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function rA(t,e,n=1){const[r,i]=Ej(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return SI(l)?parseFloat(l):l}return Zv(i)?rA(i,e,n+1):i}function l0(t,e){return t?.[e]??t?.default??t}const iA=new Set(["width","height","top","left","right","bottom",...Il]),Tj={test:t=>t==="auto",parse:t=>t},sA=t=>e=>e.test(t),oA=[kl,Ne,Ei,Ms,pF,fF,Tj],kE=t=>oA.find(sA(t));function bj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||II(t):!0}const Sj=new Set(["brightness","contrast","saturate","opacity"]);function kj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(e0)||[];if(!r)return t;const i=n.replace(r,"");let o=Sj.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Ij=/\b([a-z-]*)\(.*?\)/gu,dy={...no,getAnimatableNone:t=>{const e=t.match(Ij);return e?e.map(kj).join(" "):t}},IE={...kl,transform:Math.round},Aj={rotate:Ms,rotateX:Ms,rotateY:Ms,rotateZ:Ms,scale:ad,scaleX:ad,scaleY:ad,scaleZ:ad,skew:Ms,skewX:Ms,skewY:Ms,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:uc,originX:pE,originY:pE,originZ:Ne},u0={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...Aj,zIndex:IE,fillOpacity:uc,strokeOpacity:uc,numOctaves:IE},Cj={...u0,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:dy,WebkitFilter:dy},aA=t=>Cj[t];function lA(t,e){let n=aA(t);return n!==dy&&(n=no),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Pj=new Set(["auto","none","0"]);function Rj(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!Pj.has(o)&&cc(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=lA(n,i)}class Dj extends a0{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Zv(f))){const m=rA(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!iA.has(r)||e.length!==2)return;const[i,o]=e,l=kE(i),u=kE(o);if(l!==u)if(EE(l)&&EE(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Ho[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||bj(e[i]))&&r.push(i);r.length&&Rj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ho[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Ho[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function Nj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const uA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function cA(t){return kI(t)&&"offsetHeight"in t}const AE=30,Oj=t=>!isNaN(parseFloat(t));class Mj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Kn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Oj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qv);const r=this.events[e].add(n);return e==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AE);return AI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new Mj(t,e)}const{schedule:c0}=jI(queueMicrotask,!1),Vr={x:!1,y:!1};function hA(){return Vr.x||Vr.y}function Lj(t){return t==="x"||t==="y"?Vr[t]?null:(Vr[t]=!0,()=>{Vr[t]=!1}):Vr.x||Vr.y?null:(Vr.x=Vr.y=!0,()=>{Vr.x=Vr.y=!1})}function dA(t,e){const n=Nj(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function CE(t){return!(t.pointerType==="touch"||hA())}function Vj(t,e,n={}){const[r,i,o]=dA(t,n),l=u=>{if(!CE(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const m=g=>{CE(g)&&(f(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}const fA=(t,e)=>e?t===e?!0:fA(t,e.parentElement):!1,h0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Fj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jj(t){return Fj.has(t.tagName)||t.tabIndex!==-1}const kd=new WeakSet;function PE(t){return e=>{e.key==="Enter"&&t(e)}}function Km(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Uj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=PE(()=>{if(kd.has(n))return;Km(n,"down");const i=PE(()=>{Km(n,"up")}),o=()=>Km(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function RE(t){return h0(t)&&!hA()}function zj(t,e,n={}){const[r,i,o]=dA(t,n),l=u=>{const h=u.currentTarget;if(!RE(u))return;kd.add(h);const f=e(h,u),m=(_,C)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),kd.has(h)&&kd.delete(h),RE(_)&&typeof f=="function"&&f(_,{success:C})},g=_=>{m(_,h===window||h===document||n.useGlobalTarget||fA(h,_.target))},v=_=>{m(_,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),cA(u)&&(u.addEventListener("focus",f=>Uj(f,i)),!jj(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function pA(t){return kI(t)&&"ownerSVGElement"in t}function Bj(t){return pA(t)&&t.tagName==="svg"}const kn=t=>!!(t&&t.getVelocity),$j=[...oA,Ht,no],qj=t=>$j.find(sA(t)),d0=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function DE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hj(...t){return e=>{let n=!1;const r=t.map(i=>{const o=DE(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():DE(t[i],null)}}}}function Wj(...t){return G.useCallback(Hj(...t),t)}class Kj extends G.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=cA(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Gj({children:t,isPresent:e,anchorX:n,root:r}){const i=G.useId(),o=G.useRef(null),l=G.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=G.useContext(d0),h=Wj(o,t?.ref);return G.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:v,right:_}=l.current;if(e||!o.current||!f||!m)return;const C=n==="left"?`left: ${v}`:`right: ${_}`;o.current.dataset.motionPopId=i;const k=document.createElement("style");u&&(k.nonce=u);const N=r??document.head;return N.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${C}px !important;
            top: ${g}px !important;
          }
        `),()=>{N.contains(k)&&N.removeChild(k)}},[e]),b.jsx(Kj,{isPresent:e,childRef:o,sizeRef:l,children:G.cloneElement(t,{ref:h})})}const Qj=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:u,root:h})=>{const f=$v(Yj),m=G.useId();let g=!0,v=G.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:_=>{f.set(_,!0);for(const C of f.values())if(!C)return;r&&r()},register:_=>(f.set(_,!1),()=>f.delete(_))}),[n,f,r]);return o&&g&&(v={...v}),G.useMemo(()=>{f.forEach((_,C)=>f.set(C,!1))},[n]),G.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=b.jsx(Gj,{isPresent:n,anchorX:u,root:h,children:t})),b.jsx(jf.Provider,{value:v,children:t})};function Yj(){return new Map}function mA(t=!0){const e=G.useContext(jf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=G.useId();G.useEffect(()=>{if(t)return i(o)},[t]);const l=G.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const ld=t=>t.key||"";function NE(t){const e=[];return G.Children.forEach(t,n=>{G.isValidElement(n)&&e.push(n)}),e}const f0=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[f,m]=mA(l),g=G.useMemo(()=>NE(t),[t]),v=l&&!f?[]:g.map(ld),_=G.useRef(!0),C=G.useRef(g),k=$v(()=>new Map),[N,L]=G.useState(g),[B,M]=G.useState(g);bI(()=>{_.current=!1,C.current=g;for(let H=0;H<B.length;H++){const A=ld(B[H]);v.includes(A)?k.delete(A):k.get(A)!==!0&&k.set(A,!1)}},[B,v.length,v.join("-")]);const Y=[];if(g!==N){let H=[...g];for(let A=0;A<B.length;A++){const S=B[A],D=ld(S);v.includes(D)||(H.splice(A,0,S),Y.push(S))}return o==="wait"&&Y.length&&(H=Y),M(NE(H)),L(g),null}const{forceRender:ee}=G.useContext(Bv);return b.jsx(b.Fragment,{children:B.map(H=>{const A=ld(H),S=l&&!f?!1:g===B||v.includes(A),D=()=>{if(k.has(A))k.set(A,!0);else return;let j=!0;k.forEach(O=>{O||(j=!1)}),j&&(ee?.(),M(C.current),l&&m?.(),r&&r())};return b.jsx(Qj,{isPresent:S,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:h,onExitComplete:S?void 0:D,anchorX:u,children:H},A)})})},gA=G.createContext({strict:!1}),OE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vl={};for(const t in OE)vl[t]={isEnabled:e=>OE[t].some(n=>!!e[n])};function Xj(t){for(const e in t)vl[e]={...vl[e],...t[e]}}const Jj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function of(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Jj.has(t)}let yA=t=>!of(t);function Zj(t){typeof t=="function"&&(yA=e=>e.startsWith("on")?!of(e):t(e))}try{Zj(require("@emotion/is-prop-valid").default)}catch{}function e9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(yA(i)||n===!0&&of(i)||!e&&!of(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Uf=G.createContext({});function zf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hc(t){return typeof t=="string"||Array.isArray(t)}const p0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m0=["initial",...p0];function Bf(t){return zf(t.animate)||m0.some(e=>hc(t[e]))}function vA(t){return!!(Bf(t)||t.variants)}function t9(t,e){if(Bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hc(n)?n:void 0,animate:hc(r)?r:void 0}}return t.inherit!==!1?e:{}}function n9(t){const{initial:e,animate:n}=t9(t,G.useContext(Uf));return G.useMemo(()=>({initial:e,animate:n}),[ME(e),ME(n)])}function ME(t){return Array.isArray(t)?t.join(" "):t}const dc={};function r9(t){for(const e in t)dc[e]=t[e],Jv(e)&&(dc[e].isCSSVariable=!0)}function xA(t,{layout:e,layoutId:n}){return Al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const i9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s9=Il.length;function o9(t,e,n){let r="",i=!0;for(let o=0;o<s9;o++){const l=Il[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=uA(u,u0[l]);if(!h){i=!1;const m=i9[l]||l;r+=`${m}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function g0(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const f=e[h];if(Al.has(h)){l=!0;continue}else if(Jv(h)){i[h]=f;continue}else{const m=uA(f,u0[h]);h.startsWith("origin")?(u=!0,o[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=o9(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${f} ${m}`}}const y0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wA(t,e,n){for(const r in e)!kn(e[r])&&!xA(r,n)&&(t[r]=e[r])}function a9({transformTemplate:t},e){return G.useMemo(()=>{const n=y0();return g0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function l9(t,e){const n=t.style||{},r={};return wA(r,n,t),Object.assign(r,a9(t,e)),r}function u9(t,e){const n={},r=l9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const c9={offset:"stroke-dashoffset",array:"stroke-dasharray"},h9={offset:"strokeDashoffset",array:"strokeDasharray"};function d9(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?c9:h9;t[o.offset]=Ne.transform(-r);const l=Ne.transform(e),u=Ne.transform(n);t[o.array]=`${l} ${u}`}function _A(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...u},h,f,m){if(g0(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&d9(g,i,o,l,!1)}const EA=()=>({...y0(),attrs:{}}),TA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function f9(t,e,n,r){const i=G.useMemo(()=>{const o=EA();return _A(o,e,TA(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};wA(o,t.style,t),i.style={...o,...i.style}}return i}const p9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v0(t){return typeof t!="string"||t.includes("-")?!1:!!(p9.indexOf(t)>-1||/[A-Z]/u.test(t))}function m9(t,e,n,{latestValues:r},i,o=!1){const u=(v0(t)?f9:u9)(e,r,i,t),h=e9(e,typeof t=="string",o),f=t!==G.Fragment?{...h,...u,ref:n}:{},{children:m}=e,g=G.useMemo(()=>kn(m)?m.get():m,[m]);return G.createElement(t,{...f,children:g})}function LE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function x0(t,e,n,r){if(typeof e=="function"){const[i,o]=LE(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=LE(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Id(t){return kn(t)?t.get():t}function g9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:y9(n,r,i,t),renderState:e()}}function y9(t,e,n,r){const i={},o=r(t,{});for(const v in o)i[v]=Id(o[v]);let{initial:l,animate:u}=t;const h=Bf(t),f=vA(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?u:l;if(g&&typeof g!="boolean"&&!zf(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const C=x0(t,v[_]);if(C){const{transitionEnd:k,transition:N,...L}=C;for(const B in L){let M=L[B];if(Array.isArray(M)){const Y=m?M.length-1:0;M=M[Y]}M!==null&&(i[B]=M)}for(const B in k)i[B]=k[B]}}}return i}const bA=t=>(e,n)=>{const r=G.useContext(Uf),i=G.useContext(jf),o=()=>g9(t,e,r,i);return n?o():$v(o)};function w0(t,e,n){const{style:r}=t,i={};for(const o in r)(kn(r[o])||e.style&&kn(e.style[o])||xA(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const v9=bA({scrapeMotionValuesFromProps:w0,createRenderState:y0});function SA(t,e,n){const r=w0(t,e,n);for(const i in t)if(kn(t[i])||kn(e[i])){const o=Il.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const x9=bA({scrapeMotionValuesFromProps:SA,createRenderState:EA}),w9=Symbol.for("motionComponentSymbol");function Qa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _9(t,e,n){return G.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qa(n)&&(n.current=r))},[e])}const _0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E9="framerAppearId",kA="data-"+_0(E9),IA=G.createContext({});function T9(t,e,n,r,i){const{visualElement:o}=G.useContext(Uf),l=G.useContext(gA),u=G.useContext(jf),h=G.useContext(d0).reducedMotion,f=G.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,g=G.useContext(IA);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&b9(f.current,n,i,g);const v=G.useRef(!1);G.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const _=n[kA],C=G.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return bI(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),G.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),C.current=!1),m.enteringChildren=void 0)}),m}function b9(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AA(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Qa(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:f})}function AA(t){if(t)return t.options.allowProjection!==!1?t.projection:AA(t.parent)}function Gm(t,{forwardMotionProps:e=!1}={},n,r){n&&Xj(n);const i=v0(t)?x9:v9;function o(u,h){let f;const m={...G.useContext(d0),...u,layoutId:S9(u)},{isStatic:g}=m,v=n9(u),_=i(u,g);if(!g&&qv){k9();const C=I9(m);f=C.MeasureLayout,v.visualElement=T9(t,_,m,r,C.ProjectionNode)}return b.jsxs(Uf.Provider,{value:v,children:[f&&v.visualElement?b.jsx(f,{visualElement:v.visualElement,...m}):null,m9(t,u,_9(_,v.visualElement,h),_,g,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=G.forwardRef(o);return l[w9]=t,l}function S9({layoutId:t}){const e=G.useContext(Bv).id;return e&&t!==void 0?e+"-"+t:t}function k9(t,e){G.useContext(gA).strict}function I9(t){const{drag:e,layout:n}=vl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function A9(t,e){if(typeof Proxy>"u")return Gm;const n=new Map,r=(o,l)=>Gm(o,l,t,e),i=(o,l)=>r(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Gm(l,void 0,t,e)),n.get(l))})}function CA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function C9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function P9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qm(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!Qm(t)||!Qm(e)||!Qm(n)}function Lo(t){return fy(t)||PA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PA(t){return VE(t.x)||VE(t.y)}function VE(t){return t&&t!=="0%"}function af(t,e,n){const r=t-n,i=e*r;return n+i}function FE(t,e,n,r,i){return i!==void 0&&(t=af(t,i,r)),af(t,n,r)+e}function py(t,e=0,n=1,r,i){t.min=FE(t.min,e,n,r,i),t.max=FE(t.max,e,n,r,i)}function RA(t,{x:e,y:n}){py(t.x,e.translate,e.scale,e.originPoint),py(t.y,n.translate,n.scale,n.originPoint)}const jE=.999999999999,UE=1.0000000000001;function R9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,RA(t,l)),r&&Lo(o.latestValues)&&Xa(t,o.latestValues))}e.x<UE&&e.x>jE&&(e.x=1),e.y<UE&&e.y>jE&&(e.y=1)}function Ya(t,e){t.min=t.min+e,t.max=t.max+e}function zE(t,e,n,r,i=.5){const o=At(t.min,t.max,i);py(t,e,n,o,r)}function Xa(t,e){zE(t.x,e.x,e.scaleX,e.scale,e.originX),zE(t.y,e.y,e.scaleY,e.scale,e.originY)}function DA(t,e){return CA(P9(t.getBoundingClientRect(),e))}function D9(t,e,n){const r=DA(t,n),{scroll:i}=e;return i&&(Ya(r.x,i.offset.x),Ya(r.y,i.offset.y)),r}const BE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ja=()=>({x:BE(),y:BE()}),$E=()=>({min:0,max:0}),jt=()=>({x:$E(),y:$E()}),my={current:null},NA={current:!1};function N9(){if(NA.current=!0,!!qv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addEventListener("change",e),e()}else my.current=!1}const O9=new WeakMap;function M9(t,e,n){for(const r in e){const i=e[r],o=n[r];if(kn(i))t.addValue(r,i);else if(kn(o))t.addValue(r,yl(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,yl(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const qE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Kn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,bt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Bf(n),this.isVariantNode=vA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const _=g[v];h[v]!==void 0&&kn(_)&&_.set(h[v])}}mount(e){this.current=e,O9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),NA.current||N9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Al.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vl){const n=vl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qE.length;r++){const i=qE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=M9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=yl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(SI(r)||II(r))?r=parseFloat(r):!qj(r)&&no.test(n)&&(r=lA(e,n)),this.setBaseTarget(e,kn(r)?r.get():r)),kn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=x0(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!kn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){c0.render(this.render)}}class OA extends L9{constructor(){super(...arguments),this.KeyframeResolver=Dj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MA(t,{style:e,vars:n},r,i){const o=t.style;let l;for(l in e)o[l]=e[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function V9(t){return window.getComputedStyle(t)}class F9 extends OA{constructor(){super(...arguments),this.type="html",this.renderInstance=MA}readValueFromInstance(e,n){if(Al.has(n))return this.projection?.isProjecting?oy(n):XF(e,n);{const r=V9(e),i=(Jv(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DA(e,n)}build(e,n,r){g0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return w0(e,n,r)}}const LA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j9(t,e,n,r){MA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(LA.has(i)?i:_0(i),e.attrs[i])}class U9 extends OA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Al.has(n)){const r=aA(n);return r&&r.default||0}return n=LA.has(n)?n:_0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SA(e,n,r)}build(e,n,r){_A(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){j9(e,n,r,i)}mount(e){this.isSVGTag=TA(e.tagName),super.mount(e)}}const z9=(t,e)=>v0(t)?new U9(e):new F9(e,{allowProjection:t!==G.Fragment});function il(t,e,n){const r=t.getProps();return x0(r,e,n!==void 0?n:r.custom,t)}const gy=t=>Array.isArray(t);function B9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function $9(t){return gy(t)?t[t.length-1]||0:t}function q9(t,e){const n=il(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const u=$9(o[l]);B9(t,l,u)}}function H9(t){return!!(kn(t)&&t.add)}function yy(t,e){const n=t.getValue("willChange");if(H9(n))return n.add(e);if(!n&&is.WillChange){const r=new is.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function VA(t){return t.props[kA]}const W9=t=>t!==null;function K9(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(W9),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const G9={type:"spring",stiffness:500,damping:25,restSpeed:10},Q9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y9={type:"keyframes",duration:.8},X9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J9=(t,{keyframes:e})=>e.length>2?Y9:Al.has(t)?t.startsWith("scale")?Q9(e[1]):G9:X9;function Z9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const E0=(t,e,n,r={},i,o)=>l=>{const u=l0(r,t)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-wi(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};Z9(u)||Object.assign(m,J9(t,m)),m.duration&&(m.duration=wi(m.duration)),m.repeatDelay&&(m.repeatDelay=wi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(hy(m),m.delay===0&&(g=!0)),(is.instantAnimations||is.skipAnimations)&&(g=!0,hy(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!o&&e.get()!==void 0){const v=K9(m.keyframes,u);if(v!==void 0){bt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new o0(m):new wj(m)};function eU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||f&&eU(f,m))continue;const _={delay:n,...l0(o||{},m)},C=g.get();if(C!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===C&&!_.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const L=VA(t);if(L){const B=window.MotionHandoffAnimation(L,m,bt);B!==null&&(_.startTime=B,k=!0)}}yy(t,m),g.start(E0(m,g,v,t.shouldReduceMotion&&iA.has(m)?{type:!1}:_,t,k));const N=g.animation;N&&h.push(N)}return l&&Promise.all(h).then(()=>{bt.update(()=>{l&&q9(t,l)})}),h}function jA(t,e,n,r=0,i=1){const o=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(o,l):i===1?o*r:u-o*r}function vy(t,e,n={}){const r=il(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(FA(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=i;return tU(t,e,h,f,m,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,f]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function tU(t,e,n=0,r=0,i=0,o=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(vy(h,e,{...l,delay:n+(typeof r=="function"?0:r)+jA(t.variantChildren,h,r,i,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function nU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>vy(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=vy(t,e,n);else{const i=typeof e=="function"?il(t,e,n.custom):e;r=Promise.all(FA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function UA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const rU=m0.length;function zA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rU;n++){const r=m0[n],i=t.props[r];(hc(i)||i===!1)&&(e[r]=i)}return e}const iU=[...p0].reverse(),sU=p0.length;function oU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nU(t,n,r)))}function aU(t){let e=oU(t),n=HE(),r=!0;const i=h=>(f,m)=>{const g=il(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:_,...C}=g;f={...f,...C,..._}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,m=zA(t.parent)||{},g=[],v=new Set;let _={},C=1/0;for(let N=0;N<sU;N++){const L=iU[N],B=n[L],M=f[L]!==void 0?f[L]:m[L],Y=hc(M),ee=L===h?B.isActive:null;ee===!1&&(C=N);let H=M===m[L]&&M!==f[L]&&Y;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),B.protectedKeys={..._},!B.isActive&&ee===null||!M&&!B.prevProp||zf(M)||typeof M=="boolean")continue;const A=lU(B.prevProp,M);let S=A||L===h&&B.isActive&&!H&&Y||N>C&&Y,D=!1;const j=Array.isArray(M)?M:[M];let O=j.reduce(i(L),{});ee===!1&&(O={});const{prevResolvedValues:U={}}=B,P={...U,...O},oe=Ee=>{S=!0,v.has(Ee)&&(D=!0,v.delete(Ee)),B.needsAnimating[Ee]=!0;const ie=t.getValue(Ee);ie&&(ie.liveStyle=!1)};for(const Ee in P){const ie=O[Ee],de=U[Ee];if(_.hasOwnProperty(Ee))continue;let R=!1;gy(ie)&&gy(de)?R=!UA(ie,de):R=ie!==de,R?ie!=null?oe(Ee):v.add(Ee):ie!==void 0&&v.has(Ee)?oe(Ee):B.protectedKeys[Ee]=!0}B.prevProp=M,B.prevResolvedValues=O,B.isActive&&(_={..._,...O}),r&&t.blockInitialAnimation&&(S=!1);const pe=H&&A;S&&(!pe||D)&&g.push(...j.map(Ee=>{const ie={type:L};if(typeof Ee=="string"&&r&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:de}=t,R=il(de,Ee);if(de.enteringChildren&&R){const{delayChildren:q}=R.transition||{};ie.delay=jA(de.enteringChildren,t,q)}}return{animation:Ee,options:ie}}))}if(v.size){const N={};if(typeof f.initial!="boolean"){const L=il(t,Array.isArray(f.initial)?f.initial[0]:f.initial);L&&L.transition&&(N.transition=L.transition)}v.forEach(L=>{const B=t.getBaseTarget(L),M=t.getValue(L);M&&(M.liveStyle=!0),N[L]=B??null}),g.push({animation:N})}let k=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(g):Promise.resolve()}function u(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(h,f)),n[h].isActive=f;const m=l(h);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=HE(),r=!0}}}function lU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UA(e,t):!1}function Oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HE(){return{animate:Oo(!0),whileInView:Oo(),whileHover:Oo(),whileTap:Oo(),whileDrag:Oo(),whileFocus:Oo(),exit:Oo()}}class so{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uU extends so{constructor(e){super(e),e.animationState||(e.animationState=aU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let cU=0;class hU extends so{constructor(){super(...arguments),this.id=cU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dU={animation:{Feature:uU},exit:{Feature:hU}};function fc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dc(t){return{point:{x:t.pageX,y:t.pageY}}}const fU=t=>e=>h0(e)&&t(e,Dc(e));function $u(t,e,n,r){return fc(t,e,fU(n),r)}const BA=1e-4,pU=1-BA,mU=1+BA,$A=.01,gU=0-$A,yU=0+$A;function Mn(t){return t.max-t.min}function vU(t,e,n){return Math.abs(t-e)<=n}function WE(t,e,n,r=.5){t.origin=r,t.originPoint=At(e.min,e.max,t.origin),t.scale=Mn(n)/Mn(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pU&&t.scale<=mU||isNaN(t.scale))&&(t.scale=1),(t.translate>=gU&&t.translate<=yU||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,r){WE(t.x,e.x,n.x,r?r.originX:void 0),WE(t.y,e.y,n.y,r?r.originY:void 0)}function KE(t,e,n){t.min=n.min+e.min,t.max=t.min+Mn(e)}function xU(t,e,n){KE(t.x,e.x,n.x),KE(t.y,e.y,n.y)}function GE(t,e,n){t.min=e.min-n.min,t.max=t.min+Mn(e)}function Hu(t,e,n){GE(t.x,e.x,n.x),GE(t.y,e.y,n.y)}function wr(t){return[t("x"),t("y")]}const qA=({current:t})=>t?t.ownerDocument.defaultView:null,QE=(t,e)=>Math.abs(t-e);function wU(t,e){const n=QE(t.x,e.x),r=QE(t.y,e.y);return Math.sqrt(n**2+r**2)}class HA{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Xm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,C=wU(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!C)return;const{point:k}=v,{timestamp:N}=hn;this.history.push({...k,timestamp:N});const{onStart:L,onMove:B}=this.handlers;_||(L&&L(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ym(_,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:C,onSessionEnd:k,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Xm(v.type==="pointercancel"?this.lastMoveEventInfo:Ym(_,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,L),k&&k(v,L)},!h0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const u=Dc(e),h=Ym(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=hn;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Xm(h,this.history)),this.removeListeners=Cc($u(this.contextWindow,"pointermove",this.handlePointerMove),$u(this.contextWindow,"pointerup",this.handlePointerUp),$u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),to(this.updatePoint)}}function Ym(t,e){return e?{point:e(t.point)}:t}function YE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xm({point:t},e){return{point:t,delta:YE(t,WA(e)),offset:YE(t,_U(e)),velocity:EU(e,.1)}}function _U(t){return t[0]}function WA(t){return t[t.length-1]}function EU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=WA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>wi(e)));)n--;if(!r)return{x:0,y:0};const o=_i(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function TU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?At(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?At(n,t,r.max):Math.min(t,n)),t}function XE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bU(t,{top:e,left:n,bottom:r,right:i}){return{x:XE(t.x,n,i),y:XE(t.y,e,r)}}function JE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function SU(t,e){return{x:JE(t.x,e.x),y:JE(t.y,e.y)}}function kU(t,e){let n=.5;const r=Mn(t),i=Mn(e);return i>r?n=lc(e.min,e.max-r,t.min):r>i&&(n=lc(t.min,t.max-i,e.min)),rs(0,1,n)}function IU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xy=.35;function AU(t=xy){return t===!1?t=0:t===!0&&(t=xy),{x:ZE(t,"left","right"),y:ZE(t,"top","bottom")}}function ZE(t,e,n){return{min:eT(t,e),max:eT(t,n)}}function eT(t,e){return typeof t=="number"?t:t[e]||0}const CU=new WeakMap;class PU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dc(g).point)},l=(g,v)=>{const{drag:_,dragPropagation:C,onDragStart:k}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lj(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(L=>{let B=this.getAxisMotionValue(L).get()||0;if(Ei.test(B)){const{projection:M}=this.visualElement;if(M&&M.layout){const Y=M.layout.layoutBox[L];Y&&(B=Mn(Y)*(parseFloat(B)/100))}}this.originPoint[L]=B}),k&&bt.postRender(()=>k(g,v)),yy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:k,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:L}=v;if(C&&this.currentDirection===null){this.currentDirection=RU(L),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,L),this.updateAxis("y",v.point,L),this.visualElement.render(),N&&N(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>wr(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new HA(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:qA(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&bt.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ud(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=TU(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Qa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=bU(r.layoutBox,e):this.constraints=!1,this.elastic=AU(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IU(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=D9(r,i.root,this.visualElement.getTransformPagePoint());let l=SU(i.layout.layoutBox,o);if(n){const u=n(C9(l));this.hasMutatedConstraints=!!u,u&&(l=CA(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=wr(m=>{if(!ud(m,n,this.currentDirection))return;let g=h&&h[m]||{};l&&(g={min:0,max:0});const v=i?200:1e6,_=i?40:1e7,C={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,C)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yy(this.visualElement,e),r.start(E0(e,r,0,n,this.visualElement,!1))}stopAnimation(){wr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wr(n=>{const{drag:r}=this.getProps();if(!ud(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];o.set(e[n]-At(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=kU({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wr(l=>{if(!ud(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(At(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;CU.set(this.visualElement,this);const e=this.visualElement.current,n=$u(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Qa(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bt.read(r);const l=fc(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(wr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=xy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DU extends so{constructor(e){super(e),this.removeGroupControls=Sr,this.removeListeners=Sr,this.controls=new PU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const tT=t=>(e,n)=>{t&&bt.postRender(()=>t(e,n))};class NU extends so{constructor(){super(...arguments),this.removePointerDownListener=Sr}onPointerDown(e){this.session=new HA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tT(e),onStart:tT(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&bt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=$u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ad={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=nT(t,e.target.x),r=nT(t,e.target.y);return`${n}% ${r}%`}},OU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=no.parse(t);if(i.length>5)return r;const o=no.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const f=At(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};let Jm=!1;class MU extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;r9(LU),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),Jm&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ad.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Jm=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||bt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),c0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Jm=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KA(t){const[e,n]=mA(),r=G.useContext(Bv);return b.jsx(MU,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(IA),isPresent:e,safeToRemove:n})}const LU={borderRadius:{..._u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_u,borderTopRightRadius:_u,borderBottomLeftRadius:_u,borderBottomRightRadius:_u,boxShadow:OU};function VU(t,e,n){const r=kn(t)?t:yl(t);return r.start(E0("",r,e,n)),r.animation}const FU=(t,e)=>t.depth-e.depth;class jU{constructor(){this.children=[],this.isDirty=!1}add(e){Hv(this.children,e),this.isDirty=!0}remove(e){Wv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FU),this.isDirty=!1,this.children.forEach(e)}}function UU(t,e){const n=Kn.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(to(r),t(o-e))};return bt.setup(r,!0),()=>to(r)}const GA=["TopLeft","TopRight","BottomLeft","BottomRight"],zU=GA.length,rT=t=>typeof t=="string"?parseFloat(t):t,iT=t=>typeof t=="number"||Ne.test(t);function BU(t,e,n,r,i,o){i?(t.opacity=At(0,n.opacity??1,$U(r)),t.opacityExit=At(e.opacity??1,0,qU(r))):o&&(t.opacity=At(e.opacity??1,n.opacity??1,r));for(let l=0;l<zU;l++){const u=`border${GA[l]}Radius`;let h=sT(e,u),f=sT(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||iT(h)===iT(f)?(t[u]=Math.max(At(rT(h),rT(f),r),0),(Ei.test(f)||Ei.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,r))}function sT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $U=QA(0,.5,MI),qU=QA(.5,.95,Sr);function QA(t,e,n){return r=>r<t?0:r>e?1:n(lc(t,e,r))}function oT(t,e){t.min=e.min,t.max=e.max}function xr(t,e){oT(t.x,e.x),oT(t.y,e.y)}function aT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lT(t,e,n,r,i){return t-=e,t=af(t,1/n,r),i!==void 0&&(t=af(t,1/i,r)),t}function HU(t,e=0,n=1,r=.5,i,o=t,l=t){if(Ei.test(e)&&(e=parseFloat(e),e=At(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=At(o.min,o.max,r);t===o&&(u-=e),t.min=lT(t.min,e,n,u,i),t.max=lT(t.max,e,n,u,i)}function uT(t,e,[n,r,i],o,l){HU(t,e[n],e[r],e[i],e.scale,o,l)}const WU=["x","scaleX","originX"],KU=["y","scaleY","originY"];function cT(t,e,n,r){uT(t.x,e,WU,n?n.x:void 0,r?r.x:void 0),uT(t.y,e,KU,n?n.y:void 0,r?r.y:void 0)}function hT(t){return t.translate===0&&t.scale===1}function YA(t){return hT(t.x)&&hT(t.y)}function dT(t,e){return t.min===e.min&&t.max===e.max}function GU(t,e){return dT(t.x,e.x)&&dT(t.y,e.y)}function fT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XA(t,e){return fT(t.x,e.x)&&fT(t.y,e.y)}function pT(t){return Mn(t.x)/Mn(t.y)}function mT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QU{constructor(){this.members=[]}add(e){Hv(this.members,e),e.scheduleRender()}remove(e){if(Wv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YU(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:v,skewX:_,skewY:C}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Zm=["","X","Y","Z"],XU=1e3;let JU=0;function eg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function JA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&JA(r)}function ZA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e?.()){this.id=JU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tz),this.nodes.forEach(sz),this.nodes.forEach(oz),this.nodes.forEach(nz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new jU)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Qv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=pA(l)&&!Bj(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m,g=0;const v=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{g=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,m&&m(),m=UU(v,250),Ad.hasAnimatedSinceResize&&(Ad.hasAnimatedSinceResize=!1,this.nodes.forEach(vT)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||f.getDefaultTransition()||hz,{onLayoutAnimationStart:k,onLayoutAnimationComplete:N}=f.getProps(),L=!this.targetLayout||!XA(this.targetLayout,_),B=!g&&v;if(this.options.layoutRoot||this.resumeFrom||B||g&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...l0(C,"layout"),onPlay:k,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(m,B)}else g||vT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(az),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iz),this.nodes.forEach(ZU),this.nodes.forEach(ez)):this.nodes.forEach(yT),this.clearAllSnapshots();const u=Kn.now();hn.delta=rs(0,1e3/60,u-hn.timestamp),hn.timestamp=u,hn.isProcessing=!0,Bm.update.process(hn),Bm.preRender.process(hn),Bm.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rz),this.sharedNodes.forEach(lz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!YA(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||Lo(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),dz(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return jt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fz))){const{scroll:f}=this.root;f&&(Ya(u.x,f.offset.x),Ya(u.y,f.offset.y))}return u}removeElementScroll(l){const u=jt();if(xr(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&xr(u,l),Ya(u.x,m.offset.x),Ya(u.y,m.offset.y))}return u}applyTransform(l,u=!1){const h=jt();xr(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Xa(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Lo(m.latestValues)&&Xa(h,m.latestValues)}return Lo(this.latestValues)&&Xa(h,this.latestValues),h}removeTransform(l){const u=jt();xr(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Lo(f.latestValues))continue;fy(f.latestValues)&&f.updateSnapshot();const m=jt(),g=f.measurePageBox();xr(m,g),cT(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Lo(this.latestValues)&&cT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),RA(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Hu(this.relativeTargetOrigin,this.target,v.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||PA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;xr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;R9(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=jt());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aT(this.prevProjectionDelta.x,this.projectionDelta.x),aT(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!mT(this.projectionDelta.x,this.prevProjectionDelta.x)||!mT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ja(),this.projectionDelta=Ja(),this.projectionDeltaWithTransform=Ja()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},g=Ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=jt(),_=h?h.source:void 0,C=this.layout?this.layout.source:void 0,k=_!==C,N=this.getStack(),L=!N||N.members.length<=1,B=!!(k&&!L&&this.options.crossfade===!0&&!this.path.some(cz));this.animationProgress=0;let M;this.mixTargetDelta=Y=>{const ee=Y/1e3;xT(g.x,l.x,ee),xT(g.y,l.y,ee),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uz(this.relativeTarget,this.relativeTargetOrigin,v,ee),M&&GU(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=jt()),xr(M,this.relativeTarget)),k&&(this.animationValues=m,BU(m,f,this.latestValues,ee,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{Ad.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=VU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&eC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||jt();const g=Mn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const v=Mn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}xr(u,h),Xa(u,m),qu(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new QU),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&eg("z",l,f,this.animationValues);for(let m=0;m<Zm.length;m++)eg(`rotate${Zm[m]}`,l,f,this.animationValues),eg(`skew${Zm[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Id(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Id(u?.pointerEvents)||""),this.hasProjected&&!Lo(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=YU(this.projectionDeltaWithTransform,this.treeScale,m);h&&(g=h(m,g)),l.transform=g;const{x:v,y:_}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,f.animationValues?l.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in dc){if(m[C]===void 0)continue;const{correct:k,applyTo:N,isCSSVariable:L}=dc[C],B=g==="none"?m[C]:k(m[C],f);if(N){const M=N.length;for(let Y=0;Y<M;Y++)l[N[Y]]=B}else L?this.options.visualElement.renderState.vars[C]=B:l[C]=B}this.options.layoutId&&(l.pointerEvents=f===this?Id(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(gT),this.root.sharedNodes.clear()}}}function ZU(t){t.updateLayout()}function ez(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?wr(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],v=Mn(g);g.min=n[m].min,g.max=g.min+v}):eC(i,e.layoutBox,n)&&wr(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],v=Mn(n[m]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+v)});const l=Ja();qu(l,n,e.layoutBox);const u=Ja();o?qu(u,t.applyTransform(r,!0),e.measuredBox):qu(u,n,e.layoutBox);const h=!YA(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const _=jt();Hu(_,e.layoutBox,g.layoutBox);const C=jt();Hu(C,n,v.layoutBox),XA(_,C)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=_,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function tz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rz(t){t.clearSnapshot()}function gT(t){t.clearMeasurements()}function yT(t){t.isLayoutDirty=!1}function iz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sz(t){t.resolveTargetDelta()}function oz(t){t.calcProjection()}function az(t){t.resetSkewAndRotation()}function lz(t){t.removeLeadSnapshot()}function xT(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wT(t,e,n,r){t.min=At(e.min,n.min,r),t.max=At(e.max,n.max,r)}function uz(t,e,n,r){wT(t.x,e.x,n.x,r),wT(t.y,e.y,n.y,r)}function cz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hz={duration:.45,ease:[.4,0,.1,1]},_T=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ET=_T("applewebkit/")&&!_T("chrome/")?Math.round:Sr;function TT(t){t.min=ET(t.min),t.max=ET(t.max)}function dz(t){TT(t.x),TT(t.y)}function eC(t,e,n){return t==="position"||t==="preserve-aspect"&&!vU(pT(e),pT(n),.2)}function fz(t){return t!==t.root&&t.scroll?.wasRoot}const pz=ZA({attachResizeListener:(t,e)=>fc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tg={current:void 0},tC=ZA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tg.current){const t=new pz({});t.mount(window),t.setOptions({layoutScroll:!0}),tg.current=t}return tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mz={pan:{Feature:NU},drag:{Feature:DU,ProjectionNode:tC,MeasureLayout:KA}};function bT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&bt.postRender(()=>o(e,Dc(e)))}class gz extends so{mount(){const{current:e}=this.node;e&&(this.unmount=Vj(e,(n,r)=>(bT(this.node,r,"Start"),i=>bT(this.node,i,"End"))))}unmount(){}}class yz extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cc(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ST(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&bt.postRender(()=>o(e,Dc(e)))}class vz extends so{mount(){const{current:e}=this.node;e&&(this.unmount=zj(e,(n,r)=>(ST(this.node,r,"Start"),(i,{success:o})=>ST(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wy=new WeakMap,ng=new WeakMap,xz=t=>{const e=wy.get(t.target);e&&e(t)},wz=t=>{t.forEach(xz)};function _z({root:t,...e}){const n=t||document;ng.has(n)||ng.set(n,{});const r=ng.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(wz,{root:t,...e})),r[i]}function Ez(t,e,n){const r=_z(e);return wy.set(t,n),r.observe(t),()=>{wy.delete(t),r.unobserve(t)}}const Tz={some:0,all:1};class bz extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Tz[i]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=f?m:g;v&&v(h)};return Ez(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Sz(e,n))&&this.startObserver()}unmount(){}}function Sz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kz={inView:{Feature:bz},tap:{Feature:vz},focus:{Feature:yz},hover:{Feature:gz}},Iz={layout:{ProjectionNode:tC,MeasureLayout:KA}},Az={...dU,...kz,...mz,...Iz},wt=A9(Az,z9),Cz=Nv(Uv,"processDocument"),Pz=Nv(Uv,"chatQuery"),Rz=Nv(Uv,"deleteDocument"),Dz=async t=>{try{const e=Bs.currentUser;if(!e)throw new Error("Debes iniciar sesión para subir documentos");const r=`${Date.now()}_${t.name}`,i=`uploads/${r}`;console.log("Uploading file to Storage:",r);const o=uI(cI,i);console.log("Starting upload to Firebase Storage...");const l=U5(o,t),u=new Promise((g,v)=>setTimeout(()=>v(new Error("Upload timeout after 30 seconds")),3e4)),h=await Promise.race([l,u]);console.log("Upload completed, getting download URL...");const f=await z5(h.ref);console.log("Download URL obtained:",f),console.log("File uploaded successfully, creating Firestore document...");const m=await l3(Nk(Ka,"documents"),{name:t.name,size:t.size,type:t.type,url:f,filePath:h.ref.fullPath,status:"uploading",uploadedAt:$1(),userId:e.uid,error:null,chunkCount:0,processedAt:null});console.log("Document created in Firestore:",m.id),console.log("Updating document status to processing..."),await Om(ju(Ka,"documents",m.id),{status:"processing"}),console.log("Processing document with Cloud Function..."),console.log("Function call parameters:",{documentId:m.id,filePath:h.ref.fullPath,fileName:t.name,fileType:t.type,userId:e.uid});try{const g=new Promise((C,k)=>setTimeout(()=>k(new Error("Timeout: Cloud Function taking too long")),6e4));console.log("Calling processDocumentCall...");const v=Cz({documentId:m.id,filePath:h.ref.fullPath,fileName:t.name,fileType:t.type,userId:e.uid});console.log("processDocumentCall initiated");const _=await Promise.race([v,g]);console.log("Document processed successfully:",_),await Om(ju(Ka,"documents",m.id),{status:"ready",processedAt:$1()})}catch(g){throw console.error("Error processing document:",g),await Om(ju(Ka,"documents",m.id),{status:"error",error:g instanceof Error?g.message:"Unknown processing error"}),g}return{documentId:m.id,downloadURL:f,fileName:t.name}}catch(e){throw console.error("Error uploading document:",e),e}},Nz=t=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(t.type),Oz=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,r)*100)/100+" "+n[r]},Nc=()=>{const t=wb(),[e,n]=G.useState([]),[r,i]=G.useState(!0);G.useEffect(()=>{const g=Bs.onAuthStateChanged(v=>{if(console.log("Auth state changed:",v?.uid),!v){n([]),i(!1);return}const _=t3(Nk(Ka,"documents"),n3("userId","==",v.uid),r3("uploadedAt","desc")),C=u3(_,k=>{const N=k.docs.map(L=>({id:L.id,...L.data()}));console.log("Documents updated:",N),n(N),i(!1)},k=>{console.error("Error listening to documents:",k),i(!1)});return()=>C()});return()=>g()},[]);const o=l_({mutationFn:Dz,onSuccess:()=>{console.log("Document uploaded successfully"),t.invalidateQueries({queryKey:["documents"]})},onError:g=>{console.error("Error uploading document:",g)}}),l=l_({mutationFn:async g=>{const v=e.find(_=>_.id===g);if(!v)throw new Error("Document not found");try{await Rz({documentId:g})}catch(_){console.warn("Error calling delete function, continuing with local cleanup:",_)}try{const _=uI(cI,v.filePath);await B5(_)}catch(_){console.warn("Error deleting from storage:",_)}return await a3(ju(Ka,"documents",g)),g},onSuccess:g=>{console.log("Document deleted successfully:",g),t.invalidateQueries({queryKey:["documents"]})},onError:g=>{console.error("Error deleting document:",g)}}),u=g=>e.filter(v=>v.status===g),h=()=>e.filter(g=>g.status==="ready"),f=()=>e.filter(g=>["uploading","processing"].includes(g.status)),m=()=>e.filter(g=>g.status==="error");return{documents:e,isLoading:r,uploadDocument:o.mutate,isUploading:o.isPending,uploadError:o.error,deleteDocument:l.mutate,isDeleting:l.isPending,deleteError:l.error,getDocumentsByStatus:u,getReadyDocuments:h,getProcessingDocuments:f,getErrorDocuments:m,totalDocuments:e.length,readyDocuments:h().length,processingDocuments:f().length,errorDocuments:m().length}},Mz=()=>{const{uploadDocument:t,isUploading:e,uploadError:n}=Nc(),r=async h=>{console.log("Files dropped:",h);for(const f of h){if(!Nz(f)){console.error("Invalid file type:",f.type);continue}if(f.size>10485760){console.error("File too large:",f.size);continue}try{await t(f)}catch(m){console.error("Error uploading file:",m)}}},{getRootProps:i,getInputProps:o,isDragActive:l,fileRejections:u}=TI({accept:{"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"]},maxSize:10485760,multiple:!0,onDrop:r,disabled:e});return b.jsx(wt.div,{className:"h-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:b.jsxs("div",{className:"color-card upload-card",style:{height:"100%",display:"flex",flexDirection:"column",paddingBottom:"32px"},children:[b.jsx("div",{className:"flex items-center justify-between mb-6",children:b.jsx("h2",{className:"upload-title",children:"Subir Documentos"})}),b.jsxs("div",{...i(),className:`
            relative border-2 border-dashed rounded-2xl px-4 py-4 text-center cursor-pointer
            transition-all duration-300 flex-1 flex flex-col items-center justify-center
            hover-lift interactive
            ${l?"border-blue-400 bg-blue-50 scale-102":e?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-300 hover:border-blue-300 hover:bg-blue-50/50"}
          `,children:[b.jsx("input",{...o()}),b.jsx("div",{className:"relative z-10",children:e?b.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[b.jsx("div",{className:"relative",children:b.jsx("div",{className:"w-12 h-12 border-3 border-blue-200 rounded-full animate-spin border-t-blue-600"})}),b.jsx("div",{className:"text-center",children:b.jsx("p",{className:"text-gray-700 font-medium text-sm",children:"Subiendo..."})})]}):b.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[b.jsx("div",{className:`
                  relative p-3 rounded-xl transition-all duration-300
                  ${l?"bg-blue-100 shadow-lg scale-110":"bg-gray-100 hover:bg-blue-50"}
                `,children:b.jsx(OR,{className:`
                    w-8 h-8 transition-colors duration-300
                    ${l?"text-blue-600":"text-gray-500"}
                  `})}),b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-gray-700 font-medium text-sm",children:l?"Suelta archivos aquí":"Arrastra archivos o haz click"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOCX, TXT (máx. 10MB)"})]})]})})]}),(n||u.length>0)&&b.jsx(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx(Eb,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"text-sm font-semibold text-red-800",children:"Error al subir archivo"}),n&&b.jsx("p",{className:"text-sm text-red-700 mt-1",children:n instanceof Error?n.message:"Error desconocido"}),u.map((h,f)=>b.jsxs("div",{className:"text-sm text-red-700 mt-2",children:[b.jsx("strong",{className:"font-medium",children:h.file.name}),":",b.jsx("ul",{className:"list-disc list-inside ml-3 mt-1 space-y-1",children:h.errors.map((m,g)=>b.jsxs("li",{children:[m.code==="file-too-large"&&"Archivo muy grande (máx. 10MB)",m.code==="file-invalid-type"&&"Tipo de archivo no válido",m.code!=="file-too-large"&&m.code!=="file-invalid-type"&&m.message]},g))})]},f))]})]})})]})})},Lz=t=>t.includes("pdf")?b.jsx(Tb,{className:"h-5 w-5 text-red-500"}):t.includes("word")||t.includes("document")?b.jsx(Yu,{className:"h-5 w-5 text-blue-500"}):b.jsx(Yu,{className:"h-5 w-5 text-gray-500"}),Vz=Fr.memo(({document:t})=>{const e=n=>n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return b.jsxs(wt.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},style:{position:"relative",overflow:"hidden",borderRadius:"16px",background:"linear-gradient(145deg, #ffffff 0%, #f9fafb 100%)",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.03)",border:"1px solid rgba(0, 0, 0, 0.05)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",height:"140px",minHeight:"140px",maxHeight:"140px",width:"100%",minWidth:"0",maxWidth:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box"},onMouseEnter:n=>{n.currentTarget.style.boxShadow="0 20px 40px rgba(0, 0, 0, 0.12), 0 0 40px rgba(59, 130, 246, 0.08)",n.currentTarget.style.transform="translateY(-2px)",n.currentTarget.style.borderColor="rgba(147, 197, 253, 0.3)"},onMouseLeave:n=>{n.currentTarget.style.boxShadow="0 10px 30px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04)",n.currentTarget.style.transform="translateY(0)",n.currentTarget.style.borderColor="rgba(0, 0, 0, 0.05)"},children:[b.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #8b5cf6 0%, #ec4899 25%, #ef4444 50%, #f59e0b 75%, #10b981 100%)",opacity:.8}}),b.jsx("div",{style:{position:"relative",display:"flex",alignItems:"start",justifyContent:"space-between"},children:b.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px",flex:1},children:[b.jsxs("div",{style:{position:"relative",flexShrink:0},children:[b.jsx("div",{style:{position:"absolute",inset:"-3px",background:"linear-gradient(135deg, #a78bfa 0%, #f9a8d4 100%)",borderRadius:"12px",filter:"blur(6px)",opacity:.4}}),b.jsx("div",{style:{position:"relative",padding:"8px",background:"white",borderRadius:"12px",border:"1px solid rgba(0, 0, 0, 0.05)",transition:"transform 0.3s ease",transform:"scale(1)"},onMouseEnter:n=>n.currentTarget.style.transform="scale(1.05) rotate(3deg)",onMouseLeave:n=>n.currentTarget.style.transform="scale(1) rotate(0deg)",children:Lz(t.type)})]}),b.jsxs("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:[b.jsx("h3",{style:{fontSize:"14px",fontWeight:"800",background:"linear-gradient(135deg, #1f2937 0%, #4b5563 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",transition:"all 0.3s ease",marginBottom:"2px",lineHeight:"1.2"},onMouseEnter:n=>{n.currentTarget.style.background="linear-gradient(135deg, #7c3aed 0%, #ec4899 50%, #3b82f6 100%)",n.currentTarget.style.webkitBackgroundClip="text",n.currentTarget.style.webkitTextFillColor="transparent"},onMouseLeave:n=>{n.currentTarget.style.background="linear-gradient(135deg, #1f2937 0%, #4b5563 100%)",n.currentTarget.style.webkitBackgroundClip="text",n.currentTarget.style.webkitTextFillColor="transparent"},children:t.name}),b.jsxs("div",{style:{marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px"},children:[b.jsxs("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",borderRadius:"100px",fontSize:"10px",fontWeight:"700",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",color:"#374151",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},children:["💾 ",Oz(t.size)]}),b.jsxs("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",borderRadius:"100px",fontSize:"10px",fontWeight:"700",background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",color:"#1e40af",border:"1px solid rgba(59, 130, 246, 0.2)",boxShadow:"0 1px 2px rgba(59, 130, 246, 0.1)"},children:["🕐 ",e(t.uploadedAt)]}),t.chunkCount&&b.jsxs("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",borderRadius:"100px",fontSize:"10px",fontWeight:"700",background:"linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%)",color:"#6b21a8",border:"1px solid rgba(147, 51, 234, 0.2)",boxShadow:"0 1px 2px rgba(147, 51, 234, 0.1)"},children:["📦 ",t.chunkCount," chunks"]})]}),t.error&&b.jsx(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 text-xs text-red-700 bg-red-50 p-3 rounded-lg border border-red-200",children:b.jsxs("div",{className:"flex items-start space-x-2",children:[b.jsx(Eb,{className:"w-3 h-3 text-red-500 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("strong",{className:"font-semibold",children:"Error:"})," ",t.error]})]})})]})]})})]})}),Fz=()=>{const{documents:t,isLoading:e,totalDocuments:n}=Nc(),[r,i]=Fr.useState(window.innerWidth<1200);return Fr.useEffect(()=>{const o=()=>{i(window.innerWidth<1200)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),e?b.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:b.jsxs("div",{className:"animate-pulse space-y-4",children:[b.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),b.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>b.jsx("div",{className:"h-16 bg-gray-200 rounded"},o))})]})}):b.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},style:{background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:"24px",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.08), 0 0 40px rgba(59, 130, 246, 0.05)",height:"100%",display:"flex",flexDirection:"column",padding:"32px",backdropFilter:"blur(20px)"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",borderBottom:"2px solid",borderImage:"linear-gradient(90deg, #ec4899, #8b5cf6, #3b82f6) 1",paddingBottom:"20px"},children:[b.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(135deg, #1e40af 0%, #6366f1 50%, #8b5cf6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-0.02em",marginBottom:"20px",overflow:"visible",maxHeight:"none",height:"auto",whiteSpace:"nowrap",textOverflow:"visible",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:"Mis Documentos"}),n>0&&b.jsxs("div",{style:{background:"linear-gradient(135deg, #fce7f3 0%, #ddd6fe 100%)",padding:"8px 20px",borderRadius:"100px",fontSize:"14px",fontWeight:"700",color:"#7c3aed",border:"2px solid rgba(124, 58, 237, 0.2)",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.15)"},children:[n," ",n===1?"doc":"docs"]})]}),b.jsx("div",{style:{flex:1,overflow:"visible",padding:"4px",marginTop:"8px"},children:t.length===0?b.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{textAlign:"center",paddingTop:"60px",paddingBottom:"60px"},children:[b.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[b.jsx("div",{style:{position:"absolute",inset:"-20px",background:"radial-gradient(circle, rgba(147, 197, 253, 0.3) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(20px)"}}),b.jsx("div",{style:{position:"relative",width:"100px",height:"100px",background:"linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)",border:"2px solid rgba(255, 255, 255, 0.8)"},children:b.jsx(Tb,{style:{width:"48px",height:"48px",color:"#6b7280"}})})]}),b.jsx("p",{style:{fontSize:"22px",fontWeight:"800",color:"#1f2937",marginBottom:"12px"},children:"No hay documentos"}),b.jsx("p",{style:{fontSize:"16px",color:"#6b7280",fontWeight:"500"},children:"Sube algunos archivos para empezar a chatear 💬"})]}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:r?"1fr":"repeat(2, 1fr)",gap:"16px",width:"100%",boxSizing:"border-box"},children:b.jsx(f0,{mode:"popLayout",children:t.map((o,l)=>b.jsx(wt.div,{layout:!0,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{delay:l*.05,duration:.3,type:"spring",stiffness:200},style:{width:"100%",height:"100%",boxSizing:"border-box"},children:b.jsx(Vz,{document:o})},o.id))})})})]})},kT=t=>{let e;const n=new Set,r=(f,m)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const v=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(_=>_(e,v))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(r,i,u);return u},jz=(t=>t?kT(t):kT),Uz=t=>t;function zz(t,e=Uz){const n=Fr.useSyncExternalStore(t.subscribe,Fr.useCallback(()=>e(t.getState()),[t,e]),Fr.useCallback(()=>e(t.getInitialState()),[t,e]));return Fr.useDebugValue(n),n}const Bz=t=>{const e=jz(t),n=r=>zz(e,r);return Object.assign(n,e),n},$z=(t=>Bz);function qz(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const l=h=>h===null?null:JSON.parse(h,void 0),u=(o=n.getItem(i))!=null?o:null;return u instanceof Promise?u.then(l):l(u)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const _y=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return _y(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return _y(r)(n)}}}},Hz=(t,e)=>(n,r,i)=>{let o={storage:qz(()=>localStorage),partialize:k=>k,version:0,merge:(k,N)=>({...N,...k}),...e},l=!1;const u=new Set,h=new Set;let f=o.storage;if(!f)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...k)},r,i);const m=()=>{const k=o.partialize({...r()});return f.setItem(o.name,{state:k,version:o.version})},g=i.setState;i.setState=(k,N)=>(g(k,N),m());const v=t((...k)=>(n(...k),m()),r,i);i.getInitialState=()=>v;let _;const C=()=>{var k,N;if(!f)return;l=!1,u.forEach(B=>{var M;return B((M=r())!=null?M:v)});const L=((N=o.onRehydrateStorage)==null?void 0:N.call(o,(k=r())!=null?k:v))||void 0;return _y(f.getItem.bind(f))(o.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==o.version){if(o.migrate){const M=o.migrate(B.state,B.version);return M instanceof Promise?M.then(Y=>[!0,Y]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var M;const[Y,ee]=B;if(_=o.merge(ee,(M=r())!=null?M:v),n(_,!0),Y)return m()}).then(()=>{L?.(_,void 0),_=r(),l=!0,h.forEach(B=>B(_))}).catch(B=>{L?.(void 0,B)})};return i.persist={setOptions:k=>{o={...o,...k},k.storage&&(f=k.storage)},clearStorage:()=>{f?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>C(),hasHydrated:()=>l,onHydrate:k=>(u.add(k),()=>{u.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},o.skipHydration||C(),_||v},Wz=Hz,nC=$z()(Wz((t,e)=>({messages:[{id:"welcome",type:"assistant",content:"¡Hola! Soy tu asistente de documentos. Sube archivos y hazme cualquier pregunta sobre su contenido. Puedo ayudarte a encontrar información específica, resumir contenido y responder preguntas basadas en tus documentos.",timestamp:new Date}],isLoading:!1,selectedDocuments:[],conversationId:null,addMessage:n=>{const r={...n,id:`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};t(i=>({messages:[...i.messages,r]}))},sendQuery:async n=>{const{selectedDocuments:r,addMessage:i,conversationId:o}=e();if(r.length===0){i({type:"assistant",content:"Por favor, selecciona al menos un documento antes de hacer una pregunta.",isError:!0});return}if(n.trim()){i({type:"user",content:n}),t({isLoading:!0});try{console.log("Sending query to backend:",{query:n,selectedDocuments:r});const l=await Pz({query:n.trim(),documentIds:r,conversationId:o||void 0});console.log("Query result:",l);const u=l.data;i({type:"assistant",content:u.response,sources:u.sources}),o||t({conversationId:u.chatId})}catch(l){console.error("Error sending query:",l),i({type:"assistant",content:"Lo siento, hubo un error procesando tu pregunta. Por favor, intenta de nuevo.",isError:!0})}finally{t({isLoading:!1})}}},setSelectedDocuments:n=>{console.log("Setting selected documents:",n),t({selectedDocuments:n})},clearMessages:()=>{t({messages:[{id:"welcome",type:"assistant",content:"¡Hola! Soy tu asistente de documentos. Sube archivos y hazme cualquier pregunta sobre su contenido.",timestamp:new Date}]})},startNewConversation:()=>{t({conversationId:null,messages:[{id:"welcome",type:"assistant",content:"¡Nueva conversación iniciada! ¿En qué puedo ayudarte hoy?",timestamp:new Date}]})},removeMessage:n=>{t(r=>({messages:r.messages.filter(i=>i.id!==n)}))}}),{name:"chat-store",partialize:t=>({messages:t.messages,conversationId:t.conversationId})}));function Kz(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Gz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yz={};function IT(t,e){return(Yz.jsx?Qz:Gz).test(t)}const Xz=/[ \t\n\f\r]/g;function Jz(t){return typeof t=="object"?t.type==="text"?AT(t.value):!1:AT(t)}function AT(t){return t.replace(Xz,"")===""}class Oc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Oc.prototype.normal={};Oc.prototype.property={};Oc.prototype.space=void 0;function rC(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Oc(n,r,e)}function Ey(t){return t.toLowerCase()}class Qn{constructor(e,n){this.attribute=n,this.property=e}}Qn.prototype.attribute="";Qn.prototype.booleanish=!1;Qn.prototype.boolean=!1;Qn.prototype.commaOrSpaceSeparated=!1;Qn.prototype.commaSeparated=!1;Qn.prototype.defined=!1;Qn.prototype.mustUseProperty=!1;Qn.prototype.number=!1;Qn.prototype.overloadedBoolean=!1;Qn.prototype.property="";Qn.prototype.spaceSeparated=!1;Qn.prototype.space=void 0;let Zz=0;const $e=sa(),qt=sa(),Ty=sa(),ce=sa(),pt=sa(),sl=sa(),or=sa();function sa(){return 2**++Zz}const by=Object.freeze(Object.defineProperty({__proto__:null,boolean:$e,booleanish:qt,commaOrSpaceSeparated:or,commaSeparated:sl,number:ce,overloadedBoolean:Ty,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),rg=Object.keys(by);class T0 extends Qn{constructor(e,n,r,i){let o=-1;if(super(e,n),CT(this,"space",i),typeof r=="number")for(;++o<rg.length;){const l=rg[o];CT(this,rg[o],(r&by[l])===by[l])}}}T0.prototype.defined=!0;function CT(t,e,n){n&&(t[e]=n)}function Cl(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new T0(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[Ey(r)]=r,n[Ey(o.attribute)]=r}return new Oc(e,n,t.space)}const iC=Cl({properties:{ariaActiveDescendant:null,ariaAtomic:qt,ariaAutoComplete:null,ariaBusy:qt,ariaChecked:qt,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:qt,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:qt,ariaFlowTo:pt,ariaGrabbed:qt,ariaHasPopup:null,ariaHidden:qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:ce,ariaLive:null,ariaModal:qt,ariaMultiLine:qt,ariaMultiSelectable:qt,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:qt,ariaReadOnly:qt,ariaRelevant:null,ariaRequired:qt,ariaRoleDescription:pt,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:qt,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function sC(t,e){return e in t?t[e]:e}function oC(t,e){return sC(t,e.toLowerCase())}const eB=Cl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sl,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:$e,allowPaymentRequest:$e,allowUserMedia:$e,alt:null,as:null,async:$e,autoCapitalize:null,autoComplete:pt,autoFocus:$e,autoPlay:$e,blocking:pt,capture:null,charSet:null,checked:$e,cite:null,className:pt,cols:ce,colSpan:null,content:null,contentEditable:qt,controls:$e,controlsList:pt,coords:ce|sl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$e,defer:$e,dir:null,dirName:null,disabled:$e,download:Ty,draggable:qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$e,formTarget:null,headers:pt,height:ce,hidden:Ty,high:ce,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:$e,inputMode:null,integrity:null,is:null,isMap:$e,itemId:null,itemProp:pt,itemRef:pt,itemScope:$e,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$e,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:$e,muted:$e,name:null,nonce:null,noModule:$e,noValidate:$e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$e,optimum:ce,pattern:null,ping:pt,placeholder:null,playsInline:$e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$e,referrerPolicy:null,rel:pt,required:$e,reversed:$e,rows:ce,rowSpan:ce,sandbox:pt,scope:null,scoped:$e,seamless:$e,selected:$e,shadowRootClonable:$e,shadowRootDelegatesFocus:$e,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:$e,useMap:null,value:qt,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$e,declare:$e,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:$e,noHref:$e,noShade:$e,noWrap:$e,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:qt,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$e,disableRemotePlayback:$e,prefix:null,property:null,results:ce,security:null,unselectable:null},space:"html",transform:oC}),tB=Cl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:or,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sl,g2:sl,glyphName:sl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:or,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:or,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:or,rev:or,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:or,requiredFeatures:or,requiredFonts:or,requiredFormats:or,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:or,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:or,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:or,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sC}),aC=Cl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),lC=Cl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oC}),uC=Cl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),nB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rB=/[A-Z]/g,PT=/-[a-z]/g,iB=/^data[-\w.:]+$/i;function sB(t,e){const n=Ey(e);let r=e,i=Qn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&iB.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(PT,aB);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!PT.test(o)){let l=o.replace(rB,oB);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=T0}return new i(r,e)}function oB(t){return"-"+t.toLowerCase()}function aB(t){return t.charAt(1).toUpperCase()}const lB=rC([iC,eB,aC,lC,uC],"html"),b0=rC([iC,tB,aC,lC,uC],"svg");function uB(t){return t.join(" ").trim()}var za={},ig,RT;function cB(){if(RT)return ig;RT=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,h=`
`,f="/",m="*",g="",v="comment",_="declaration";ig=function(k,N){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];N=N||{};var L=1,B=1;function M(P){var oe=P.match(e);oe&&(L+=oe.length);var pe=P.lastIndexOf(h);B=~pe?P.length-pe:B+P.length}function Y(){var P={line:L,column:B};return function(oe){return oe.position=new ee(P),S(),oe}}function ee(P){this.start=P,this.end={line:L,column:B},this.source=N.source}ee.prototype.content=k;function H(P){var oe=new Error(N.source+":"+L+":"+B+": "+P);if(oe.reason=P,oe.filename=N.source,oe.line=L,oe.column=B,oe.source=k,!N.silent)throw oe}function A(P){var oe=P.exec(k);if(oe){var pe=oe[0];return M(pe),k=k.slice(pe.length),oe}}function S(){A(n)}function D(P){var oe;for(P=P||[];oe=j();)oe!==!1&&P.push(oe);return P}function j(){var P=Y();if(!(f!=k.charAt(0)||m!=k.charAt(1))){for(var oe=2;g!=k.charAt(oe)&&(m!=k.charAt(oe)||f!=k.charAt(oe+1));)++oe;if(oe+=2,g===k.charAt(oe-1))return H("End of comment missing");var pe=k.slice(2,oe-2);return B+=2,M(pe),k=k.slice(oe),B+=2,P({type:v,comment:pe})}}function O(){var P=Y(),oe=A(r);if(oe){if(j(),!A(i))return H("property missing ':'");var pe=A(o),He=P({type:_,property:C(oe[0].replace(t,g)),value:pe?C(pe[0].replace(t,g)):g});return A(l),He}}function U(){var P=[];D(P);for(var oe;oe=O();)oe!==!1&&(P.push(oe),D(P));return P}return S(),U()};function C(k){return k?k.replace(u,g):g}return ig}var DT;function hB(){if(DT)return za;DT=1;var t=za&&za.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(za,"__esModule",{value:!0}),za.default=n;var e=t(cB());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var l=(0,e.default)(r),u=typeof i=="function";return l.forEach(function(h){if(h.type==="declaration"){var f=h.property,m=h.value;u?i(f,m,h):m&&(o=o||{},o[f]=m)}}),o}return za}var Eu={},NT;function dB(){if(NT)return Eu;NT=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},l=function(f,m){return m.toUpperCase()},u=function(f,m){return"".concat(m,"-")},h=function(f,m){return m===void 0&&(m={}),o(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(e,l))};return Eu.camelCase=h,Eu}var Tu,OT;function fB(){if(OT)return Tu;OT=1;var t=Tu&&Tu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(hB()),n=dB();function r(i,o){var l={};return!i||typeof i!="string"||(0,e.default)(i,function(u,h){u&&h&&(l[(0,n.camelCase)(u,o)]=h)}),l}return r.default=r,Tu=r,Tu}var pB=fB();const mB=xl(pB),cC=hC("end"),S0=hC("start");function hC(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function gB(t){const e=S0(t),n=cC(t);if(e&&n)return{start:e,end:n}}function Wu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?MT(t.position):"start"in t||"end"in t?MT(t):"line"in t||"column"in t?Sy(t):""}function Sy(t){return LT(t&&t.line)+":"+LT(t&&t.column)}function MT(t){return Sy(t&&t.start)+"-"+Sy(t&&t.end)}function LT(t){return t&&typeof t=="number"?t:1}class An extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?o.ruleId=r:(o.source=r.slice(0,h),o.ruleId=r.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Wu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}An.prototype.file="";An.prototype.name="";An.prototype.reason="";An.prototype.message="";An.prototype.stack="";An.prototype.column=void 0;An.prototype.line=void 0;An.prototype.ancestors=void 0;An.prototype.cause=void 0;An.prototype.fatal=void 0;An.prototype.place=void 0;An.prototype.ruleId=void 0;An.prototype.source=void 0;const k0={}.hasOwnProperty,yB=new Map,vB=/[A-Z]/g,xB=new Set(["table","tbody","thead","tfoot","tr"]),wB=new Set(["td","th"]),dC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _B(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=CB(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=AB(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?b0:lB,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=fC(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function fC(t,e,n){if(e.type==="element")return EB(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return TB(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return SB(t,e,n);if(e.type==="mdxjsEsm")return bB(t,e);if(e.type==="root")return kB(t,e,n);if(e.type==="text")return IB(t,e)}function EB(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=b0,t.schema=i),t.ancestors.push(e);const o=mC(t,e.tagName,!1),l=PB(t,e);let u=A0(t,e);return xB.has(e.tagName)&&(u=u.filter(function(h){return typeof h=="string"?!Jz(h):!0})),pC(t,l,o,e),I0(l,u),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function TB(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}pc(t,e.position)}function bB(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);pc(t,e.position)}function SB(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=b0,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:mC(t,e.name,!0),l=RB(t,e),u=A0(t,e);return pC(t,l,o,e),I0(l,u),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function kB(t,e,n){const r={};return I0(r,A0(t,e)),t.create(e,t.Fragment,r,n)}function IB(t,e){return e.value}function pC(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function I0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function AB(t,e,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:e;return u?f(o,l,u):f(o,l)}}function CB(t,e){return n;function n(r,i,o,l){const u=Array.isArray(o.children),h=S0(r);return e(i,o,l,u,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function PB(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&k0.call(e.properties,i)){const o=DB(t,i,e.properties[i]);if(o){const[l,u]=o;t.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&wB.has(e.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function RB(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else pc(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,o=t.evaluater.evaluateExpression(u.expression)}else pc(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function A0(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:yB;for(;++r<e.children.length;){const o=e.children[r];let l;if(t.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const f=i.get(h)||0;l=h+"-"+f,i.set(h,f+1)}}const u=fC(t,o,l);u!==void 0&&n.push(u)}return n}function DB(t,e,n){const r=sB(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Kz(n):uB(n)),r.property==="style"){let i=typeof n=="object"?n:NB(t,String(n));return t.stylePropertyNameCase==="css"&&(i=OB(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?nB[r.property]||r.property:r.attribute,n]}}function NB(t,e){try{return mB(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new An("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=dC+"#cannot-parse-style-attribute",i}}function mC(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,l;for(;++o<i.length;){const u=IT(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=IT(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return k0.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);pc(t)}function pc(t,e){const n=new An("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=dC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function OB(t){const e={};let n;for(n in t)k0.call(t,n)&&(e[MB(n)]=t[n]);return e}function MB(t){let e=t.replace(vB,LB);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function LB(t){return"-"+t.toLowerCase()}const sg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},VB={};function FB(t,e){const n=VB,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return gC(t,r,i)}function gC(t,e,n){if(jB(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return VT(t.children,e,n)}return Array.isArray(t)?VT(t,e,n):""}function VT(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=gC(t[i],e,n);return r.join("")}function jB(t){return!!(t&&typeof t=="object")}const FT=document.createElement("i");function C0(t){const e="&"+t+";";FT.innerHTML=e;const n=FT.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function bi(t,e,n,r){const i=t.length;let o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function Er(t,e){return t.length>0?(bi(t,t.length,0,e),t):e}const jT={}.hasOwnProperty;function UB(t){const e={};let n=-1;for(;++n<t.length;)zB(e,t[n]);return e}function zB(t,e){let n;for(n in e){const i=(jT.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){jT.call(i,l)||(i[l]=[]);const u=o[l];BB(i[l],Array.isArray(u)?u:u?[u]:[])}}}function BB(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);bi(t,0,0,r)}function yC(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ol(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const di=oo(/[A-Za-z]/),ur=oo(/[\dA-Za-z]/),$B=oo(/[#-'*+\--9=?A-Z^-~]/);function ky(t){return t!==null&&(t<32||t===127)}const Iy=oo(/\d/),qB=oo(/[\dA-Fa-f]/),HB=oo(/[!-/:-@[-`{-~]/);function Le(t){return t!==null&&t<-2}function Gn(t){return t!==null&&(t<0||t===32)}function nt(t){return t===-2||t===-1||t===32}const WB=oo(new RegExp("\\p{P}|\\p{S}","u")),KB=oo(/\s/);function oo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Pl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let l="";if(o===37&&ur(t.charCodeAt(n+1))&&ur(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=t.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l="�"}else l=String.fromCharCode(o);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function gt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return nt(h)?(t.enter(n),u(h)):e(h)}function u(h){return nt(h)&&o++<i?(t.consume(h),u):(t.exit(n),e(h))}}const GB={tokenize:QB};function QB(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),gt(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),o(u)}function o(u){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return Le(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),l)}}const YB={tokenize:XB},UT={tokenize:JB};function XB(t){const e=this,n=[];let r=0,i,o,l;return u;function u(M){if(r<n.length){const Y=n[r];return e.containerState=Y[1],t.attempt(Y[0].continuation,h,f)(M)}return f(M)}function h(M){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&B();const Y=e.events.length;let ee=Y,H;for(;ee--;)if(e.events[ee][0]==="exit"&&e.events[ee][1].type==="chunkFlow"){H=e.events[ee][1].end;break}L(r);let A=Y;for(;A<e.events.length;)e.events[A][1].end={...H},A++;return bi(e.events,ee+1,0,e.events.slice(Y)),e.events.length=A,f(M)}return u(M)}function f(M){if(r===n.length){if(!i)return v(M);if(i.currentConstruct&&i.currentConstruct.concrete)return C(M);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(UT,m,g)(M)}function m(M){return i&&B(),L(r),v(M)}function g(M){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,C(M)}function v(M){return e.containerState={},t.attempt(UT,_,C)(M)}function _(M){return r++,n.push([e.currentConstruct,e.containerState]),v(M)}function C(M){if(M===null){i&&B(),L(0),t.consume(M);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),k(M)}function k(M){if(M===null){N(t.exit("chunkFlow"),!0),L(0),t.consume(M);return}return Le(M)?(t.consume(M),N(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(M),k)}function N(M,Y){const ee=e.sliceStream(M);if(Y&&ee.push(null),M.previous=o,o&&(o.next=M),o=M,i.defineSkip(M.start),i.write(ee),e.parser.lazy[M.start.line]){let H=i.events.length;for(;H--;)if(i.events[H][1].start.offset<l&&(!i.events[H][1].end||i.events[H][1].end.offset>l))return;const A=e.events.length;let S=A,D,j;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){if(D){j=e.events[S][1].end;break}D=!0}for(L(r),H=A;H<e.events.length;)e.events[H][1].end={...j},H++;bi(e.events,S+1,0,e.events.slice(A)),e.events.length=H}}function L(M){let Y=n.length;for(;Y-- >M;){const ee=n[Y];e.containerState=ee[1],ee[0].exit.call(e,t)}n.length=M}function B(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function JB(t,e,n){return gt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zT(t){if(t===null||Gn(t)||KB(t))return 1;if(WB(t))return 2}function P0(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const Ay={name:"attention",resolveAll:ZB,tokenize:e8};function ZB(t,e){let n=-1,r,i,o,l,u,h,f,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},v={...t[n][1].start};BT(g,-h),BT(v,h),l={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},o={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:h>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=Er(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=Er(f,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),f=Er(f,P0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=Er(f,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,f=Er(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,bi(t,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function e8(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zT(r);let o;return l;function l(h){return o=h,t.enter("attentionSequence"),u(h)}function u(h){if(h===o)return t.consume(h),u;const f=t.exit("attentionSequence"),m=zT(h),g=!m||m===2&&i||n.includes(h),v=!i||i===2&&m||n.includes(r);return f._open=!!(o===42?g:g&&(i||!v)),f._close=!!(o===42?v:v&&(m||!g)),e(h)}}function BT(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const t8={name:"autolink",tokenize:n8};function n8(t,e,n){let r=0;return i;function i(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(_){return di(_)?(t.consume(_),l):_===64?n(_):f(_)}function l(_){return _===43||_===45||_===46||ur(_)?(r=1,u(_)):f(_)}function u(_){return _===58?(t.consume(_),r=0,h):(_===43||_===45||_===46||ur(_))&&r++<32?(t.consume(_),u):(r=0,f(_))}function h(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||ky(_)?n(_):(t.consume(_),h)}function f(_){return _===64?(t.consume(_),m):$B(_)?(t.consume(_),f):n(_)}function m(_){return ur(_)?g(_):n(_)}function g(_){return _===46?(t.consume(_),r=0,m):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):v(_)}function v(_){if((_===45||ur(_))&&r++<63){const C=_===45?v:g;return t.consume(_),C}return n(_)}}const $f={partial:!0,tokenize:r8};function r8(t,e,n){return r;function r(o){return nt(o)?gt(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Le(o)?e(o):n(o)}}const vC={continuation:{tokenize:s8},exit:o8,name:"blockQuote",tokenize:i8};function i8(t,e,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return nt(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function s8(t,e,n){const r=this;return i;function i(l){return nt(l)?gt(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(vC,e,n)(l)}}function o8(t){t.exit("blockQuote")}const xC={name:"characterEscape",tokenize:a8};function a8(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return HB(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const wC={name:"characterReference",tokenize:l8};function l8(t,e,n){const r=this;let i=0,o,l;return u;function u(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),h}function h(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,l=ur,m(g))}function f(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=qB,m):(t.enter("characterReferenceValue"),o=7,l=Iy,m(g))}function m(g){if(g===59&&i){const v=t.exit("characterReferenceValue");return l===ur&&!C0(r.sliceSerialize(v))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&i++<o?(t.consume(g),m):n(g)}}const $T={partial:!0,tokenize:c8},qT={concrete:!0,name:"codeFenced",tokenize:u8};function u8(t,e,n){const r=this,i={partial:!0,tokenize:ee};let o=0,l=0,u;return h;function h(H){return f(H)}function f(H){const A=r.events[r.events.length-1];return o=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,u=H,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(H)}function m(H){return H===u?(l++,t.consume(H),m):l<3?n(H):(t.exit("codeFencedFenceSequence"),nt(H)?gt(t,g,"whitespace")(H):g(H))}function g(H){return H===null||Le(H)?(t.exit("codeFencedFence"),r.interrupt?e(H):t.check($T,k,Y)(H)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(H))}function v(H){return H===null||Le(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(H)):nt(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),gt(t,_,"whitespace")(H)):H===96&&H===u?n(H):(t.consume(H),v)}function _(H){return H===null||Le(H)?g(H):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(H))}function C(H){return H===null||Le(H)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(H)):H===96&&H===u?n(H):(t.consume(H),C)}function k(H){return t.attempt(i,Y,N)(H)}function N(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),L}function L(H){return o>0&&nt(H)?gt(t,B,"linePrefix",o+1)(H):B(H)}function B(H){return H===null||Le(H)?t.check($T,k,Y)(H):(t.enter("codeFlowValue"),M(H))}function M(H){return H===null||Le(H)?(t.exit("codeFlowValue"),B(H)):(t.consume(H),M)}function Y(H){return t.exit("codeFenced"),e(H)}function ee(H,A,S){let D=0;return j;function j(pe){return H.enter("lineEnding"),H.consume(pe),H.exit("lineEnding"),O}function O(pe){return H.enter("codeFencedFence"),nt(pe)?gt(H,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):U(pe)}function U(pe){return pe===u?(H.enter("codeFencedFenceSequence"),P(pe)):S(pe)}function P(pe){return pe===u?(D++,H.consume(pe),P):D>=l?(H.exit("codeFencedFenceSequence"),nt(pe)?gt(H,oe,"whitespace")(pe):oe(pe)):S(pe)}function oe(pe){return pe===null||Le(pe)?(H.exit("codeFencedFence"),A(pe)):S(pe)}}}function c8(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const og={name:"codeIndented",tokenize:d8},h8={partial:!0,tokenize:f8};function d8(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),gt(t,o,"linePrefix",5)(f)}function o(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?h(f):Le(f)?t.attempt(h8,l,h)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||Le(f)?(t.exit("codeFlowValue"),l(f)):(t.consume(f),u)}function h(f){return t.exit("codeIndented"),e(f)}}function f8(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Le(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):gt(t,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):Le(l)?i(l):n(l)}}const p8={name:"codeText",previous:g8,resolve:m8,tokenize:y8};function m8(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function g8(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function y8(t,e,n){let r=0,i,o;return l;function l(g){return t.enter("codeText"),t.enter("codeTextSequence"),u(g)}function u(g){return g===96?(t.consume(g),r++,u):(t.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),h):g===96?(o=t.enter("codeTextSequence"),i=0,m(g)):Le(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),h):(t.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||Le(g)?(t.exit("codeTextData"),h(g)):(t.consume(g),f)}function m(g){return g===96?(t.consume(g),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(o.type="codeTextData",f(g))}}class v8{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bu(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bu(this.left,n.reverse())}}}function bu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function _C(t){const e={};let n=-1,r,i,o,l,u,h,f;const m=new v8(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,x8(m,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=m.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},u=m.slice(i,n),u.unshift(r),m.splice(i,n-i+1,u))}}return bi(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function x8(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,h=[],f={};let m,g,v=-1,_=n,C=0,k=0;const N=[k];for(;_;){for(;t.get(++i)[1]!==_;);o.push(i),_._tokenizer||(m=r.sliceStream(_),_.next||m.push(null),g&&l.defineSkip(_.start),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=_,_=_.next}for(_=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(k=v+1,N.push(k),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(l.events=[],_?(_._tokenizer=void 0,_.previous=void 0):N.pop(),v=N.length;v--;){const L=u.slice(N[v],N[v+1]),B=o.pop();h.push([B,B+L.length-1]),t.splice(B,2,L)}for(h.reverse(),v=-1;++v<h.length;)f[C+h[v][0]]=C+h[v][1],C+=h[v][1]-h[v][0]-1;return f}const w8={resolve:E8,tokenize:T8},_8={partial:!0,tokenize:b8};function E8(t){return _C(t),t}function T8(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Le(u)?t.check(_8,l,o)(u):(t.consume(u),i)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function b8(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),gt(t,o,"linePrefix")}function o(l){if(l===null||Le(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function EC(t,e,n,r,i,o,l,u,h){const f=h||Number.POSITIVE_INFINITY;let m=0;return g;function g(L){return L===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(L),t.exit(o),v):L===null||L===32||L===41||ky(L)?n(L):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),k(L))}function v(L){return L===62?(t.enter(o),t.consume(L),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),_(L))}function _(L){return L===62?(t.exit("chunkString"),t.exit(u),v(L)):L===null||L===60||Le(L)?n(L):(t.consume(L),L===92?C:_)}function C(L){return L===60||L===62||L===92?(t.consume(L),_):_(L)}function k(L){return!m&&(L===null||L===41||Gn(L))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(L)):m<f&&L===40?(t.consume(L),m++,k):L===41?(t.consume(L),m--,k):L===null||L===32||L===40||ky(L)?n(L):(t.consume(L),L===92?N:k)}function N(L){return L===40||L===41||L===92?(t.consume(L),k):k(L)}}function TC(t,e,n,r,i,o){const l=this;let u=0,h;return f;function f(_){return t.enter(r),t.enter(i),t.consume(_),t.exit(i),t.enter(o),m}function m(_){return u>999||_===null||_===91||_===93&&!h||_===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(_):_===93?(t.exit(o),t.enter(i),t.consume(_),t.exit(i),t.exit(r),e):Le(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||_===91||_===93||Le(_)||u++>999?(t.exit("chunkString"),m(_)):(t.consume(_),h||(h=!nt(_)),_===92?v:g)}function v(_){return _===91||_===92||_===93?(t.consume(_),u++,g):g(_)}}function bC(t,e,n,r,i,o){let l;return u;function u(v){return v===34||v===39||v===40?(t.enter(r),t.enter(i),t.consume(v),t.exit(i),l=v===40?41:v,h):n(v)}function h(v){return v===l?(t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):(t.enter(o),f(v))}function f(v){return v===l?(t.exit(o),h(l)):v===null?n(v):Le(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),gt(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===l||v===null||Le(v)?(t.exit("chunkString"),f(v)):(t.consume(v),v===92?g:m)}function g(v){return v===l||v===92?(t.consume(v),m):m(v)}}function Ku(t,e){let n;return r;function r(i){return Le(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):nt(i)?gt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const S8={name:"definition",tokenize:I8},k8={partial:!0,tokenize:A8};function I8(t,e,n){const r=this;let i;return o;function o(_){return t.enter("definition"),l(_)}function l(_){return TC.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function u(_){return i=ol(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),h):n(_)}function h(_){return Gn(_)?Ku(t,f)(_):f(_)}function f(_){return EC(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function m(_){return t.attempt(k8,g,g)(_)}function g(_){return nt(_)?gt(t,v,"whitespace")(_):v(_)}function v(_){return _===null||Le(_)?(t.exit("definition"),r.parser.defined.push(i),e(_)):n(_)}}function A8(t,e,n){return r;function r(u){return Gn(u)?Ku(t,i)(u):n(u)}function i(u){return bC(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return nt(u)?gt(t,l,"whitespace")(u):l(u)}function l(u){return u===null||Le(u)?e(u):n(u)}}const C8={name:"hardBreakEscape",tokenize:P8};function P8(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Le(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const R8={name:"headingAtx",resolve:D8,tokenize:N8};function D8(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},bi(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function N8(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),o(m)}function o(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(t.consume(m),l):m===null||Gn(m)?(t.exit("atxHeadingSequence"),u(m)):n(m)}function u(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||Le(m)?(t.exit("atxHeading"),e(m)):nt(m)?gt(t,u,"whitespace")(m):(t.enter("atxHeadingText"),f(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),u(m))}function f(m){return m===null||m===35||Gn(m)?(t.exit("atxHeadingText"),u(m)):(t.consume(m),f)}}const O8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],HT=["pre","script","style","textarea"],M8={concrete:!0,name:"htmlFlow",resolveTo:F8,tokenize:j8},L8={partial:!0,tokenize:z8},V8={partial:!0,tokenize:U8};function F8(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function j8(t,e,n){const r=this;let i,o,l,u,h;return f;function f(F){return m(F)}function m(F){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(F),g}function g(F){return F===33?(t.consume(F),v):F===47?(t.consume(F),o=!0,k):F===63?(t.consume(F),i=3,r.interrupt?e:R):di(F)?(t.consume(F),l=String.fromCharCode(F),N):n(F)}function v(F){return F===45?(t.consume(F),i=2,_):F===91?(t.consume(F),i=5,u=0,C):di(F)?(t.consume(F),i=4,r.interrupt?e:R):n(F)}function _(F){return F===45?(t.consume(F),r.interrupt?e:R):n(F)}function C(F){const Se="CDATA[";return F===Se.charCodeAt(u++)?(t.consume(F),u===Se.length?r.interrupt?e:U:C):n(F)}function k(F){return di(F)?(t.consume(F),l=String.fromCharCode(F),N):n(F)}function N(F){if(F===null||F===47||F===62||Gn(F)){const Se=F===47,Oe=l.toLowerCase();return!Se&&!o&&HT.includes(Oe)?(i=1,r.interrupt?e(F):U(F)):O8.includes(l.toLowerCase())?(i=6,Se?(t.consume(F),L):r.interrupt?e(F):U(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):o?B(F):M(F))}return F===45||ur(F)?(t.consume(F),l+=String.fromCharCode(F),N):n(F)}function L(F){return F===62?(t.consume(F),r.interrupt?e:U):n(F)}function B(F){return nt(F)?(t.consume(F),B):j(F)}function M(F){return F===47?(t.consume(F),j):F===58||F===95||di(F)?(t.consume(F),Y):nt(F)?(t.consume(F),M):j(F)}function Y(F){return F===45||F===46||F===58||F===95||ur(F)?(t.consume(F),Y):ee(F)}function ee(F){return F===61?(t.consume(F),H):nt(F)?(t.consume(F),ee):M(F)}function H(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),h=F,A):nt(F)?(t.consume(F),H):S(F)}function A(F){return F===h?(t.consume(F),h=null,D):F===null||Le(F)?n(F):(t.consume(F),A)}function S(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Gn(F)?ee(F):(t.consume(F),S)}function D(F){return F===47||F===62||nt(F)?M(F):n(F)}function j(F){return F===62?(t.consume(F),O):n(F)}function O(F){return F===null||Le(F)?U(F):nt(F)?(t.consume(F),O):n(F)}function U(F){return F===45&&i===2?(t.consume(F),He):F===60&&i===1?(t.consume(F),Ee):F===62&&i===4?(t.consume(F),q):F===63&&i===3?(t.consume(F),R):F===93&&i===5?(t.consume(F),de):Le(F)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(L8,te,P)(F)):F===null||Le(F)?(t.exit("htmlFlowData"),P(F)):(t.consume(F),U)}function P(F){return t.check(V8,oe,te)(F)}function oe(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),pe}function pe(F){return F===null||Le(F)?P(F):(t.enter("htmlFlowData"),U(F))}function He(F){return F===45?(t.consume(F),R):U(F)}function Ee(F){return F===47?(t.consume(F),l="",ie):U(F)}function ie(F){if(F===62){const Se=l.toLowerCase();return HT.includes(Se)?(t.consume(F),q):U(F)}return di(F)&&l.length<8?(t.consume(F),l+=String.fromCharCode(F),ie):U(F)}function de(F){return F===93?(t.consume(F),R):U(F)}function R(F){return F===62?(t.consume(F),q):F===45&&i===2?(t.consume(F),R):U(F)}function q(F){return F===null||Le(F)?(t.exit("htmlFlowData"),te(F)):(t.consume(F),q)}function te(F){return t.exit("htmlFlow"),e(F)}}function U8(t,e,n){const r=this;return i;function i(l){return Le(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function z8(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt($f,e,n)}}const B8={name:"htmlText",tokenize:$8};function $8(t,e,n){const r=this;let i,o,l;return u;function u(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),h}function h(R){return R===33?(t.consume(R),f):R===47?(t.consume(R),ee):R===63?(t.consume(R),M):di(R)?(t.consume(R),S):n(R)}function f(R){return R===45?(t.consume(R),m):R===91?(t.consume(R),o=0,C):di(R)?(t.consume(R),B):n(R)}function m(R){return R===45?(t.consume(R),_):n(R)}function g(R){return R===null?n(R):R===45?(t.consume(R),v):Le(R)?(l=g,Ee(R)):(t.consume(R),g)}function v(R){return R===45?(t.consume(R),_):g(R)}function _(R){return R===62?He(R):R===45?v(R):g(R)}function C(R){const q="CDATA[";return R===q.charCodeAt(o++)?(t.consume(R),o===q.length?k:C):n(R)}function k(R){return R===null?n(R):R===93?(t.consume(R),N):Le(R)?(l=k,Ee(R)):(t.consume(R),k)}function N(R){return R===93?(t.consume(R),L):k(R)}function L(R){return R===62?He(R):R===93?(t.consume(R),L):k(R)}function B(R){return R===null||R===62?He(R):Le(R)?(l=B,Ee(R)):(t.consume(R),B)}function M(R){return R===null?n(R):R===63?(t.consume(R),Y):Le(R)?(l=M,Ee(R)):(t.consume(R),M)}function Y(R){return R===62?He(R):M(R)}function ee(R){return di(R)?(t.consume(R),H):n(R)}function H(R){return R===45||ur(R)?(t.consume(R),H):A(R)}function A(R){return Le(R)?(l=A,Ee(R)):nt(R)?(t.consume(R),A):He(R)}function S(R){return R===45||ur(R)?(t.consume(R),S):R===47||R===62||Gn(R)?D(R):n(R)}function D(R){return R===47?(t.consume(R),He):R===58||R===95||di(R)?(t.consume(R),j):Le(R)?(l=D,Ee(R)):nt(R)?(t.consume(R),D):He(R)}function j(R){return R===45||R===46||R===58||R===95||ur(R)?(t.consume(R),j):O(R)}function O(R){return R===61?(t.consume(R),U):Le(R)?(l=O,Ee(R)):nt(R)?(t.consume(R),O):D(R)}function U(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,P):Le(R)?(l=U,Ee(R)):nt(R)?(t.consume(R),U):(t.consume(R),oe)}function P(R){return R===i?(t.consume(R),i=void 0,pe):R===null?n(R):Le(R)?(l=P,Ee(R)):(t.consume(R),P)}function oe(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Gn(R)?D(R):(t.consume(R),oe)}function pe(R){return R===47||R===62||Gn(R)?D(R):n(R)}function He(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function Ee(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),ie}function ie(R){return nt(R)?gt(t,de,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):de(R)}function de(R){return t.enter("htmlTextData"),l(R)}}const R0={name:"labelEnd",resolveAll:K8,resolveTo:G8,tokenize:Q8},q8={tokenize:Y8},H8={tokenize:X8},W8={tokenize:J8};function K8(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&bi(t,0,t.length,n),t}function G8(t,e){let n=t.length,r=0,i,o,l,u;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const h={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",h,e],["enter",f,e]],u=Er(u,t.slice(o+1,o+r+3)),u=Er(u,[["enter",m,e]]),u=Er(u,P0(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),u=Er(u,[["exit",m,e],t[l-2],t[l-1],["exit",f,e]]),u=Er(u,t.slice(l+1)),u=Er(u,[["exit",h,e]]),bi(t,o,t.length,u),t}function Q8(t,e,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(v){return o?o._inactive?g(v):(l=r.parser.defined.includes(ol(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),h):n(v)}function h(v){return v===40?t.attempt(q8,m,l?m:g)(v):v===91?t.attempt(H8,m,l?f:g)(v):l?m(v):g(v)}function f(v){return t.attempt(W8,m,g)(v)}function m(v){return e(v)}function g(v){return o._balanced=!0,n(v)}}function Y8(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return Gn(g)?Ku(t,o)(g):o(g)}function o(g){return g===41?m(g):EC(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return Gn(g)?Ku(t,h)(g):m(g)}function u(g){return n(g)}function h(g){return g===34||g===39||g===40?bC(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function f(g){return Gn(g)?Ku(t,m)(g):m(g)}function m(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function X8(t,e,n){const r=this;return i;function i(u){return TC.call(r,t,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(ol(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function J8(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Z8={name:"labelStartImage",resolveAll:R0.resolveAll,tokenize:e7};function e7(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const t7={name:"labelStartLink",resolveAll:R0.resolveAll,tokenize:n7};function n7(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const ag={name:"lineEnding",tokenize:r7};function r7(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),gt(t,e,"linePrefix")}}const Cd={name:"thematicBreak",tokenize:i7};function i7(t,e,n){let r=0,i;return o;function o(f){return t.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(t.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||Le(f))?(t.exit("thematicBreak"),e(f)):n(f)}function h(f){return f===i?(t.consume(f),r++,h):(t.exit("thematicBreakSequence"),nt(f)?gt(t,u,"whitespace")(f):u(f))}}const $n={continuation:{tokenize:l7},exit:c7,name:"list",tokenize:a7},s7={partial:!0,tokenize:h7},o7={partial:!0,tokenize:u7};function a7(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(_){const C=r.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||_===r.containerState.marker:Iy(_)){if(r.containerState.type||(r.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(Cd,n,f)(_):f(_);if(!r.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(_)}return n(_)}function h(_){return Iy(_)&&++l<10?(t.consume(_),h):(!r.interrupt||l<2)&&(r.containerState.marker?_===r.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),f(_)):n(_)}function f(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||_,t.check($f,r.interrupt?n:m,t.attempt(s7,v,g))}function m(_){return r.containerState.initialBlankLine=!0,o++,v(_)}function g(_){return nt(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),v):n(_)}function v(_){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function l7(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check($f,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gt(t,e,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!nt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(o7,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,gt(t,t.attempt($n,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function u7(t,e,n){const r=this;return gt(t,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function c7(t){t.exit(this.containerState.type)}function h7(t,e,n){const r=this;return gt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!nt(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const WT={name:"setextUnderline",resolveTo:d7,tokenize:f7};function d7(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function f7(t,e,n){const r=this;let i;return o;function o(f){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),nt(f)?gt(t,h,"lineSuffix")(f):h(f))}function h(f){return f===null||Le(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const p7={tokenize:m7};function m7(t){const e=this,n=t.attempt($f,r,t.attempt(this.parser.constructs.flowInitial,i,gt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(w8,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const g7={resolveAll:kC()},y7=SC("string"),v7=SC("text");function SC(t){return{resolveAll:kC(t==="text"?x7:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,l,u);return l;function l(m){return f(m)?o(m):u(m)}function u(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return f(m)?(n.exit("data"),o(m)):(n.consume(m),h)}function f(m){if(m===null)return!0;const g=i[m];let v=-1;if(g)for(;++v<g.length;){const _=g[v];if(!_.previous||_.previous.call(r,r.previous))return!0}return!1}}}function kC(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function x7(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,l=-1,u=0,h;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)h=!0,u++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const f={type:n===t.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const w7={42:$n,43:$n,45:$n,48:$n,49:$n,50:$n,51:$n,52:$n,53:$n,54:$n,55:$n,56:$n,57:$n,62:vC},_7={91:S8},E7={[-2]:og,[-1]:og,32:og},T7={35:R8,42:Cd,45:[WT,Cd],60:M8,61:WT,95:Cd,96:qT,126:qT},b7={38:wC,92:xC},S7={[-5]:ag,[-4]:ag,[-3]:ag,33:Z8,38:wC,42:Ay,60:[t8,B8],91:t7,92:[C8,xC],93:R0,95:Ay,96:p8},k7={null:[Ay,g7]},I7={null:[42,95]},A7={null:[]},C7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:I7,contentInitial:_7,disable:A7,document:w7,flow:T7,flowInitial:E7,insideSpan:k7,string:b7,text:S7},Symbol.toStringTag,{value:"Module"}));function P7(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const h={attempt:A(ee),check:A(H),consume:B,enter:M,exit:Y,interrupt:A(H,{interrupt:!0})},f={code:null,containerState:{},defineSkip:k,events:[],now:C,parser:t,previous:null,sliceSerialize:v,sliceStream:_,write:g};let m=e.tokenize.call(f,h);return e.resolveAll&&o.push(e),f;function g(O){return l=Er(l,O),N(),l[l.length-1]!==null?[]:(S(e,0),f.events=P0(o,f.events,f),f.events)}function v(O,U){return D7(_(O),U)}function _(O){return R7(l,O)}function C(){const{_bufferIndex:O,_index:U,line:P,column:oe,offset:pe}=r;return{_bufferIndex:O,_index:U,line:P,column:oe,offset:pe}}function k(O){i[O.line]=O.column,j()}function N(){let O;for(;r._index<l.length;){const U=l[r._index];if(typeof U=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<U.length;)L(U.charCodeAt(r._bufferIndex));else L(U)}}function L(O){m=m(O)}function B(O){Le(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,j()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=O}function M(O,U){const P=U||{};return P.type=O,P.start=C(),f.events.push(["enter",P,f]),u.push(P),P}function Y(O){const U=u.pop();return U.end=C(),f.events.push(["exit",U,f]),U}function ee(O,U){S(O,U.from)}function H(O,U){U.restore()}function A(O,U){return P;function P(oe,pe,He){let Ee,ie,de,R;return Array.isArray(oe)?te(oe):"tokenize"in oe?te([oe]):q(oe);function q(Te){return qe;function qe(Fe){const Ke=Fe!==null&&Te[Fe],ct=Fe!==null&&Te.null,gn=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(ct)?ct:ct?[ct]:[]];return te(gn)(Fe)}}function te(Te){return Ee=Te,ie=0,Te.length===0?He:F(Te[ie])}function F(Te){return qe;function qe(Fe){return R=D(),de=Te,Te.partial||(f.currentConstruct=Te),Te.name&&f.parser.constructs.disable.null.includes(Te.name)?Oe():Te.tokenize.call(U?Object.assign(Object.create(f),U):f,h,Se,Oe)(Fe)}}function Se(Te){return O(de,R),pe}function Oe(Te){return R.restore(),++ie<Ee.length?F(Ee[ie]):He}}}function S(O,U){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&bi(f.events,U,f.events.length-U,O.resolve(f.events.slice(U),f)),O.resolveTo&&(f.events=O.resolveTo(f.events,f))}function D(){const O=C(),U=f.previous,P=f.currentConstruct,oe=f.events.length,pe=Array.from(u);return{from:oe,restore:He};function He(){r=O,f.previous=U,f.currentConstruct=P,f.events.length=oe,u=pe,j()}}function j(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function R7(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}function D7(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function N7(t){const r={constructs:UB([C7,...(t||{}).extensions||[]]),content:i(GB),defined:[],document:i(YB),flow:i(p7),lazy:{},string:i(y7),text:i(v7)};return r;function i(o){return l;function l(u){return P7(r,o,u)}}}function O7(t){for(;!_C(t););return t}const KT=/[\0\t\n\r]/g;function M7(){let t=1,e="",n=!0,r;return i;function i(o,l,u){const h=[];let f,m,g,v,_;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),g=0,e="",n&&(o.charCodeAt(0)===65279&&g++,n=void 0);g<o.length;){if(KT.lastIndex=g,f=KT.exec(o),v=f&&f.index!==void 0?f.index:o.length,_=o.charCodeAt(v),!f){e=o.slice(g);break}if(_===10&&g===v&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<v&&(h.push(o.slice(g,v)),t+=v-g),_){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}g=v+1}return u&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const L7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function V7(t){return t.replace(L7,F7)}function F7(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return yC(n.slice(o?2:1),o?16:10)}return C0(n)||t}const IC={}.hasOwnProperty;function j7(t,e,n){return typeof e!="string"&&(n=e,e=void 0),U7(n)(O7(N7(n).document().write(M7()(t,e,!0))))}function U7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(lt),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(qr),blockQuote:o(ct),characterEscape:D,characterReference:D,codeFenced:o(gn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(gn,l),codeText:o(Ln,l),codeTextData:D,data:D,codeFlowValue:D,definition:o(Yn),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Ir),hardBreakEscape:o(cr),hardBreakTrailing:o(cr),htmlFlow:o(rn,l),htmlFlowData:D,htmlText:o(rn,l),htmlTextData:D,image:o(Ar),label:l,link:o(lt),listItem:o(Cn),listItemValue:v,listOrdered:o(st,g),listUnordered:o(st),paragraph:o(Ii),reference:F,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(qr),strong:o(Ai),thematicBreak:o(Ie)},exit:{atxHeading:h(),atxHeadingSequence:ee,autolink:h(),autolinkEmail:Ke,autolinkProtocol:Fe,blockQuote:h(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:Oe,characterReferenceMarkerNumeric:Oe,characterReferenceValue:Te,characterReference:qe,codeFenced:h(N),codeFencedFence:k,codeFencedFenceInfo:_,codeFencedFenceMeta:C,codeFlowValue:j,codeIndented:h(L),codeText:h(pe),codeTextData:j,data:j,definition:h(),definitionDestinationString:Y,definitionLabelString:B,definitionTitleString:M,emphasis:h(),hardBreakEscape:h(U),hardBreakTrailing:h(U),htmlFlow:h(P),htmlFlowData:j,htmlText:h(oe),htmlTextData:j,image:h(Ee),label:de,labelText:ie,lineEnding:O,link:h(He),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Se,resourceDestinationString:R,resourceTitleString:q,resource:te,setextHeading:h(S),setextHeadingLineSequence:A,setextHeadingText:H,strong:h(),thematicBreak:h()}};AC(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(J){let se={type:"root",children:[]};const xe={stack:[se],tokenStack:[],config:e,enter:u,exit:f,buffer:l,resume:m,data:n},Ve=[];let Be=-1;for(;++Be<J.length;)if(J[Be][1].type==="listOrdered"||J[Be][1].type==="listUnordered")if(J[Be][0]==="enter")Ve.push(Be);else{const Et=Ve.pop();Be=i(J,Et,Be)}for(Be=-1;++Be<J.length;){const Et=e[J[Be][0]];IC.call(Et,J[Be][1].type)&&Et[J[Be][1].type].call(Object.assign({sliceSerialize:J[Be][2].sliceSerialize},xe),J[Be][1])}if(xe.tokenStack.length>0){const Et=xe.tokenStack[xe.tokenStack.length-1];(Et[1]||GT).call(xe,void 0,Et[0])}for(se.position={start:Os(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Os(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<e.transforms.length;)se=e.transforms[Be](se)||se;return se}function i(J,se,xe){let Ve=se-1,Be=-1,Et=!1,yn,Pt,sn,Pn;for(;++Ve<=xe;){const ot=J[Ve];switch(ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ot[0]==="enter"?Be++:Be--,Pn=void 0;break}case"lineEndingBlank":{ot[0]==="enter"&&(yn&&!Pn&&!Be&&!sn&&(sn=Ve),Pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pn=void 0}if(!Be&&ot[0]==="enter"&&ot[1].type==="listItemPrefix"||Be===-1&&ot[0]==="exit"&&(ot[1].type==="listUnordered"||ot[1].type==="listOrdered")){if(yn){let on=Ve;for(Pt=void 0;on--;){const Rt=J[on];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Pt&&(J[Pt][1].type="lineEndingBlank",Et=!0),Rt[1].type="lineEnding",Pt=on}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}sn&&(!Pt||sn<Pt)&&(yn._spread=!0),yn.end=Object.assign({},Pt?J[Pt][1].start:ot[1].end),J.splice(Pt||Ve,0,["exit",yn,ot[2]]),Ve++,xe++}if(ot[1].type==="listItemPrefix"){const on={type:"listItem",_spread:!1,start:Object.assign({},ot[1].start),end:void 0};yn=on,J.splice(Ve,0,["enter",on,ot[2]]),Ve++,xe++,sn=void 0,Pn=!0}}}return J[se][1]._spread=Et,xe}function o(J,se){return xe;function xe(Ve){u.call(this,J(Ve),Ve),se&&se.call(this,Ve)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(J,se,xe){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([se,xe||void 0]),J.position={start:Os(se.start),end:void 0}}function h(J){return se;function se(xe){J&&J.call(this,xe),f.call(this,xe)}}function f(J,se){const xe=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==J.type&&(se?se.call(this,J,Ve[0]):(Ve[1]||GT).call(this,J,Ve[0]));else throw new Error("Cannot close `"+J.type+"` ("+Wu({start:J.start,end:J.end})+"): it’s not open");xe.position.end=Os(J.end)}function m(){return FB(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(J){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function _(){const J=this.resume(),se=this.stack[this.stack.length-1];se.lang=J}function C(){const J=this.resume(),se=this.stack[this.stack.length-1];se.meta=J}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const J=this.resume(),se=this.stack[this.stack.length-1];se.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function L(){const J=this.resume(),se=this.stack[this.stack.length-1];se.value=J.replace(/(\r?\n|\r)$/g,"")}function B(J){const se=this.resume(),xe=this.stack[this.stack.length-1];xe.label=se,xe.identifier=ol(this.sliceSerialize(J)).toLowerCase()}function M(){const J=this.resume(),se=this.stack[this.stack.length-1];se.title=J}function Y(){const J=this.resume(),se=this.stack[this.stack.length-1];se.url=J}function ee(J){const se=this.stack[this.stack.length-1];if(!se.depth){const xe=this.sliceSerialize(J).length;se.depth=xe}}function H(){this.data.setextHeadingSlurpLineEnding=!0}function A(J){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function D(J){const xe=this.stack[this.stack.length-1].children;let Ve=xe[xe.length-1];(!Ve||Ve.type!=="text")&&(Ve=me(),Ve.position={start:Os(J.start),end:void 0},xe.push(Ve)),this.stack.push(Ve)}function j(J){const se=this.stack.pop();se.value+=this.sliceSerialize(J),se.position.end=Os(J.end)}function O(J){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=se.children[se.children.length-1];xe.position.end=Os(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(se.type)&&(D.call(this,J),j.call(this,J))}function U(){this.data.atHardBreak=!0}function P(){const J=this.resume(),se=this.stack[this.stack.length-1];se.value=J}function oe(){const J=this.resume(),se=this.stack[this.stack.length-1];se.value=J}function pe(){const J=this.resume(),se=this.stack[this.stack.length-1];se.value=J}function He(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=se,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function Ee(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=se,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function ie(J){const se=this.sliceSerialize(J),xe=this.stack[this.stack.length-2];xe.label=V7(se),xe.identifier=ol(se).toLowerCase()}function de(){const J=this.stack[this.stack.length-1],se=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const Ve=J.children;xe.children=Ve}else xe.alt=se}function R(){const J=this.resume(),se=this.stack[this.stack.length-1];se.url=J}function q(){const J=this.resume(),se=this.stack[this.stack.length-1];se.title=J}function te(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function Se(J){const se=this.resume(),xe=this.stack[this.stack.length-1];xe.label=se,xe.identifier=ol(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function Oe(J){this.data.characterReferenceType=J.type}function Te(J){const se=this.sliceSerialize(J),xe=this.data.characterReferenceType;let Ve;xe?(Ve=yC(se,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=C0(se);const Be=this.stack[this.stack.length-1];Be.value+=Ve}function qe(J){const se=this.stack.pop();se.position.end=Os(J.end)}function Fe(J){j.call(this,J);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(J)}function Ke(J){j.call(this,J);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(J)}function ct(){return{type:"blockquote",children:[]}}function gn(){return{type:"code",lang:null,meta:null,value:""}}function Ln(){return{type:"inlineCode",value:""}}function Yn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ir(){return{type:"emphasis",children:[]}}function qr(){return{type:"heading",depth:0,children:[]}}function cr(){return{type:"break"}}function rn(){return{type:"html",value:""}}function Ar(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function st(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Cn(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Ii(){return{type:"paragraph",children:[]}}function Ai(){return{type:"strong",children:[]}}function me(){return{type:"text",value:""}}function Ie(){return{type:"thematicBreak"}}}function Os(t){return{line:t.line,column:t.column,offset:t.offset}}function AC(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?AC(t,r):z7(t,r)}}function z7(t,e){let n;for(n in e)if(IC.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function GT(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Wu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Wu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Wu({start:e.start,end:e.end})+") is still open")}function B7(t){const e=this;e.parser=n;function n(r){return j7(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function $7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function q7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function H7(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function W7(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function K7(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function G7(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Pl(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let l,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=o+1,u+=1,t.footnoteCounts.set(r,u);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,f),t.applyData(e,f)}function Q7(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Y7(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function CC(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function X7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return CC(t,e);const i={src:Pl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function J7(t,e){const n={src:Pl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Z7(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function e$(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return CC(t,e);const i={href:Pl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function t$(t,e){const n={href:Pl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function n$(t,e,n){const r=t.all(e),i=n?r$(n):PC(e),o={},l=[];if(typeof e.checked=="boolean"){const m=r[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const m=r[u];(i||u!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?l.push(...m.children):l.push(m)}const h=r[r.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return t.patch(e,f),t.applyData(e,f)}function r$(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=PC(n[r])}return e}function PC(t){const e=t.spread;return e??t.children.length>1}function i$(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function s$(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function o$(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function a$(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function l$(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=S0(e.children[1]),h=cC(e.children[e.children.length-1]);u&&h&&(l.position={start:u,end:h}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function u$(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:e.children.length;let h=-1;const f=[];for(;++h<u;){const g=e.children[h],v={},_=l?l[h]:void 0;_&&(v.align=_);let C={type:"element",tagName:o,properties:v,children:[]};g&&(C.children=t.all(g),t.patch(g,C),C=t.applyData(g,C)),f.push(C)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,m),t.applyData(e,m)}function c$(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const QT=9,YT=32;function h$(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(XT(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(XT(e.slice(i),i>0,!1)),o.join("")}function XT(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===QT||o===YT;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===QT||o===YT;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function d$(t,e){const n={type:"text",value:h$(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function f$(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const p$={blockquote:$7,break:q7,code:H7,delete:W7,emphasis:K7,footnoteReference:G7,heading:Q7,html:Y7,imageReference:X7,image:J7,inlineCode:Z7,linkReference:e$,link:t$,listItem:n$,list:i$,paragraph:s$,root:o$,strong:a$,table:l$,tableCell:c$,tableRow:u$,text:d$,thematicBreak:f$,toml:cd,yaml:cd,definition:cd,footnoteDefinition:cd};function cd(){}const RC=-1,qf=0,Gu=1,lf=2,D0=3,N0=4,O0=5,M0=6,DC=7,NC=8,JT=typeof self=="object"?self:globalThis,m$=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,l]=e[i];switch(o){case qf:case RC:return n(l,i);case Gu:{const u=n([],i);for(const h of l)u.push(r(h));return u}case lf:{const u=n({},i);for(const[h,f]of l)u[r(h)]=r(f);return u}case D0:return n(new Date(l),i);case N0:{const{source:u,flags:h}=l;return n(new RegExp(u,h),i)}case O0:{const u=n(new Map,i);for(const[h,f]of l)u.set(r(h),r(f));return u}case M0:{const u=n(new Set,i);for(const h of l)u.add(r(h));return u}case DC:{const{name:u,message:h}=l;return n(new JT[u](h),i)}case NC:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new JT[o](l),i)};return r},ZT=t=>m$(new Map,t)(0),Ba="",{toString:g$}={},{keys:y$}=Object,Su=t=>{const e=typeof t;if(e!=="object"||!t)return[qf,e];const n=g$.call(t).slice(8,-1);switch(n){case"Array":return[Gu,Ba];case"Object":return[lf,Ba];case"Date":return[D0,Ba];case"RegExp":return[N0,Ba];case"Map":return[O0,Ba];case"Set":return[M0,Ba];case"DataView":return[Gu,n]}return n.includes("Array")?[Gu,n]:n.includes("Error")?[DC,n]:[lf,n]},hd=([t,e])=>t===qf&&(e==="function"||e==="symbol"),v$=(t,e,n,r)=>{const i=(l,u)=>{const h=r.push(l)-1;return n.set(u,h),h},o=l=>{if(n.has(l))return n.get(l);let[u,h]=Su(l);switch(u){case qf:{let m=l;switch(h){case"bigint":u=NC,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return i([RC],l)}return i([u,m],l)}case Gu:{if(h){let v=l;return h==="DataView"?v=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(l)),i([h,[...v]],l)}const m=[],g=i([u,m],l);for(const v of l)m.push(o(v));return g}case lf:{if(h)switch(h){case"BigInt":return i([h,l.toString()],l);case"Boolean":case"Number":case"String":return i([h,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const m=[],g=i([u,m],l);for(const v of y$(l))(t||!hd(Su(l[v])))&&m.push([o(v),o(l[v])]);return g}case D0:return i([u,l.toISOString()],l);case N0:{const{source:m,flags:g}=l;return i([u,{source:m,flags:g}],l)}case O0:{const m=[],g=i([u,m],l);for(const[v,_]of l)(t||!(hd(Su(v))||hd(Su(_))))&&m.push([o(v),o(_)]);return g}case M0:{const m=[],g=i([u,m],l);for(const v of l)(t||!hd(Su(v)))&&m.push(o(v));return g}}const{message:f}=l;return i([u,{name:h,message:f}],l)};return o},eb=(t,{json:e,lossy:n}={})=>{const r=[];return v$(!(e||n),!!e,new Map,r)(t),r},uf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ZT(eb(t,e)):structuredClone(t):(t,e)=>ZT(eb(t,e));function x$(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function w$(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function _$(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||x$,r=t.options.footnoteBackLabel||w$,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[h]);if(!f)continue;const m=t.all(f),g=String(f.identifier).toUpperCase(),v=Pl(g.toLowerCase());let _=0;const C=[],k=t.footnoteCounts.get(g);for(;k!==void 0&&++_<=k;){C.length>0&&C.push({type:"text",value:" "});let B=typeof n=="string"?n:n(h,_);typeof B=="string"&&(B={type:"text",value:B}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,_),className:["data-footnote-backref"]},children:Array.isArray(B)?B:[B]})}const N=m[m.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const B=N.children[N.children.length-1];B&&B.type==="text"?B.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...C)}else m.push(...C);const L={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(m,!0)};t.patch(f,L),u.push(L)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...uf(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const OC=(function(t){if(t==null)return S$;if(typeof t=="function")return Hf(t);if(typeof t=="object")return Array.isArray(t)?E$(t):T$(t);if(typeof t=="string")return b$(t);throw new Error("Expected function, string, or object as test")});function E$(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=OC(t[n]);return Hf(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function T$(t){const e=t;return Hf(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function b$(t){return Hf(e);function e(n){return n&&n.type===t}}function Hf(t){return e;function e(n,r,i){return!!(k$(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function S$(){return!0}function k$(t){return t!==null&&typeof t=="object"&&"type"in t}const MC=[],I$=!0,tb=!1,A$="skip";function C$(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=OC(i),l=r?-1:1;u(t,void 0,[])();function u(h,f,m){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const _=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(_?"<"+_+">":""))+")"})}return v;function v(){let _=MC,C,k,N;if((!e||o(h,f,m[m.length-1]||void 0))&&(_=P$(n(h,m)),_[0]===tb))return _;if("children"in h&&h.children){const L=h;if(L.children&&_[0]!==A$)for(k=(r?L.children.length:-1)+l,N=m.concat(L);k>-1&&k<L.children.length;){const B=L.children[k];if(C=u(B,k,N)(),C[0]===tb)return C;k=typeof C[1]=="number"?C[1]:k+l}}return _}}}function P$(t){return Array.isArray(t)?t:typeof t=="number"?[I$,t]:t==null?MC:[t]}function LC(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),C$(t,o,u,i);function u(h,f){const m=f[f.length-1],g=m?m.children.indexOf(h):void 0;return l(h,g,m)}}const Cy={}.hasOwnProperty,R$={};function D$(t,e){const n=e||R$,r=new Map,i=new Map,o=new Map,l={...p$,...n.handlers},u={all:f,applyData:O$,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:n,patch:N$,wrap:L$};return LC(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?r:i,v=String(m.identifier).toUpperCase();g.has(v)||g.set(v,m)}}),u;function h(m,g){const v=m.type,_=u.handlers[v];if(Cy.call(u.handlers,v)&&_)return _(u,m,g);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in m){const{children:k,...N}=m,L=uf(N);return L.children=u.all(m),L}return uf(m)}return(u.options.unknownHandler||M$)(u,m,g)}function f(m){const g=[];if("children"in m){const v=m.children;let _=-1;for(;++_<v.length;){const C=u.one(v[_],m);if(C){if(_&&v[_-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=nb(C.value)),!Array.isArray(C)&&C.type==="element")){const k=C.children[0];k&&k.type==="text"&&(k.value=nb(k.value))}Array.isArray(C)?g.push(...C):g.push(C)}}}return g}}function N$(t,e){t.position&&(e.position=gB(t))}function O$(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,uf(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function M$(t,e){const n=e.data||{},r="value"in e&&!(Cy.call(n,"hProperties")||Cy.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function L$(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function nb(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function rb(t,e){const n=D$(t,e),r=n.one(t,void 0),i=_$(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function V$(t,e){return t&&"run"in t?async function(n,r){const i=rb(n,{file:r,...e});await t.run(i,r)}:function(n,r){return rb(n,{file:r,...t||e})}}function ib(t){if(t)throw t}var lg,sb;function F$(){if(sb)return lg;sb=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var m=t.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!g)return!1;var v;for(v in f);return typeof v>"u"||t.call(f,v)},l=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},u=function(f,m){if(m==="__proto__")if(t.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return lg=function h(){var f,m,g,v,_,C,k=arguments[0],N=1,L=arguments.length,B=!1;for(typeof k=="boolean"&&(B=k,k=arguments[1]||{},N=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});N<L;++N)if(f=arguments[N],f!=null)for(m in f)g=u(k,m),v=u(f,m),k!==v&&(B&&v&&(o(v)||(_=i(v)))?(_?(_=!1,C=g&&i(g)?g:[]):C=g&&o(g)?g:{},l(k,{name:m,newValue:h(B,C,v)})):typeof v<"u"&&l(k,{name:m,newValue:v}));return k},lg}var j$=F$();const ug=xl(j$);function Py(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function U$(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(h,...f){const m=t[++o];let g=-1;if(h){l(h);return}for(;++g<i.length;)(f[g]===null||f[g]===void 0)&&(f[g]=i[g]);i=f,m?z$(m,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function z$(t,e){let n;return r;function r(...l){const u=t.length>l.length;let h;u&&l.push(i);try{h=t.apply(this,l)}catch(f){const m=f;if(u&&n)throw m;return i(m)}u||(h&&h.then&&typeof h.then=="function"?h.then(o,i):h instanceof Error?i(h):o(h))}function i(l,...u){n||(n=!0,e(l,...u))}function o(l){i(null,l)}}const ci={basename:B$,dirname:$$,extname:q$,join:H$,sep:"/"};function B$(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Mc(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function $$(t){if(Mc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function q$(t){Mc(t);let e=t.length,n=-1,r=0,i=-1,o=0,l;for(;e--;){const u=t.codePointAt(e);if(u===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),u===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function H$(...t){let e=-1,n;for(;++e<t.length;)Mc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":W$(n)}function W$(t){Mc(t);const e=t.codePointAt(0)===47;let n=K$(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function K$(t,e){let n="",r=0,i=-1,o=0,l=-1,u,h;for(;++l<=t.length;){if(l<t.length)u=t.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function Mc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const G$={cwd:Q$};function Q$(){return"/"}function Ry(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Y$(t){if(typeof t=="string")t=new URL(t);else if(!Ry(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return X$(t)}function X$(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const cg=["history","path","basename","stem","extname","dirname"];class VC{constructor(e){let n;e?Ry(e)?n={path:e}:typeof e=="string"||J$(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":G$.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cg.length;){const o=cg[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)cg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ci.basename(this.path):void 0}set basename(e){dg(e,"basename"),hg(e,"basename"),this.path=ci.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ci.dirname(this.path):void 0}set dirname(e){ob(this.basename,"dirname"),this.path=ci.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ci.extname(this.path):void 0}set extname(e){if(hg(e,"extname"),ob(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ci.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ry(e)&&(e=Y$(e)),dg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ci.basename(this.path,this.extname):void 0}set stem(e){dg(e,"stem"),hg(e,"stem"),this.path=ci.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new An(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function hg(t,e){if(t&&t.includes(ci.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ci.sep+"`")}function dg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function ob(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function J$(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Z$=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),eq={}.hasOwnProperty;class L0 extends Z${constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=U$()}copy(){const e=new L0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(ug(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(mg("data",this.frozen),this.namespace[e]=n,this):eq.call(this.namespace,e)&&this.namespace[e]||void 0:e?(mg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=dd(e),r=this.parser||this.Parser;return fg("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),fg("process",this.parser||this.Parser),pg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=dd(e),h=r.parse(u);r.run(h,u,function(m,g,v){if(m||!g||!v)return f(m);const _=g,C=r.stringify(_,v);rq(C)?v.value=C:v.result=C,f(m,v)});function f(m,g){m||!g?l(m):o?o(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),fg("processSync",this.parser||this.Parser),pg("processSync",this.compiler||this.Compiler),this.process(e,i),lb("processSync","process",n),r;function i(o,l){n=!0,ib(o),r=l}}run(e,n,r){ab(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const h=dd(n);i.run(e,h,f);function f(m,g,v){const _=g||e;m?u(m):l?l(_):r(void 0,_,v)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),lb("runSync","run",r),i;function o(l,u){ib(l),i=u,r=!0}}stringify(e,n){this.freeze();const r=dd(n),i=this.compiler||this.Compiler;return pg("stringify",i),ab(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(mg("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...g]=f;h(m,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=ug(!0,i.settings,f.settings))}function u(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const g=f[m];o(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,m){let g=-1,v=-1;for(;++g<r.length;)if(r[g][0]===f){v=g;break}if(v===-1)r.push([f,...m]);else if(m.length>0){let[_,...C]=m;const k=r[v][1];Py(k)&&Py(_)&&(_=ug(!0,k,_)),r[v]=[f,_,...C]}}}}const tq=new L0().freeze();function fg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function pg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function mg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ab(t){if(!Py(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function lb(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function dd(t){return nq(t)?t:new VC(t)}function nq(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function rq(t){return typeof t=="string"||iq(t)}function iq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const sq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ub=[],cb={allowDangerousHtml:!0},oq=/^(https?|ircs?|mailto|xmpp)$/i,aq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lq(t){const e=uq(t),n=cq(t);return hq(e.runSync(e.parse(n),n),t)}function uq(t){const e=t.rehypePlugins||ub,n=t.remarkPlugins||ub,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...cb}:cb;return tq().use(B7).use(n).use(V$,r).use(e)}function cq(t){const e=t.children||"",n=new VC;return typeof e=="string"&&(n.value=e),n}function hq(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,l=e.skipHtml,u=e.unwrapDisallowed,h=e.urlTransform||dq;for(const m of aq)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+sq+m.id,void 0);return LC(t,f),_B(t,{Fragment:b.Fragment,components:i,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function f(m,g,v){if(m.type==="raw"&&v&&typeof g=="number")return l?v.children.splice(g,1):v.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let _;for(_ in sg)if(Object.hasOwn(sg,_)&&Object.hasOwn(m.properties,_)){const C=m.properties[_],k=sg[_];(k===null||k.includes(m.tagName))&&(m.properties[_]=h(String(C||""),_,m))}}if(m.type==="element"){let _=n?!n.includes(m.tagName):o?o.includes(m.tagName):!1;if(!_&&r&&typeof g=="number"&&(_=!r(m,g,v)),_&&v&&typeof g=="number")return u&&m.children?v.children.splice(g,1,...m.children):v.children.splice(g,1),g}}}function dq(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||oq.test(t.slice(0,e))?t:""}const fq=Fr.memo(({message:t})=>{const e=t.type==="user",{getReadyDocuments:n}=Nc(),r=n(),[i,o]=Fr.useState(!1),l=async()=>{try{await navigator.clipboard.writeText(t.content),o(!0),setTimeout(()=>o(!1),2e3)}catch(h){console.error("Failed to copy text:",h)}},u=h=>new Date(h).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return b.jsx(wt.div,{className:`flex ${e?"justify-end":"justify-start"} group`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:b.jsxs("div",{className:`flex max-w-[85%] ${e?"flex-row-reverse":"flex-row"} items-start space-x-3`,children:[b.jsx("div",{className:`flex-shrink-0 ${e?"ml-3":"mr-3"}`,children:b.jsx("div",{className:`
            w-8 h-8 rounded-full flex items-center justify-center shadow-sm
            ${e?"bg-blue-600":"bg-gray-600"}
          `,children:e?b.jsx(Vy,{className:"w-4 h-4 text-white"}):b.jsx(B2,{className:"w-4 h-4 text-white"})})}),b.jsxs("div",{className:"flex flex-col max-w-full",children:[b.jsxs("div",{className:`
            rounded-2xl px-4 py-3 relative
            ${e?"bg-blue-600 text-white rounded-br-md":t.isError?"bg-red-50 text-red-800 border border-red-200 rounded-bl-md":"bg-gray-100 text-gray-900 rounded-bl-md"}
          `,children:[!e&&b.jsx("button",{onClick:l,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-200 rounded",title:"Copiar mensaje",children:i?b.jsx(W2,{className:"w-3 h-3 text-green-600"}):b.jsx(Z2,{className:"w-3 h-3 text-gray-500"})}),b.jsx("div",{className:"pr-8",children:e?b.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:t.content}):b.jsx("div",{className:"prose prose-sm max-w-none prose-gray",children:b.jsx(lq,{components:{p:({children:h})=>b.jsx("p",{className:"mb-2 last:mb-0 leading-relaxed",children:h}),ul:({children:h})=>b.jsx("ul",{className:"mb-2 last:mb-0 ml-4 list-disc",children:h}),ol:({children:h})=>b.jsx("ol",{className:"mb-2 last:mb-0 ml-4 list-decimal",children:h}),li:({children:h})=>b.jsx("li",{className:"mb-1",children:h}),strong:({children:h})=>b.jsx("strong",{className:"font-semibold",children:h}),em:({children:h})=>b.jsx("em",{className:"italic",children:h}),code:({children:h})=>b.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs font-mono",children:h}),pre:({children:h})=>b.jsx("pre",{className:"bg-gray-200 p-3 rounded-lg overflow-x-auto text-xs font-mono mb-2",children:h})},children:t.content})})}),t.sources&&t.sources.length>0&&b.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(Yu,{className:"w-3 h-3 mr-1 text-gray-500"}),b.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Fuentes consultadas (",t.sources.length,")"]})]}),b.jsxs("div",{className:"space-y-2",children:[t.sources.slice(0,3).map((h,f)=>{const m=r.find(g=>g.id===h.documentId);return b.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[b.jsx(Yu,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),b.jsxs("div",{className:"min-w-0 flex-1",children:[b.jsx("p",{className:"text-xs font-medium text-gray-700 truncate",children:m?.name||"Documento desconocido"}),b.jsxs("p",{className:"text-xs text-gray-500",children:["Fragmento ",h.chunkIndex+1," • ",Math.round(h.score*100),"% relevancia"]})]})]}),m?.url&&b.jsx("button",{onClick:()=>window.open(m.url,"_blank"),className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Ver documento",children:b.jsx(tR,{className:"w-3 h-3 text-gray-500"})})]},f)}),t.sources.length>3&&b.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["+",t.sources.length-3," fuentes más"]})]})]})]}),b.jsx("p",{className:`
            text-xs text-gray-400 mt-1 opacity-0 group-hover:opacity-100 transition-opacity
            ${e?"text-right":"text-left"}
          `,children:u(t.timestamp)})]})]})})}),pq=()=>{const[t,e]=G.useState(""),[n,r]=G.useState(!1),i=G.useRef(null),{sendQuery:o,isLoading:l,selectedDocuments:u,clearMessages:h,startNewConversation:f}=nC(),{getReadyDocuments:m}=Nc(),g=m();G.useEffect(()=>{i.current&&(i.current.style.height="auto",i.current.style.height=`${Math.min(i.current.scrollHeight,120)}px`)},[t]),G.useEffect(()=>{u.length>0&&i.current&&i.current.focus()},[u]);const v=async M=>{if(M.preventDefault(),!t.trim()||l||u.length===0)return;const Y=t.trim();e(""),await o(Y),i.current&&(i.current.style.height="auto")},_=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),v(M))},C=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const M=window.webkitSpeechRecognition||window.SpeechRecognition,Y=new M;Y.continuous=!1,Y.interimResults=!1,Y.lang="es-ES",n?(Y.stop(),r(!1)):(r(!0),Y.start(),Y.onresult=ee=>{const H=ee.results[0][0].transcript;e(A=>A+H),r(!1)},Y.onerror=()=>{r(!1)},Y.onend=()=>{r(!1)})}},k=t.trim()&&!l&&u.length>0,N=g.length>0,L=u.length>0,B=()=>N?L?"Pregunta algo sobre tus documentos...":"Selecciona documentos para hacer preguntas...":"Sube documentos para empezar...";return b.jsxs("div",{style:{borderTop:"1px solid rgba(229, 231, 235, 0.5)",background:"rgba(255, 255, 255, 0.9)",borderRadius:"16px",backdropFilter:"blur(12px)",border:"1px solid rgba(0, 0, 0, 0.05)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)"},children:[L&&!l&&b.jsx("div",{style:{padding:"16px 24px 12px 24px",borderBottom:"1px solid rgba(243, 244, 246, 0.8)"},children:b.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[b.jsx("span",{style:{fontSize:"12px",color:"#6b7280",alignSelf:"center",marginRight:"8px",fontWeight:"500"},children:"Sugerencias:"}),["Resume los puntos principales","¿Cuáles son las conclusiones?","Explica este concepto","¿Qué dice sobre...?"].map(M=>b.jsx("button",{onClick:()=>e(M),style:{fontSize:"12px",padding:"6px 12px",background:"linear-gradient(135deg, rgba(243, 244, 246, 0.8) 0%, rgba(229, 231, 235, 0.8) 100%)",color:"#4b5563",borderRadius:"100px",border:"1px solid rgba(209, 213, 219, 0.5)",cursor:"pointer",transition:"all 0.2s ease",backdropFilter:"blur(8px)",fontWeight:"500"},onMouseEnter:Y=>{Y.currentTarget.style.background="linear-gradient(135deg, rgba(219, 234, 254, 0.8) 0%, rgba(191, 219, 254, 0.8) 100%)",Y.currentTarget.style.color="#1e40af",Y.currentTarget.style.borderColor="rgba(59, 130, 246, 0.3)"},onMouseLeave:Y=>{Y.currentTarget.style.background="linear-gradient(135deg, rgba(243, 244, 246, 0.8) 0%, rgba(229, 231, 235, 0.8) 100%)",Y.currentTarget.style.color="#4b5563",Y.currentTarget.style.borderColor="rgba(209, 213, 219, 0.5)"},children:M},M))]})}),b.jsxs("div",{style:{padding:"20px 24px"},children:[b.jsxs("form",{onSubmit:v,style:{display:"flex",alignItems:"flex-end",gap:"12px"},children:[b.jsxs("div",{style:{flex:1,position:"relative"},children:[b.jsx("textarea",{ref:i,value:t,onChange:M=>e(M.target.value),onKeyPress:_,placeholder:B(),disabled:l||!L,rows:1,style:{width:"100%",padding:"16px 48px 16px 16px",border:"1px solid rgba(209, 213, 219, 0.6)",borderRadius:"12px",resize:"none",outline:"none",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(8px)",fontSize:"14px",fontFamily:"Inter, system-ui, sans-serif",transition:"all 0.2s ease",minHeight:"48px",maxHeight:"120px",color:l||!L?"#9ca3af":"#1f2937",cursor:l||!L?"not-allowed":"text"},onFocus:M=>{!l&&L&&(M.currentTarget.style.borderColor="rgba(59, 130, 246, 0.5)",M.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)")},onBlur:M=>{M.currentTarget.style.borderColor="rgba(209, 213, 219, 0.6)",M.currentTarget.style.boxShadow="none"}}),"webkitSpeechRecognition"in window&&b.jsx("button",{type:"button",onClick:C,disabled:l||!L,style:{position:"absolute",right:"12px",top:"50%",marginTop:"-22px",padding:"6px",background:"none",border:"none",cursor:l||!L?"not-allowed":"pointer",color:n?"#ef4444":"#9ca3af",opacity:l||!L?.5:1,transition:"color 0.2s ease, background 0.2s ease",borderRadius:"6px"},onMouseEnter:M=>{!l&&L&&(M.currentTarget.style.color=n?"#dc2626":"#6b7280",M.currentTarget.style.background="rgba(243, 244, 246, 0.5)")},onMouseLeave:M=>{M.currentTarget.style.color=n?"#ef4444":"#9ca3af",M.currentTarget.style.background="none"},children:n?b.jsx(ER,{style:{width:"16px",height:"16px"}}):b.jsx(bR,{style:{width:"16px",height:"16px"}})})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx("button",{type:"button",onClick:h,disabled:l,title:"Limpiar chat",style:{padding:"12px",background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"12px",cursor:l?"not-allowed":"pointer",color:"#6b7280",transition:"background 0.2s ease, color 0.2s ease, border-color 0.2s ease",backdropFilter:"blur(8px)",opacity:l?.5:1},onMouseEnter:M=>{l||(M.currentTarget.style.background="rgba(243, 244, 246, 0.9)",M.currentTarget.style.color="#374151",M.currentTarget.style.borderColor="rgba(156, 163, 175, 0.5)")},onMouseLeave:M=>{M.currentTarget.style.background="rgba(255, 255, 255, 0.8)",M.currentTarget.style.color="#6b7280",M.currentTarget.style.borderColor="rgba(209, 213, 219, 0.5)"},children:b.jsx(IR,{style:{width:"16px",height:"16px"}})}),b.jsx("button",{type:"submit",disabled:!k,style:{padding:"12px 16px",background:k?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"rgba(156, 163, 175, 0.5)",border:"none",borderRadius:"12px",cursor:k?"pointer":"not-allowed",color:"white",transition:"background 0.2s ease, box-shadow 0.2s ease",boxShadow:k?"0 4px 12px rgba(102, 126, 234, 0.3)":"none",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"48px"},onMouseEnter:M=>{k&&(M.currentTarget.style.background="linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%)",M.currentTarget.style.boxShadow="0 6px 16px rgba(102, 126, 234, 0.4)")},onMouseLeave:M=>{k&&(M.currentTarget.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",M.currentTarget.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.3)")},children:l?b.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}):b.jsx(CR,{style:{width:"16px",height:"16px"}})})]})]}),b.jsxs("div",{style:{marginTop:"12px",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"12px",color:"#6b7280"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[L&&b.jsxs("span",{style:{fontWeight:"500"},children:[u.length," documento",u.length!==1?"s":""," seleccionado",u.length!==1?"s":""]}),n&&b.jsx(wt.span,{style:{color:"#ef4444",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},animate:{opacity:[1,.5,1]},transition:{duration:1,repeat:1/0},children:"🎤 Escuchando..."})]}),b.jsx("div",{style:{textAlign:"right"},children:b.jsx("span",{style:{fontWeight:"400"},children:"Presiona Enter para enviar, Shift+Enter para nueva línea"})})]})]})]})},mq=()=>{const{messages:t,isLoading:e,selectedDocuments:n,setSelectedDocuments:r}=nC(),{getReadyDocuments:i}=Nc(),o=i(),l=G.useRef(null),u=()=>{l.current?.scrollIntoView({behavior:"smooth"})};G.useEffect(()=>{u()},[t]),G.useEffect(()=>{o.length>0&&n.length===0&&r([o[0].id])},[o,n,r]);const h=m=>{const g=n.includes(m)?n.filter(v=>v!==m):[...n,m];r(g)},f=()=>b.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",padding:"48px 32px"},children:o.length===0?b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{position:"relative",marginBottom:"32px"},children:[b.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, rgba(147, 51, 234, 0.3) 100%)",borderRadius:"50%",filter:"blur(40px)",opacity:.3}}),b.jsx("div",{style:{position:"relative",width:"96px",height:"96px",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 20px 40px rgba(59, 130, 246, 0.3)"},children:b.jsx(c_,{style:{width:"48px",height:"48px",color:"white"}})})]}),b.jsx("h3",{style:{fontSize:"32px",fontWeight:"700",background:"linear-gradient(135deg, #1e40af 0%, #8b5cf6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"16px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"¡Bienvenido al Chat de Documentos!"}),b.jsx("p",{style:{color:"#6b7280",marginBottom:"32px",maxWidth:"512px",fontSize:"18px",lineHeight:"1.7",fontWeight:"500"},children:"Sube algunos documentos en el panel izquierdo para empezar a hacer preguntas inteligentes sobre su contenido usando IA avanzada."}),b.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},style:{background:"linear-gradient(135deg, rgba(219, 234, 254, 0.8) 0%, rgba(191, 219, 254, 0.8) 100%)",backdropFilter:"blur(12px)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"16px",padding:"24px",maxWidth:"448px"},children:[b.jsxs("h4",{style:{fontWeight:"700",color:"#1e40af",marginBottom:"16px",display:"flex",alignItems:"center"},children:[b.jsx(pd,{style:{width:"20px",height:"20px",marginRight:"8px"}}),"¿Qué puedes hacer?"]}),b.jsxs("ul",{style:{fontSize:"14px",color:"#1d4ed8",display:"flex",flexDirection:"column",gap:"12px",textAlign:"left"},children:[b.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[b.jsx("span",{style:{width:"8px",height:"8px",background:"#3b82f6",borderRadius:"50%",marginTop:"8px",flexShrink:0}}),b.jsx("span",{children:"Hacer preguntas específicas sobre el contenido"})]}),b.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[b.jsx("span",{style:{width:"8px",height:"8px",background:"#3b82f6",borderRadius:"50%",marginTop:"8px",flexShrink:0}}),b.jsx("span",{children:"Obtener resúmenes y puntos clave"})]}),b.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[b.jsx("span",{style:{width:"8px",height:"8px",background:"#3b82f6",borderRadius:"50%",marginTop:"8px",flexShrink:0}}),b.jsx("span",{children:"Comparar información entre documentos"})]}),b.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[b.jsx("span",{style:{width:"8px",height:"8px",background:"#3b82f6",borderRadius:"50%",marginTop:"8px",flexShrink:0}}),b.jsx("span",{children:"Encontrar información relevante rápidamente"})]})]})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{position:"relative",marginBottom:"32px"},children:[b.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%)",borderRadius:"50%",filter:"blur(40px)",opacity:.3}}),b.jsx("div",{style:{position:"relative",width:"96px",height:"96px",background:"linear-gradient(135deg, #10b981 0%, #3b82f6 100%)",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 20px 40px rgba(16, 185, 129, 0.3)"},children:b.jsx(pd,{style:{width:"48px",height:"48px",color:"white"}})})]}),b.jsx("h3",{style:{fontSize:"32px",fontWeight:"700",background:"linear-gradient(135deg, #059669 0%, #3b82f6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"16px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"¡Documentos listos!"}),b.jsx("p",{style:{color:"#6b7280",marginBottom:"32px",maxWidth:"512px",fontSize:"18px",lineHeight:"1.7",fontWeight:"500"},children:"Tus documentos han sido procesados y están listos. Selecciona uno o varios documentos arriba y comienza a hacer preguntas."})]})});return b.jsx(wt.div,{style:{height:"100%",display:"flex",flexDirection:"column"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:b.jsxs("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:"24px",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.08), 0 0 40px rgba(59, 130, 246, 0.05)",height:"100%",display:"flex",flexDirection:"column",padding:"32px",backdropFilter:"blur(20px)",overflow:"hidden"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px",borderBottom:"2px solid",borderImage:"linear-gradient(90deg, #ec4899, #8b5cf6, #3b82f6) 1",paddingBottom:"12px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[b.jsxs("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.4)",position:"relative"},children:[b.jsx("div",{style:{position:"absolute",inset:"-3px",background:"linear-gradient(135deg, #a78bfa 0%, #f9a8d4 100%)",borderRadius:"15px",filter:"blur(6px)",opacity:.4}}),b.jsx("div",{style:{position:"relative"},children:b.jsx(c_,{style:{width:"24px",height:"24px",color:"white"}})})]}),b.jsxs("div",{children:[b.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(135deg, #1e40af 0%, #6366f1 50%, #8b5cf6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-0.02em",marginBottom:"4px"},children:"Chat con Documentos"}),b.jsx("p",{style:{fontSize:"14px",color:"#6b7280",fontWeight:"500"},children:n.length>0?`${n.length} documento${n.length!==1?"s":""} seleccionado${n.length!==1?"s":""}`:o.length>0?"Selecciona documentos para empezar":"Sube documentos para empezar"})]})]}),t.length>1&&b.jsxs("div",{style:{background:"linear-gradient(135deg, #fce7f3 0%, #ddd6fe 100%)",padding:"8px 20px",borderRadius:"100px",fontSize:"14px",fontWeight:"700",color:"#7c3aed",border:"2px solid rgba(124, 58, 237, 0.2)",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.15)"},children:[t.length-1," mensaje",t.length!==2?"s":""]})]}),o.length>0&&b.jsxs(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(229, 231, 235, 0.5)",padding:"24px",marginBottom:"24px",borderRadius:"16px",border:"1px solid rgba(0, 0, 0, 0.05)"},children:[b.jsxs("h3",{style:{fontSize:"14px",fontWeight:"700",color:"#374151",marginBottom:"16px",display:"flex",alignItems:"center"},children:[b.jsx("span",{style:{width:"8px",height:"8px",background:"#3b82f6",borderRadius:"50%",marginRight:"12px"}}),"Documentos disponibles",b.jsx("span",{style:{marginLeft:"12px",background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",color:"#1e40af",padding:"4px 12px",borderRadius:"100px",fontSize:"12px",fontWeight:"700",border:"1px solid rgba(59, 130, 246, 0.2)"},children:o.length})]}),b.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:o.map((m,g)=>b.jsx(wt.button,{onClick:()=>h(m.id),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:g*.1},whileHover:{scale:1.02},whileTap:{scale:.98},style:{position:"relative",padding:"12px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",border:"1px solid",backdropFilter:"blur(8px)",cursor:"pointer",background:n.includes(m.id)?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"rgba(255, 255, 255, 0.6)",color:n.includes(m.id)?"white":"#374151",borderColor:n.includes(m.id)?"#667eea":"rgba(229, 231, 235, 0.8)",boxShadow:n.includes(m.id)?"0 8px 24px rgba(102, 126, 234, 0.4)":"0 2px 8px rgba(0, 0, 0, 0.05)"},onMouseEnter:v=>{n.includes(m.id)||(v.currentTarget.style.background="rgba(255, 255, 255, 0.8)",v.currentTarget.style.borderColor="rgba(147, 197, 253, 0.5)")},onMouseLeave:v=>{n.includes(m.id)||(v.currentTarget.style.background="rgba(255, 255, 255, 0.6)",v.currentTarget.style.borderColor="rgba(229, 231, 235, 0.8)")},children:b.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:n.includes(m.id)?"#10b981":"transparent",border:n.includes(m.id)?"2px solid #10b981":"2px solid rgba(156, 163, 175, 0.5)",flexShrink:0}}),b.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"160px"},children:m.name.length>30?`${m.name.substring(0,30)}...`:m.name})]})},m.id))})]}),b.jsxs("div",{style:{flex:1,overflow:"visible",position:"relative",background:"linear-gradient(135deg, rgba(245, 247, 255, 0.4) 0%, rgba(239, 246, 255, 0.3) 50%, rgba(243, 244, 246, 0.3) 100%)",borderRadius:"16px",border:"1px solid rgba(99, 102, 241, 0.06)",backdropFilter:"blur(8px)"},children:[b.jsxs("div",{style:{position:"absolute",inset:0,opacity:.05,pointerEvents:"none"},children:[b.jsx("div",{style:{position:"absolute",top:"40px",right:"40px",width:"128px",height:"128px",background:"radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, rgba(147, 51, 234, 0.4) 100%)",borderRadius:"50%",filter:"blur(60px)"}}),b.jsx("div",{style:{position:"absolute",bottom:"40px",left:"40px",width:"96px",height:"96px",background:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, rgba(124, 58, 237, 0.3) 100%)",borderRadius:"50%",filter:"blur(40px)"}})]}),t.length<=1?b.jsx(f,{}):b.jsxs("div",{style:{position:"relative",zIndex:10,padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[b.jsx(f0,{mode:"popLayout",children:t.slice(1).map((m,g)=>b.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:g*.05},children:b.jsx(fq,{message:m})},m.id))}),e&&b.jsx(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{display:"flex",justifyContent:"flex-start"},children:b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[b.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"16px",background:"linear-gradient(135deg, #6b7280 0%, #3b82f6 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:b.jsx(pd,{style:{width:"20px",height:"20px",color:"white"}})}),b.jsx("div",{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderRadius:"16px",borderBottomLeftRadius:"4px",padding:"16px 24px",border:"1px solid rgba(229, 231, 235, 0.5)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.08)"},children:b.jsxs("div",{style:{display:"flex",gap:"8px"},children:[b.jsx(wt.div,{style:{width:"10px",height:"10px",background:"#3b82f6",borderRadius:"50%"},animate:{y:[0,-8,0]},transition:{duration:.6,repeat:1/0,delay:0}}),b.jsx(wt.div,{style:{width:"10px",height:"10px",background:"#3b82f6",borderRadius:"50%"},animate:{y:[0,-8,0]},transition:{duration:.6,repeat:1/0,delay:.1}}),b.jsx(wt.div,{style:{width:"10px",height:"10px",background:"#3b82f6",borderRadius:"50%"},animate:{y:[0,-8,0]},transition:{duration:.6,repeat:1/0,delay:.2}})]})})]})}),b.jsx("div",{ref:l})]})]}),b.jsx("div",{style:{background:"rgba(248, 250, 252, 0.9)",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(199, 210, 254, 0.3)",borderRadius:"16px",border:"1px solid rgba(99, 102, 241, 0.08)",marginTop:"24px"},children:b.jsx(pq,{})})]})})};class gq extends G.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Error Boundary caught an error:",e,n)}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-orange-50",children:b.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center p-8 max-w-md mx-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[b.jsx(wt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(DR,{className:"text-red-600",size:32})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"¡Oops! Algo salió mal"}),b.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Ha ocurrido un error inesperado en la aplicación. No te preocupes, esto puede suceder ocasionalmente."}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs(wt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:this.handleRetry,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[b.jsx(h_,{size:18}),b.jsx("span",{children:"Intentar de nuevo"})]}),b.jsxs(wt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:this.handleReload,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[b.jsx(h_,{size:18}),b.jsx("span",{children:"Recargar página"})]}),b.jsxs(wt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:this.handleGoHome,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[b.jsx(uR,{size:18}),b.jsx("span",{children:"Ir al inicio"})]})]}),!1,b.jsx("p",{className:"text-xs text-gray-400 mt-6",children:"Si el problema persiste, por favor contacta al soporte técnico."})]})})}):this.props.children}}let yq={data:""},vq=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||yq,xq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wq=/\/\*[^]*?\*\/|  +/g,hb=/\n+/g,Us=(t,e)=>{let n="",r="",i="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?Us(l,o):o+"{"+Us(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=Us(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Us.p?Us.p(o,l):o+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ki={},FC=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+FC(t[n]);return e}return t},_q=(t,e,n,r,i)=>{let o=FC(t),l=Ki[o]||(Ki[o]=(h=>{let f=0,m=11;for(;f<h.length;)m=101*m+h.charCodeAt(f++)>>>0;return"go"+m})(o));if(!Ki[l]){let h=o!==t?t:(f=>{let m,g,v=[{}];for(;m=xq.exec(f.replace(wq,""));)m[4]?v.shift():m[3]?(g=m[3].replace(hb," ").trim(),v.unshift(v[0][g]=v[0][g]||{})):v[0][m[1]]=m[2].replace(hb," ").trim();return v[0]})(t);Ki[l]=Us(i?{["@keyframes "+l]:h}:h,n?"":"."+l)}let u=n&&Ki.g?Ki.g:null;return n&&(Ki.g=Ki[l]),((h,f,m,g)=>{g?f.data=f.data.replace(g,h):f.data.indexOf(h)===-1&&(f.data=m?h+f.data:f.data+h)})(Ki[l],e,r,u),l},Eq=(t,e,n)=>t.reduce((r,i,o)=>{let l=e[o];if(l&&l.call){let u=l(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=h?"."+h:u&&typeof u=="object"?u.props?"":Us(u,""):u===!1?"":u}return r+i+(l??"")},"");function Wf(t){let e=this||{},n=t.call?t(e.p):t;return _q(n.unshift?n.raw?Eq(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,vq(e.target),e.g,e.o,e.k)}let jC,Dy,Ny;Wf.bind({g:1});let ss=Wf.bind({k:1});function Tq(t,e,n,r){Us.p=e,jC=t,Dy=n,Ny=r}function ao(t,e){let n=this||{};return function(){let r=arguments;function i(o,l){let u=Object.assign({},o),h=u.className||i.className;n.p=Object.assign({theme:Dy&&Dy()},u),n.o=/ *go\d+/.test(h),u.className=Wf.apply(n,r)+(h?" "+h:"");let f=t;return t[0]&&(f=u.as||t,delete u.as),Ny&&f[0]&&Ny(u),jC(f,u)}return i}}var bq=t=>typeof t=="function",cf=(t,e)=>bq(t)?t(e):t,Sq=(()=>{let t=0;return()=>(++t).toString()})(),UC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),kq=20,V0="default",zC=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return zC(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},Pd=[],BC={toasts:[],pausedAt:void 0,settings:{toastLimit:kq}},pi={},$C=(t,e=V0)=>{pi[e]=zC(pi[e]||BC,t),Pd.forEach(([n,r])=>{n===e&&r(pi[e])})},qC=t=>Object.keys(pi).forEach(e=>$C(t,e)),Iq=t=>Object.keys(pi).find(e=>pi[e].toasts.some(n=>n.id===t)),Kf=(t=V0)=>e=>{$C(e,t)},Aq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Cq=(t={},e=V0)=>{let[n,r]=G.useState(pi[e]||BC),i=G.useRef(pi[e]);G.useEffect(()=>(i.current!==pi[e]&&r(pi[e]),Pd.push([e,r]),()=>{let l=Pd.findIndex(([u])=>u===e);l>-1&&Pd.splice(l,1)}),[e]);let o=n.toasts.map(l=>{var u,h,f;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((h=t[l.type])==null?void 0:h.duration)||t?.duration||Aq[l.type],style:{...t.style,...(f=t[l.type])==null?void 0:f.style,...l.style}}});return{...n,toasts:o}},Pq=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||Sq()}),Lc=t=>(e,n)=>{let r=Pq(e,t,n);return Kf(r.toasterId||Iq(r.id))({type:2,toast:r}),r.id},Xt=(t,e)=>Lc("blank")(t,e);Xt.error=Lc("error");Xt.success=Lc("success");Xt.loading=Lc("loading");Xt.custom=Lc("custom");Xt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Kf(e)(n):qC(n)};Xt.dismissAll=t=>Xt.dismiss(void 0,t);Xt.remove=(t,e)=>{let n={type:4,toastId:t};e?Kf(e)(n):qC(n)};Xt.removeAll=t=>Xt.remove(void 0,t);Xt.promise=(t,e,n)=>{let r=Xt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?cf(e.success,i):void 0;return o?Xt.success(o,{id:r,...n,...n?.success}):Xt.dismiss(r),i}).catch(i=>{let o=e.error?cf(e.error,i):void 0;o?Xt.error(o,{id:r,...n,...n?.error}):Xt.dismiss(r)}),t};var Rq=1e3,Dq=(t,e="default")=>{let{toasts:n,pausedAt:r}=Cq(t,e),i=G.useRef(new Map).current,o=G.useCallback((g,v=Rq)=>{if(i.has(g))return;let _=setTimeout(()=>{i.delete(g),l({type:4,toastId:g})},v);i.set(g,_)},[]);G.useEffect(()=>{if(r)return;let g=Date.now(),v=n.map(_=>{if(_.duration===1/0)return;let C=(_.duration||0)+_.pauseDuration-(g-_.createdAt);if(C<0){_.visible&&Xt.dismiss(_.id);return}return setTimeout(()=>Xt.dismiss(_.id,e),C)});return()=>{v.forEach(_=>_&&clearTimeout(_))}},[n,r,e]);let l=G.useCallback(Kf(e),[e]),u=G.useCallback(()=>{l({type:5,time:Date.now()})},[l]),h=G.useCallback((g,v)=>{l({type:1,toast:{id:g,height:v}})},[l]),f=G.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=G.useCallback((g,v)=>{let{reverseOrder:_=!1,gutter:C=8,defaultPosition:k}=v||{},N=n.filter(M=>(M.position||k)===(g.position||k)&&M.height),L=N.findIndex(M=>M.id===g.id),B=N.filter((M,Y)=>Y<L&&M.visible).length;return N.filter(M=>M.visible).slice(..._?[B+1]:[0,B]).reduce((M,Y)=>M+(Y.height||0)+C,0)},[n]);return G.useEffect(()=>{n.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let v=i.get(g.id);v&&(clearTimeout(v),i.delete(g.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:h,startPause:u,endPause:f,calculateOffset:m}}},Nq=ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Oq=ss`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Mq=ss`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Lq=ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Oq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Mq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Vq=ss`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Fq=ao("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Vq} 1s linear infinite;
`,jq=ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Uq=ss`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zq=ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Uq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Bq=ao("div")`
  position: absolute;
`,$q=ao("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qq=ss`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Hq=ao("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Wq=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?G.createElement(Hq,null,e):e:n==="blank"?null:G.createElement($q,null,G.createElement(Fq,{...r}),n!=="loading"&&G.createElement(Bq,null,n==="error"?G.createElement(Lq,{...r}):G.createElement(zq,{...r})))},Kq=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Gq=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Qq="0%{opacity:0;} 100%{opacity:1;}",Yq="0%{opacity:1;} 100%{opacity:0;}",Xq=ao("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jq=ao("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Zq=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=UC()?[Qq,Yq]:[Kq(n),Gq(n)];return{animation:e?`${ss(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ss(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eH=G.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Zq(t.position||e||"top-center",t.visible):{opacity:0},o=G.createElement(Wq,{toast:t}),l=G.createElement(Jq,{...t.ariaProps},cf(t.message,t));return G.createElement(Xq,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:l}):G.createElement(G.Fragment,null,o,l))});Tq(G.createElement);var tH=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=G.useCallback(l=>{if(l){let u=()=>{let h=l.getBoundingClientRect().height;r(t,h)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return G.createElement("div",{ref:o,className:e,style:n},i)},nH=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:UC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},rH=Wf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fd=16,iH=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:l,containerClassName:u})=>{let{toasts:h,handlers:f}=Dq(n,o);return G.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:fd,left:fd,right:fd,bottom:fd,pointerEvents:"none",...l},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(m=>{let g=m.position||e,v=f.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),_=nH(g,v);return G.createElement(tH,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?rH:"",style:_},m.type==="custom"?cf(m.message,m):i?i(m):G.createElement(eH,{toast:m,position:g}))}))},sH=Xt;const oH=({t})=>{const e=()=>{switch(t.type){case"success":return b.jsx(Q2,{className:"w-5 h-5 text-green-500"});case"error":return b.jsx(X2,{className:"w-5 h-5 text-red-500"});default:return b.jsx(hR,{className:"w-5 h-5 text-blue-500"})}},n=()=>{switch(t.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";default:return"bg-blue-50 border-blue-200"}};return b.jsx(f0,{children:t.visible&&b.jsxs(wt.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},className:`
            max-w-md w-full ${n()} border rounded-lg shadow-lg p-4
            flex items-center space-x-3
          `,children:[e(),b.jsx("div",{className:"flex-1",children:b.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.message})}),b.jsx("button",{onClick:()=>sH.dismiss(t.id),className:"text-gray-400 hover:text-gray-600 transition-colors",children:b.jsx(VR,{className:"w-4 h-4"})})]})})},aH=()=>b.jsx(iH,{position:"top-right",gutter:8,containerClassName:"",containerStyle:{},toastOptions:{duration:4e3,style:{background:"transparent",boxShadow:"none",padding:0,margin:0},success:{duration:3e3},error:{duration:5e3}},children:t=>b.jsx(oH,{t})}),gg=t=>({"auth/email-already-in-use":"Este correo electrónico ya está registrado","auth/invalid-email":"El correo electrónico no es válido","auth/operation-not-allowed":"Este método de autenticación no está habilitado. Por favor, contacta al administrador.","auth/weak-password":"La contraseña debe tener al menos 6 caracteres","auth/user-disabled":"Esta cuenta ha sido deshabilitada","auth/user-not-found":"No existe una cuenta con este correo electrónico","auth/wrong-password":"Contraseña incorrecta","auth/invalid-credential":"Credenciales inválidas","auth/account-exists-with-different-credential":"Ya existe una cuenta con este correo pero con otro método de inicio de sesión","auth/popup-blocked":"El navegador bloqueó la ventana emergente de inicio de sesión","auth/popup-closed-by-user":"Se cerró la ventana de inicio de sesión antes de completar el proceso","auth/too-many-requests":"Demasiados intentos fallidos. Por favor, intenta más tarde","auth/network-request-failed":"Error de conexión. Por favor, verifica tu conexión a internet","auth/invalid-login-credentials":"Correo o contraseña incorrectos"})[t]||"Ha ocurrido un error. Por favor, intenta de nuevo",lH=({onSuccess:t})=>{const[e,n]=G.useState(!0),[r,i]=G.useState(""),[o,l]=G.useState(""),[u,h]=G.useState(""),[f,m]=G.useState(!1),[g,v]=G.useState(!1),[_,C]=G.useState(""),[k,N]=G.useState(!1),[L,B]=G.useState(!1),M=new Gi;M.setCustomParameters({prompt:"select_account"});const Y=async A=>{A.preventDefault(),C(""),v(!0);try{if(e)await TO(Bs,r,o);else{const S=await EO(Bs,r,o);u&&S.user&&await SO(S.user,{displayName:u})}t()}catch(S){C(gg(S.code))}finally{v(!1)}},ee=async()=>{C(""),v(!0);try{console.log("Iniciando autenticación con Google...");const A=await QO(Bs,M);console.log("Autenticación exitosa:",A.user.email),t()}catch(A){console.error("Error de autenticación con Google:",A),console.error("Código de error:",A.code),console.error("Mensaje:",A.message),A.code==="auth/popup-blocked"?C("El navegador bloqueó la ventana emergente. Por favor, permite las ventanas emergentes para este sitio."):A.code==="auth/cancelled-popup-request"?C("Se canceló el intento de inicio de sesión."):A.code==="auth/popup-closed-by-user"?C("Se cerró la ventana antes de completar el inicio de sesión."):C(gg(A.code))}finally{v(!1)}},H=async A=>{A.preventDefault(),C(""),v(!0);try{await _O(Bs,r),B(!0),setTimeout(()=>{N(!1),B(!1)},5e3)}catch(S){C(gg(S.code))}finally{v(!1)}};return b.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 25%, #e0e7ff 75%, #f3f4f6 100%)",padding:"24px",position:"relative"},children:[b.jsx("div",{style:{position:"absolute",top:"-160px",right:"-160px",width:"320px",height:"320px",background:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, rgba(147, 51, 234, 0.3) 100%)",borderRadius:"50%",filter:"blur(60px)"}}),b.jsx("div",{style:{position:"absolute",bottom:"-160px",left:"-160px",width:"384px",height:"384px",background:"radial-gradient(circle, rgba(6, 182, 212, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%)",borderRadius:"50%",filter:"blur(60px)"}}),b.jsxs("div",{style:{width:"100%",maxWidth:"400px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(24px)",borderRadius:"24px",border:"1px solid rgba(226, 232, 240, 0.4)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"40px",position:"relative",zIndex:10},children:[b.jsx("h2",{style:{fontSize:"28px",fontWeight:"800",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textAlign:"center",marginBottom:"8px"},children:"AI Document Chat"}),b.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"32px",fontSize:"14px"},children:k?"Ingresa tu correo para recuperar tu contraseña":e?"Inicia sesión para acceder a tus documentos":"Crea una cuenta para comenzar"}),L&&b.jsx("div",{style:{padding:"16px",borderRadius:"12px",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.2)",marginBottom:"24px",textAlign:"center"},children:b.jsx("p",{style:{color:"#16a34a",fontSize:"14px",fontWeight:"600",margin:0},children:"¡Correo enviado! Revisa tu bandeja de entrada"})}),b.jsxs("form",{onSubmit:k?H:Y,children:[!e&&!k&&b.jsxs("div",{style:{marginBottom:"20px"},children:[b.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4b5563",marginBottom:"8px"},children:"Nombre"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx(Vy,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),b.jsx("input",{type:"text",value:u,onChange:A=>h(A.target.value),style:{width:"100%",padding:"12px 12px 12px 44px",borderRadius:"12px",border:"1px solid rgba(226, 232, 240, 0.5)",background:"rgba(255, 255, 255, 0.8)",fontSize:"16px",transition:"all 0.3s ease",outline:"none"},placeholder:"Tu nombre completo"})]})]}),b.jsxs("div",{style:{marginBottom:"20px"},children:[b.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4b5563",marginBottom:"8px"},children:"Correo electrónico"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx(yR,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),b.jsx("input",{type:"email",value:r,onChange:A=>i(A.target.value),required:!0,style:{width:"100%",padding:"12px 12px 12px 44px",borderRadius:"12px",border:"1px solid rgba(226, 232, 240, 0.5)",background:"rgba(255, 255, 255, 0.8)",fontSize:"16px",transition:"all 0.3s ease",outline:"none"},placeholder:"tu@email.com"})]})]}),!k&&b.jsxs("div",{style:{marginBottom:"24px"},children:[b.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4b5563",marginBottom:"8px"},children:"Contraseña"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx(fR,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),b.jsx("input",{type:f?"text":"password",value:o,onChange:A=>l(A.target.value),required:!0,style:{width:"100%",padding:"12px 44px",borderRadius:"12px",border:"1px solid rgba(226, 232, 240, 0.5)",background:"rgba(255, 255, 255, 0.8)",fontSize:"16px",transition:"all 0.3s ease",outline:"none"},placeholder:"••••••••"}),b.jsx("button",{type:"button",onClick:()=>m(!f),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",color:"#9ca3af"},children:f?b.jsx(rR,{size:20}):b.jsx(sR,{size:20})})]}),e&&b.jsx("button",{type:"button",onClick:()=>{N(!0),C("")},style:{background:"none",border:"none",color:"#667eea",fontSize:"13px",cursor:"pointer",textDecoration:"underline",marginTop:"8px"},children:"¿Olvidaste tu contraseña?"})]}),_&&b.jsx("div",{style:{padding:"12px",borderRadius:"8px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#dc2626",fontSize:"14px",marginBottom:"20px"},children:_}),b.jsx("button",{type:"submit",disabled:g,style:{width:"100%",padding:"14px",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",fontSize:"16px",fontWeight:"600",cursor:g?"not-allowed":"pointer",opacity:g?.7:1,transition:"box-shadow 0.3s ease, opacity 0.3s ease",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)",position:"relative"},onMouseEnter:A=>{g||(A.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.5)")},onMouseLeave:A=>{A.currentTarget.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.3)"},children:g?"Procesando...":k?"Enviar correo de recuperación":e?"Iniciar Sesión":"Crear Cuenta"})]}),k?b.jsx("button",{type:"button",onClick:()=>{N(!1),C(""),B(!1)},style:{width:"100%",marginTop:"16px",background:"none",border:"none",color:"#667eea",fontSize:"14px",fontWeight:"600",cursor:"pointer",textDecoration:"underline"},children:"Volver al inicio de sesión"}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{margin:"24px 0",textAlign:"center",position:"relative"},children:[b.jsx("div",{style:{position:"absolute",top:"50%",left:"0",right:"0",height:"1px",background:"rgba(226, 232, 240, 0.5)"}}),b.jsx("span",{style:{background:"rgba(255, 255, 255, 0.95)",padding:"0 16px",position:"relative",color:"#9ca3af",fontSize:"14px"},children:"o continúa con"})]}),b.jsxs("button",{type:"button",onClick:ee,disabled:g,style:{width:"100%",padding:"14px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.8)",color:"#4b5563",border:"1px solid rgba(226, 232, 240, 0.5)",fontSize:"16px",fontWeight:"600",cursor:g?"not-allowed":"pointer",opacity:g?.7:1,transition:"background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",position:"relative"},onMouseEnter:A=>{g||(A.currentTarget.style.background="rgba(255, 255, 255, 0.95)",A.currentTarget.style.borderColor="rgba(99, 102, 241, 0.3)",A.currentTarget.style.boxShadow="0 2px 8px rgba(99, 102, 241, 0.15)")},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.8)",A.currentTarget.style.borderColor="rgba(226, 232, 240, 0.5)",A.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.05)"},children:[b.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),b.jsxs("p",{style:{textAlign:"center",marginTop:"24px",fontSize:"14px",color:"#6b7280"},children:[e?"¿No tienes cuenta?":"¿Ya tienes cuenta?"," ",b.jsx("button",{type:"button",onClick:()=>{n(!e),C("")},style:{background:"none",border:"none",color:"#667eea",fontWeight:"600",cursor:"pointer",textDecoration:"underline"},children:e?"Regístrate":"Inicia sesión"})]})]})]})]})},uH=new O2({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}}});function cH(){const[t,e]=G.useState("documents"),{user:n,loading:r}=dI();return r?b.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 25%, #e0e7ff 75%, #f3f4f6 100%)"},children:b.jsx("div",{style:{fontSize:"18px",color:"#667eea",fontWeight:"600"},children:"Cargando..."})}):n?b.jsx(gq,{children:b.jsxs(M2,{client:uH,children:[b.jsxs("div",{style:{height:"100vh",position:"relative",overflow:"hidden",paddingBottom:"80px"},children:[b.jsxs("div",{style:{position:"absolute",inset:"0",overflow:"hidden",pointerEvents:"none"},children:[b.jsx("div",{style:{position:"absolute",top:"-160px",right:"-160px",width:"320px",height:"320px",background:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, rgba(147, 51, 234, 0.3) 100%)",borderRadius:"50%",filter:"blur(60px)"}}),b.jsx("div",{style:{position:"absolute",bottom:"-160px",left:"-160px",width:"384px",height:"384px",background:"radial-gradient(circle, rgba(6, 182, 212, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%)",borderRadius:"50%",filter:"blur(60px)"}})]}),b.jsx(Q5,{}),b.jsx("main",{style:{position:"relative",zIndex:10,padding:"24px 24px 0 24px"},children:t==="documents"?b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"400px 1fr",gap:"32px",height:"calc(100vh - 154px)",minHeight:"576px"},children:[b.jsx("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:b.jsx(Mz,{})}),b.jsx("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:b.jsx(Fz,{})})]}):b.jsx("div",{style:{height:"calc(100vh - 154px)",minHeight:"576px"},children:b.jsx(mq,{})})}),b.jsxs("div",{style:{position:"fixed",bottom:"0",left:"0",right:"0",height:"80px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(249, 250, 251, 0.95) 100%)",backdropFilter:"blur(20px)",borderTop:"1px solid rgba(0, 0, 0, 0.08)",display:"flex",alignItems:"center",justifyContent:"center",gap:"24px",zIndex:50,boxShadow:"0 -10px 30px rgba(0, 0, 0, 0.1)"},children:[b.jsxs("button",{onClick:()=>e("documents"),style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px 32px",borderRadius:"16px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"700",transition:"all 0.3s ease",background:t==="documents"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"transparent",color:t==="documents"?"white":"#6b7280",boxShadow:t==="documents"?"0 8px 24px rgba(102, 126, 234, 0.4)":"none"},onMouseEnter:i=>{t!=="documents"&&(i.currentTarget.style.background="rgba(102, 126, 234, 0.1)",i.currentTarget.style.color="#667eea")},onMouseLeave:i=>{t!=="documents"&&(i.currentTarget.style.background="transparent",i.currentTarget.style.color="#6b7280")},children:[b.jsx(Yu,{size:20}),"Documentos"]}),b.jsxs("button",{onClick:()=>e("chat"),style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px 32px",borderRadius:"16px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"700",transition:"all 0.3s ease",background:t==="chat"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"transparent",color:t==="chat"?"white":"#6b7280",boxShadow:t==="chat"?"0 8px 24px rgba(102, 126, 234, 0.4)":"none"},onMouseEnter:i=>{t!=="chat"&&(i.currentTarget.style.background="rgba(102, 126, 234, 0.1)",i.currentTarget.style.color="#667eea")},onMouseLeave:i=>{t!=="chat"&&(i.currentTarget.style.background="transparent",i.currentTarget.style.color="#6b7280")},children:[b.jsx(xR,{size:20}),"Chat"]})]})]}),b.jsx(aH,{})]})}):b.jsx(lH,{onSuccess:()=>{}})}function hH(){return b.jsx(G5,{children:b.jsx(cH,{})})}o2.createRoot(document.getElementById("root")).render(b.jsx(Fr.StrictMode,{children:b.jsx(hH,{})}));
